{"version":3,"sources":["webpack:///./node_modules/jexcel/dist/jexcel.js","webpack:///../../../src/components/VFileInput/VFileInput.ts","webpack:///../../../src/components/VTextField/index.ts","webpack:///../../../src/components/VMenu/index.ts","webpack:///../../../src/components/VChip/index.ts","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/jsuites/dist/jsuites.js","webpack:///./src/views/BaseDatos.vue?6c62","webpack:///src/views/BaseDatos.vue","webpack:///./src/views/BaseDatos.vue?3fb2","webpack:///../../../src/components/VSlideGroup/VSlideGroup.ts","webpack:///../../../src/components/VChipGroup/VChipGroup.ts","webpack:///./src/views/BaseDatos.vue","webpack:///./src/views/Fisicos.vue?cb53","webpack:///../../../src/components/VDivider/index.ts","webpack:///../../../src/components/VChip/VChip.ts","webpack:///./src/views/Teoricos.vue?6dd8","webpack:///./src/views/Fisicos.vue?167d","webpack:///src/views/Fisicos.vue","webpack:///./src/views/Fisicos.vue?74e2","webpack:///./src/views/Fisicos.vue","webpack:///./src/views/Teoricos.vue?12fb","webpack:///src/views/Teoricos.vue","webpack:///./src/views/Teoricos.vue?6b0e","webpack:///../../../src/components/VCheckbox/VSimpleCheckbox.ts","webpack:///../../../src/components/VSubheader/VSubheader.ts","webpack:///../../../src/components/VSubheader/index.ts","webpack:///../../../src/components/VSelect/VSelectList.ts","webpack:///../../../src/mixins/comparable/index.ts","webpack:///../../../src/mixins/filterable/index.ts","webpack:///../../../src/components/VSelect/VSelect.ts","webpack:///./src/views/Teoricos.vue","webpack:///./src/views/About.vue?1829","webpack:///./src/views/About.vue"],"names":["jSuites","global","factory","module","exports","this","jexcel","el","options","obj","Element","HTMLDocument","console","error","defaults","url","data","copyCompatibility","rows","columns","colHeaders","colWidths","colAlignments","nestedHeaders","defaultColWidth","defaultColAlign","minSpareRows","minSpareCols","minDimensions","allowExport","includeHeadersOnDownload","columnSorting","columnDrag","columnResize","rowResize","rowDrag","editable","allowInsertRow","allowManualInsertRow","allowInsertColumn","allowManualInsertColumn","allowDeleteRow","allowDeletingAllRows","allowDeleteColumn","allowRenameColumn","allowComments","wordWrap","imageOptions","csv","csvFileName","csvHeaders","csvDelimiter","selectionCopy","mergeCells","toolbar","search","pagination","paginationOptions","fullscreen","lazyLoading","loadingSpin","tableOverflow","tableHeight","tableWidth","meta","style","parseFormulas","autoIncrement","autoCasting","onundo","onredo","onload","onchange","onbeforechange","onafterchanges","onbeforeinsertrow","oninsertrow","onbeforeinsertcolumn","oninsertcolumn","onbeforedeleterow","ondeleterow","onbeforedeletecolumn","ondeletecolumn","onmoverow","onmovecolumn","onresizerow","onresizecolumn","onsort","onselection","onpaste","onbeforepaste","onmerge","onfocus","onblur","onchangeheader","oneditionstart","oneditionend","onchangestyle","onchangemeta","onchangepage","updateTable","detachForUpdates","text","noRecordsFound","showingPage","show","entries","columnName","insertANewColumnBefore","insertANewColumnAfter","deleteSelectedColumns","renameThisColumn","orderAscending","orderDescending","insertANewRowBefore","insertANewRowAfter","deleteSelectedRows","editComments","addComments","comments","clearComments","copy","paste","saveAs","about","areYouSureToDeleteTheSelectedRows","areYouSureToDeleteTheSelectedColumns","thisActionWillDestroyAnyExistingMergedCellsAreYouSure","thisActionWillClearYourSearchResultsAreYouSure","thereIsAConflictWithAnotherMergedCell","invalidMergeProperties","cellAlreadyMerged","noCellsSelected","property","hasOwnProperty","textKey","corner","contextMenu","textarea","ads","content","table","thead","tbody","results","searchInput","pageNumber","headerContainer","colgroupContainer","headers","records","history","formula","colgroup","selection","highlighted","selectedCell","selectedContainer","cursor","historyIndex","ignoreEvents","ignoreHistory","edition","hashString","resizing","dragging","activate","classList","add","remove","prepareTable","size","length","keys","Object","multiple","i","type","name","source","editor","allowEmpty","title","width","align","push","ajax","index","method","dataType","success","complete","createTable","format","document","createElement","searchContainer","searchText","createTextNode","appendChild","resetSelection","paginationUpdateContainer","paginationDropdown","parseInt","value","page","temp","innerHTML","filter","tempCol","setAttribute","j","createNestedHeader","createCellHeader","className","display","id","tabIndex","contextmenu","onclick","close","sessionStorage","getItem","setItem","img","src","span","container","paginationInfo","paginationPages","createToolbar","maxHeight","setData","setStyle","refresh","loading","result","hide","JSON","parse","row","size_i","size_j","min_i","min_j","max_i","max_j","undefined","startNumber","finalNumber","tr","createRow","updatePagination","num","setMerge","getData","dataOnly","dataset","px","py","x","y","contains","getJson","getRowData","rowNumber","setRowData","getColumnNameFromId","setValue","getColumnData","columnNumber","setColumnData","colNumber","height","td","createCell","element","checked","readOnly","formatted","calendar","extractDateFromString","getDateString","getDropDownValue","render","color","backgroundColor","substr","executeFormula","mask","decimal","run","colAlign","textAlign","whiteSpace","overflow","colWidth","getColumnName","nestedInformation","headerIndex","colspan","numberOfColumns","column","join","toolbarItem","k","v","tooltip","getAttribute","toolbarDropdownOption","open","o","cellName","rowspan","ignoreHistoryAndEvents","test","alert","x1","y1","x2","y2","cell","getIdFromColumnName","updateCell","updateSelection","setHistory","action","getMerge","removeMerge","keepOptions","removeAttribute","info","destroyMerged","isColMerged","insertBefore","cols","isRowMerged","openEditor","empty","e","createEditor","getBoundingClientRect","minHeight","children","autocomplete","opened","split","position","onclose","closeEditor","dropdown","focus","div","image","rect","rectContent","window","innerHeight","bottom","top","save","tagName","getCell","getCellFromCoords","getLabel","getLabelFromCoords","getValue","processedValue","getValueFromCoords","force","columnId","updateFormulaChain","setValueFromCoords","setCheckRadioValue","val","record","col","newValue","oldValue","copyData","d","h","breakControl","posx","posy","tokens","match","affectedTokens","token","updateFormula","Number","date","Date","setDate","getDate","getFullYear","doubleDigitFormat","getMonth","refreshSelection","updateSelectionFromCoords","conditionalSelectionUpdate","blur","previousStatus","ux","uy","left","el1","el2","origin","previousState","borderLeft","borderRight","borderTop","borderBottom","updateCornerPosition","removeCopySelection","updateCopySelection","x3","y3","last","contentRect","lastRect","w2","h2","scrollLeft","scrollTop","updateScroll","direction","w1","h1","reference","referenceRect","getWidth","$","setWidth","oldWidth","setHeight","oldHeight","getHeight","getHeader","innerText","setHeader","prompt","getHeaders","asArray","getMeta","key","setMeta","prop","updateMeta","affectedCells","newMeta","getStyle","resetStyle","applyStyle","cellId","currentValue","oneApplication","trim","getComments","withAuthor","setComments","author","getConfig","orderBy","order","confirm","Array","prototype","p","slice","sort","a","b","valueA","toLowerCase","valueB","updateOrderArrow","updateOrder","updateTableReferences","loadPage","moveRow","ignoreDom","resetSearch","indexOf","call","nextSibling","removeChild","splice","insertRow","mixed","numOfRows","lastRow","log","rowIndex","currentRecords","currentData","currentRows","rowRecords","rowData","rowNode","apply","deleteRow","number","getSelectedRows","mergeExists","parentNode","moveColumn","insertColumn","properties","numOfColumns","lastColumn","columnIndex","injectArray","currentHeaders","currentColgroup","historyHeaders","historyColgroup","historyRecords","historyData","currentRecord","deleteColumn","getSelectedColumns","asIds","getHighlighted","mergeCellUpdates","updatePosition","columnIdFrom","columnIdTo","totalX","totalY","updateFormulas","numBlankRows","numBlankCols","setTimeout","showColumn","hideColumn","showIndex","hideIndex","chainLoopProtection","referencesToUpdate","newFormula","letter","testLetter","testNumber","exec","expression","formulaResults","formulaLoopProtection","execute","parentId","tokensUpdate","f","e1","e2","replace","evalstring","eval","parseNumber","res","up","shiftKey","ctrlKey","visible","loadValidation","item","firstChild","loadUp","whichPage","group","get","down","lastChild","loadDown","right","first","selectAll","quantityPerPage","Math","ceil","startRow","finalRow","currentPage","selectedPage","totalPages","query","addToResult","total","oldPage","quantyOfPages","paginationItem","args","arguments","download","includeHeaders","blob","Blob","navigator","msSaveOrOpenBlob","pom","URL","createObjectURL","href","body","click","changes","delimiter","returnData","colLabel","rowLabel","tmp","RegExp","label","str","strLabel","select","execCommand","hash","parseCSV","newStyle","oldStyle","styleIndex","colIndex","historyProcessRow","historyRecord","historyProcessColumn","undo","redo","combo","charCodeAt","arr","quote","c","cc","nc","chr","destroy","init","current","build","newData","shift","items","comment","shortcut","clipboard","readText","then","scrollControls","timeControlLoading","clientHeight","scrollHeight","target","addEventListener","timeControl","destroyEventHandlers","removeEventListener","keyDownControls","mouseUpControls","mouseDownControls","mouseMoveControls","mouseOverControls","doubleClickControls","pasteControls","contextMenuControls","touchStartControls","touchEndControls","which","preventDefault","altKey","editorTextarea","editorValue","editorIndexOf","selectionStart","selectionEnd","selectedRow","selectedHeader","metaKey","rowId","keyCode","String","fromCharCode","validLetter","cutControls","copyControls","clearTimeout","isMouseAction","event","buttons","mouseButton","button","jexcelTable","getElement","selectedCorner","offsetX","mousePosition","pageX","offsetY","destination","c1","c2","pageY","clientWidth","getCellCoords","newWidth","newHeight","tempWidth","tempHeight","clientX","clientY","enabled","clipboardData","tmpElement","createTabs","tabs","spreadsheet","link","sheetName","fromSpreadsheet","file","__callback","oReq","convert","workbook","spreadsheets","SheetNames","forEach","Sheets","wpx","hpx","s","r","max_x","max_y","w","fgColor","rgb","numColumns","XMLHttpRequest","Uint8Array","responseType","arraybuffer","response","wb","XLSX","read","cellFormula","cellStyles","setRequestHeader","onreadystatechange","readyState","status","ff","convertResponseBodyToText","responseBody","send","regex","idx","concat","t","code","pow","isArray","jexcelSection","jexcelElement","path","fn","spreadsheetContainer","jQuery","nil","Error","div0","ref","na","utils","array","reduce","aIsArray","bIsArray","argsToArray","isFlat","flattenShallow","arrayEach","possibleNumbers","flatten","power","round","bool","toUpperCase","isNaN","string","parseFloat","len","parsed","matrix","pnarr","parseNumberArray","d1900","UTC","parseDate","getTime","parseDateArray","anyIsError","n","arrayValuesToNumbers","rest","initial","iteratee","transpose","map","methods","datetime","WEEK_TYPES","serial","addOn","DATE","year","month","day","DATEVALUE","date_text","DAY","serial_number","DAYS","end_date","start_date","DAYS360","EDATE","months","setMonth","EOMONTH","HOUR","getHours","INTERVAL","second","floor","hour","min","sec","ISOWEEKNUM","setHours","getDay","yearStart","MINUTE","getMinutes","MONTH","NETWORKDAYS","holidays","INTL","weekend","NOW","SECOND","getSeconds","TIME","minute","TIMEVALUE","time_text","TODAY","WEEKDAY","return_type","WEEKNUM","WORKDAY","days","YEAR","YEARFRAC","basis","database","compact","findResultIndex","criterias","matches","maxCriteriaLength","l","currentCriteriaResult","hasMatchingCriteria","criteria","criteriaField","FINDFIELD","DAVERAGE","field","resultIndexes","targetFields","sum","DCOUNT","DCOUNTA","DGET","DMAX","maxValue","DMIN","minValue","DPRODUCT","targetValues","DSTDEV","DSTDEVP","DSUM","DVAR","DVARP","MATCH","lookupValue","lookupArray","matchType","indexValue","engineering","isValidBinaryNumber","BESSELI","BESSELJ","BESSELK","BESSELY","BIN2DEC","stringified","toString","substring","BIN2HEX","places","REPT","BIN2OCT","BITAND","number1","number2","BITLSHIFT","abs","BITOR","BITRSHIFT","BITXOR","COMPLEX","real","imaginary","suffix","sign","CONVERT","from_unit","to_unit","alt","units","binary_prefixes","Yi","Zi","Ei","Pi","Ti","Gi","Mi","ki","unit_prefixes","Y","Z","E","P","T","G","M","m","u","z","from","to","base_from_unit","base_to_unit","from_multiplier","to_multiplier","from_binary_prefix","from_unit_prefix","to_binary_prefix","to_unit_prefix","DEC2BIN","DEC2HEX","DEC2OCT","DELTA","ERF","lower_bound","upper_bound","PRECISE","ERFC","GESTEP","step","HEX2BIN","negative","HEX2DEC","HEX2OCT","IMABS","inumber","IMREAL","IMAGINARY","sqrt","plus","minus","unit","IMARGUMENT","PI","atan","IMCONJUGATE","IMCOS","cos","exp","sin","IMCOSH","IMCOT","IMDIV","IMSIN","inumber1","inumber2","unit1","unit2","den","IMEXP","IMLN","IMLOG10","IMLOG2","IMPOWER","IMPRODUCT","IMSEC","IMSECH","IMSINH","IMSQRT","IMCSC","IMCSCH","IMSUB","IMSUM","IMTAN","OCT2BIN","OCT2DEC","OCT2HEX","financial","validDate","ensureDate","ACCRINT","issue","settlement","rate","par","frequency","ACCRINTM","AMORDEGRC","AMORLINC","COUPDAYBS","COUPDAYS","COUPDAYSNC","COUPNCD","COUPNUM","COUPPCD","CUMIPMT","periods","start","end","payment","PMT","interest","FV","CUMPRINC","principal","DB","cost","salvage","life","period","toFixed","ceiling","DDB","factor","DISC","DOLLARDE","dollar","fraction","LN10","LN2","DOLLARFR","DURATION","EFFECT","term","FVSCHEDULE","schedule","future","INTRATE","IPMT","present","IRR","values","guess","irrResult","dates","irrResultDeriv","frac","positive","newRate","epsRate","resultValue","resultRate","epsMax","contLoop","ISPMT","MDURATION","MIRR","finance_rate","reinvest_rate","payments","incomes","NPV","NOMINAL","NPER","ODDFPRICE","ODDFYIELD","ODDLPRICE","ODDLYIELD","PDURATION","PPMT","PRICE","PRICEDISC","PRICEMAT","PV","RATE","iterMax","iter","t1","t2","f1","f2","f3","NaN","RECEIVED","RRI","SLN","SYD","TBILLEQ","maturity","discount","TBILLPRICE","TBILLYIELD","price","VDB","XIRR","XNPV","YIELD","YIELDDISC","YIELDMAT","information","ERROR","TYPE","error_val","INFO","ISBLANK","ISBINARY","ISERR","isFinite","ISERROR","ISEVEN","ISFORMULA","ISLOGICAL","ISNA","ISNONTEXT","ISNUMBER","ISODD","ISREF","ISTEXT","N","NA","SHEET","SHEETS","logical","then_value","otherwise_value","valueIfError","value_if_na","targetValue","argc","switchCount","switchSatisfied","defaultClause","math","acos","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I","asin","number_x","number_y","atan2","radix","min_length","max","significance","mode","CEILING","MATH","COMBIN","number_chosen","FACT","COMBINA","COS","COSH","COT","tan","COTH","CSC","CSCH","DECIMAL","DEGREES","EVEN","EXP","MEMOIZED_FACT","FACTDOUBLE","FLOOR","GCD","INT","LCM","pop","LN","LOG","base","LOG10","MDETERM","MINVERSE","MMULT","MOD","dividend","divisor","modulus","MROUND","MULTINOMIAL","MUNIT","ODD","POWER","PRODUCT","QUOTIENT","numerator","denominator","RADIANS","RAND","random","RANDBETWEEN","ROMAN","ROUND","digits","ROUNDDOWN","ROUNDUP","SEC","SECH","SERIESSUM","coefficients","SIGN","SIN","SINH","SQRT","SQRTPI","SUBTOTAL","ADD","num1","num2","MINUS","DIVIDE","MULTIPLY","factor1","factor2","GTE","LT","LTE","EQ","value1","value2","NE","POW","exponent","SUM","argsKeys","elt","SUMIF","range","SUMIFS","n_range_elements","n_criterias","condition","SUMPRODUCT","SUMSQ","numbers","SUMX2MY2","array_x","array_y","SUMX2PY2","SUMXMY2","TAN","TANH","TRUNC","misc","hasElement","FLATTEN","ARGS2ARRAY","REFERENCE","context","opening","JOIN","separator","NUMBERS","NUMERAL","re","trueFound","falseFound","text1","text2","find_text","within_text","line","begin","txt","charAt","regular_expression","full","replacement","new_text","foundAt","old_text","occurrence","UNICHAR","CHAR","UNICODE","CODE","UPPER","VALUE","stats","SQRT2PI","AVEDEV","AVERAGE","count","AVERAGEA","AVERAGEIF","average_range","average_count","AVERAGEIFS","COUNT","COUNTA","COUNTBLANK","COUNTIN","blanks","COUNTIF","COUNTIFS","COUNTUNIQUE","UNIQUE","FISHER","FISHERINV","e2y","FREQUENCY","bins","LARGE","MAX","MAXA","MIN","MINA","MODE","MULT","currentItem","maxItems","SNGL","PERCENTILE","EXC","fl","cleanFloat","INC","PERCENTRANK","uniques","PERMUT","PERMUTATIONA","PHI","PROB","probability","lower","upper","sorted","QUARTILE","quart","RANK","AVG","RSQ","data_x","data_y","PEARSON","SMALL","STANDARDIZE","mean","sd","STDEV","VAR","S","STDEVA","VARA","STDEVPA","VARPA","sigma","WEIBULL","DIST","alpha","beta","cumulative","TEST","NORM","VTextField","extend","model","props","chips","Boolean","clearable","default","counterSizeString","counterString","hideInput","placeholder","prependIcon","readonly","showSize","validator","includes","smallChips","truncateLength","wrapInArray","every","_typeof","computed","classes","_objectSpread","computedCounterValue","fileCount","isMultiple","lazyValue","File","$vuetify","lang","bytes","internalArrayValue","_ref","_ref$size","humanReadableFileSize","internalValue","set","$emit","isDirty","isLabelActive","$attrs","_this","_file$name","_file$size","truncatedText","truncateText","hasChips","watch","handler","consoleError","immediate","deepEqual","$refs","input","files","clearableCallback","genChips","_this2","$createElement","VChip","small","on","genControl","mergeStyles","genInput","domProps","change","onInput","genSelections","genPrependSlot","_this3","icon","genIcon","genSlot","genSelectionText","counter","_this4","$scopedSlots","staticClass","class","genTextFieldSlot","_this5","node","_toConsumableArray","initialValue","onKeyDown","charsKeepOneSide","VMenu","strong","validate","SET","def","app","querySelector","modules","querySelectorAll","guid","documentElement","g","getElementsByTagName","innerWidth","changedTouches","evt","MouseEvent","bubbles","cancelable","view","dispatchEvent","foundElement","targetElement","formObject","ret","elements","http","extension","lastIndexOf","cover","encodeURIComponent","httpRequest","cache","withCredentials","beforeSend","responseText","err","requests","slideLeft","done","slideRight","slideTop","slideBottom","fadeIn","fadeOut","nodes","slider","dialog","onconfirm","actionUpControl","getLinkElement","back","panel","pages","controlSwipeLeft","scrollTo","behavior","prev","controlSwipeRight","next","actionOverControl","actionOutControl","onpopstate","state","route","validRange","startingDay","today","time","resetButton","weekdays","weekdays_short","two","calendarReset","calendarConfirm","calendarControls","calendarContainer","calendarContent","calendarTableContainer","calendarHeaderPrev","calendarLabelYear","calendarLabelMonth","calendarHeaderTitle","calendarHeaderNext","calendarHeaderRow","calendarHeader","calendarBody","calendarFooter","calendarTable","calendarSelectHour","calendarSelectMin","calendarControlsFooter","calendarControlsTime","maxWidth","calendarControlsUpdateButton","calendarControlsUpdate","flexGrow","calendarBackdrop","updateActions","currentDay","getDays","getWindowWidth","update","getYears","setLabel","reset","isCurrentMonthAndYear","numberOfDays","firstDay","emptyRow","fontWeight","now","test1","test2","getMonths","html","fromFormatted","stopPropagation","keyUpControls","prettify","texts","justNow","xMinutesAgo","xHoursAgo","xDaysAgo","xWeeksAgo","xMonthsAgo","xYearsAgo","d1","d2","prettifyAll","dateOnly","v1","v2","weekday","isOpen","closeOnChange","palette","colors","shade","backdrop","closeButton","selected","create","itemContainer","itemText","disabled","itemShortCut","foundId","dialogHeader","dialogTitle","dialogMessage","dialogFooter","dialogContainer","dialogConfirm","dialogConfirmButton","confirmLabel","dialogCancel","dialogCancelButton","cancelLabel","oncancel","message","opacity","extractFromDom","onopen","groups","minWidth","containerHeader","header","keyTimer","find","getUrl","setUrl","createItem","textLowerCase","groupNames","groupName","groupArrow","groupContent","getText","updateLabel","selectIndex","oldLabel","currentIndex","indexToRemove","resetSelected","newLabel","selectItem","updateCursor","rectContainer","resetCursor","offsetTop","clientTop","firstVisible","newIndex","hasEvents","mouseup","onkeydown","offsetWidth","snippet","remoteParser","youtubeKey","userSearch","parseURL","dropZone","dropAsAttachment","acceptImages","acceptFiles","maxFileSize","border","padding","onenter","onkeyup","editorTimer","editorAction","overflowY","extractImageFromHtml","addImage","insertNodeAtCaret","newNode","sel","getSelection","rangeCount","getRangeAt","deleteContents","insertNode","setStartAfter","setEndAfter","removeAllRanges","addRange","appendElement","description","host","verifyEditor","thumbsContainer","detectUrl","getDomain","location","hostname","importImage","youtubeParser","getYoutube","getWebsite","parseContent","thumbnails","medium","encodeURI","json","tagged","users","userId","stringify","addPdf","canvas","Image","ctx","getContext","drawImage","toBlob","newImage","toDataURL","addFile","reader","FileReader","lastModified","readAsDataURL","editorMouseUp","editorMouseDown","editorMouseMove","editorKeyUp","editorKeyDown","editorDragStart","editorDragEnter","editorDragOver","editorDrop","editorPaste","editorBlur","editorFocus","removeRange","originalEvent","nodeName","caretRangeFromPoint","rangeParent","createRange","setStart","rangeOffset","anchorNode","dataTransfer","getDefaultToolbar","userSelect","itemIcon","setCursor","startContainer","endContainer","setEnd","links","regExp","queryCommandState","singleFile","extensionNotAllowed","imageTooSmall","lastmodified","addImages","addFromFile","imageFile","srcElement","extentionNotAllowed","addFromUrl","attachmentInput","login","prepareRequest","accessToken","deviceToken","facebookUrl","facebookAuthentication","onsuccess","onerror","logo","newProfile","newProfileUrl","newProfileLogin","newPasswordValidation","messageElement","divLogo","labelCode","inputCode","divCode","inputHash","divHash","inputRecovery","divRecovery","labelLogin","inputLogin","divLogin","labelName","inputName","divName","labelUsername","inputUsername","divUsername","labelPassword","inputPassword","divPassword","labelRepeatPassword","inputRepeatPassword","divRepeatPassword","labelRemember","inputRemember","divRememberButton","actionButton","divActionButton","cancelButton","requestAccess","divCancelButton","labelCaptcha","inputCaptcha","imageCaptcha","divCaptcha","facebookButton","divFacebookButton","requestLoginViaFacebook","inputRequest","divRequestButton","requestNewPassword","inputNewProfile","divNewProfileButton","showMessage","captcha","codeConfirmation","changeMyPassword","localStorage","FB","getLoginStatus","authResponse","scope","jDestroy","fbLogin","jStart","jError","jExit","pattern","getFormElements","password","sha512","queryString","int64","msint_32","lsint_32","highOrder","lowOrder","T1","T2","H","K","W","charsize","utf8_encode","unescape","str2binb","bin","binb2hex","binarray","srcByte","hex_tab","safe_add_2","lsw","msw","safe_add_4","safe_add_5","maj","ch","rotr","sigma0","rotr28","rotr34","rotr39","sigma1","rotr14","rotr18","rotr41","gamma0","rotr1","rotr8","shr7","shr","gamma1","rotr19","rotr61","shr6","strlen","pieces","valueDecimal","prepare","process","fromKeyCode","reverse","_to_ascii","shiftUps","mobile","createPage","callback","onpush","script","setTitle","closed","showPage","onleave","pushState","routePath","getContainer","toolbarContent","setBadge","toolbarIcon","toolbarBadge","toolbarBadgeContent","badge","toolbarTitle","actionsheet","actionContent","actionGroup","actionItem","actionInput","mouseUp","modal","resetPosition","notification","timeout","autoHide","closeable","notificationContainer","notificationHeader","notificationImage","notificationIcon","notificationName","notificationClose","notificationDate","notificationContent","notificationTitle","notificationMessage","rating","previousSibling","currentImage","addFiles","getFiles","allowAttachment","attachmentIcon","longTouchTimer","mouseDown","sorting","allowCreate","oncreate","animation","autoName","prefixName","hideHeaders","setBorder","headersItem","contentItem","tags","limit","limitMessage","validation","searchTerms","searchIndex","searchTimer","getSelectionStart","caret","extractTags","isValid","terms","nodeValue","tagsMouseUp","tagsKeyDown","tagsKeyUp","tagsPaste","tagsFocus","tagsBlur","collapse","nodeType","word","anchorOffset","tracker","ignore","currentHash","submitButton","onbeforesave","onsave","load","getElements","validateElement","emailChecker","addError","delError","getError","setHash","getHash","isChanged","resetTracker","setIgnore","ignoreFlag","confirmationMessage","returnValue","_vm","_h","_c","_self","attrs","slot","_v","staticStyle","fileRules","submitFile","$$v","fileExcel","_s","$store","archivo","archivoSize","archivoTipo","archivoUltimaFecha","archivoRegistros","overlay","colorSnack","snackbar","msgSanck","$event","staticRenderFns","components","fixedHeader","dense","hayErroresFile","errorFileBase64","dbCargada","arrNombre","ext","lastModifiedDate","readAsBinaryString","excel64","firstSheet","myFunction","arrItem","ID","sheet_to_row_object_array","BaseSlideGroup","mixins","BaseItemGroup","Mobile","directives","Resize","Touch","activeClass","centerActive","nextIcon","prevIcon","showArrows","internalItemsLength","isOverflowing","resizeTimeout","startX","scrollOffset","widths","wrapper","__cachedNext","genTransition","__cachedPrev","hasAffixes","isMobile","hasNext","_this$widths","hasPrev","transform","beforeUpdate","$children","updated","setWidths","genNext","$slots","onAffixClick","genContent","genData","onResize","rtl","upperLocation","hasAffix","VIcon","genPrev","VFadeTransition","genWrapper","overflowCheck","onTouchStart","move","onTouchMove","onTouchEnd","calculateNewOffset","currentScrollOffset","newAbosluteOffset","_isDestroyed","touchstartX","setProperty","touchmoveX","_this$$refs","maxScrollOffset","scrollIntoView","selectedItem","selectedIndex","calculateCenteredOffset","$el","calculateUpdatedOffset","selectedElement","offsetLeft","totalWidth","itemOffset","additionalOffset","offsetCentered","requestAnimationFrame","_this4$$refs","provide","slideGroup","Colorable","chipGroup","$nextTick","setTextColor","component","VBtn","VCard","VCardText","VCardTitle","VChipGroup","VCol","VDivider","VFileInput","VImg","VOverlay","VProgressCircular","VProgressLinear","VRow","VSnackbar","Sizeable","Routable","Themeable","GroupableFactory","ToggleableFactory","active","closeIcon","draggable","filterIcon","outlined","pill","tag","textColor","proxyClass","isClickable","isLink","hasClose","themeClasses","sizeableClasses","groupClasses","created","breakingProps","_ref2","_slicedToArray","original","breaking","toggle","genFilter","isActive","VExpandXTransition","genClose","_this$generateRouteLi","generateRouteLink","tabindex","setBackgroundColor","submitFileCodigos","fileExcelCodigos","agruparCodigos","clear","arrAuxCodigos","almacenSeleccionado","almacenes","absolute","zIndex","jExcelObjX","dialogLoading","proveedor","departamento","prenda","workListCargada","workListInicial","_console","_window","proceso","jExcelOptions","instance","mounted","jExcelObj","assign","getAlmacenes","archivoCodigos","archivoSizeCodigos","archivoTipoCodigos","archivoUltimaFechaCodigos","codigos","archivoRegistrosCodigo","selectedValue","seleccionado","getElementById","cargado","pegado","insertRowc","filas","Set","ALMACEN","searchDB","elemento","veces","CODIGO","myExcel","calcularPromedios","PROVEEDOR","DEPTO","LINEA","arrResultadox","arrLine","AREA","importe","cantidad","IMPORTE","CANTIDAD","promedio","arrResultado","Vue","functional","ripple","indeterminate","indeterminateIcon","onIcon","offIcon","listeners","center","dark","light","mergeData","inset","$listeners","VSubheader","hideSelected","itemDisabled","Function","itemValue","noDataText","noFilter","selectedItems","parsedItems","tileActiveClass","staticNoDataTile","tile","role","mousedown","VListItem","genTileContent","genAction","inputValue","VListItemAction","VSimpleCheckbox","genDivider","genFilteredText","escapeHTML","_this$getMaskedCharac","getMaskedCharacters","middle","genHighlight","genHeader","toLocaleLowerCase","genTile","_ref$disabled","_ref$value","hasItem","getDisabled","_uid","parent","scopedSlot","needsTile","VListItemContent","VListItemTitle","componentOptions","Ctor","getPropertyFromItem","itemsLength","divider","unshift","VList","valueComparator","defaultMenuProps","closeOnClick","closeOnContentClick","disableKeys","openOnClick","baseMixins","Comparable","Filterable","ClickOutside","appendIcon","attach","cacheItems","deletableChips","disableLookup","eager","itemColor","menuProps","openOnClear","returnObject","cachedItems","menuIsBooted","isMenuActive","lastItem","keyboardLookupPrefix","keyboardLookupLastTime","allItems","filterDuplicates","computedItems","computedOwns","isFocused","closeConditional","dynamicHeight","hasSlot","listData","scopeId","$vnode","$options","_scopeId","_defineProperty","virtualizedItems","scopedSlots","staticList","VSelectList","$_menuProps","auto","menuCanShow","normalisedProps","acc","nudgeBottom","setSelectedItems","onMenuActiveChange","activateMenu","isInteractive","setMenuIndex","getContent","uniqueValues","Map","has","findExistingIndex","findIndex","menu","genChipSelection","isDisabled","onChipInput","genCommaSelection","computedColor","genDefaultSlot","selections","genFieldset","genLabel","prefix","genAffix","genClearIcon","genIconSlot","genHiddenInput","genMenu","genProgress","cb","extraData","VInput","isReadonly","getObjectValueByPath","keypress","onKeyPress","attrs$","genInputSlot","genList","genListWithSlot","_this6","slots","slotName","_this7","activator","scroll","onScroll","genSelection","genSlotSelection","_this8","getMenuIndex","listIndex","onBlur","onClick","isAppendInner","onEscDown","_this9","KEYBOARD_LOOKUP_THRESHOLD","performance","startsWith","getTiles","_this10","keyCodes","tab","enter","space","changeListIndex","onUpDown","esc","onTabDown","onSpaceDown","tiles","onMouseUp","_this11","hasMouseDown","isEnclosed","_this12","showMoreItems","activeTile","isBooted","prevTile","nextTile","_this13","updateDimensions","_step","_this14","_iterator","_createForOfIteratorHelper","_loop","appendInner","VSelect","_m"],"mappings":"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O,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,KAAQ,CACN,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,OAAU,CACR,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,OAAU,CACR,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,KAAQ,CACN,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,KAAQ,CACN,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,KAAQ,CACN,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,MAAS,CACP,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,WAAc,CACZ,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,KAAQ,CACN,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,OAAU,CACR,GAAM,UACN,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,UACP,IAAO,WAET,MAAS,CACP,GAAM,UACN,IAAO,UACP,IAA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","file":"js/about.1c3016dd.js","sourcesContent":["\r\n/**\r\n * jExcel v3.9.1\r\n *\r\n * Author: Paul Hodel <paul.hodel@gmail.com>\r\n * Website: https://bossanova.uk/jexcel/\r\n * Description: Create amazing web based spreadsheets.\r\n *\r\n * This software is distribute under MIT License\r\n */\r\n\r\n if (! jSuites && typeof(require) === 'function') {\r\n    var jSuites = require('jsuites');\r\n    require('jsuites/dist/jsuites.css');\r\n}\r\n\r\n;(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n    typeof define === 'function' && define.amd ? define(factory) :\r\n    global.jexcel = factory();\r\n}(this, (function () {\r\n\r\n    'use strict';\r\n\r\n// Jexcel core object\n\nvar jexcel = (function(el, options) {\n    // Create jexcel object\n    var obj = {};\n    obj.options = {};\n\n    if (! (el instanceof Element || el instanceof HTMLDocument)) {\r\n        console.error('JEXCEL: el is not a valid DOM element');\r\n        return false;\r\n    }\r\n\n    // Loading default configuration\n    var defaults = {\n        // External data\n        url:null,\n        // Data\n        data:null,\n        // Copy behavior\n        copyCompatibility:false,\n        // Rows and columns definitions\n        rows:[],\n        columns:[],\n        // Deprected legacy options\n        colHeaders:[],\n        colWidths:[],\n        colAlignments:[],\n        nestedHeaders:null,\n        // Column width that is used by default\n        defaultColWidth:50,\n        defaultColAlign:'center',\n        // Spare rows and columns\n        minSpareRows:0,\n        minSpareCols:0,\n        // Minimal table dimensions\n        minDimensions:[0,0],\n        // Allow Export\n        allowExport:true,\r\n        // @type {boolean} - Include the header titles on download\n        includeHeadersOnDownload:false,\n        // Allow column sorting\n        columnSorting:true,\n        // Allow column dragging\n        columnDrag:false,\n        // Allow column resizing\n        columnResize:true,\n        // Allow row resizing\n        rowResize:false,\n        // Allow row dragging\n        rowDrag:true,\n        // Allow table edition\n        editable:true,\n        // Allow new rows\n        allowInsertRow:true,\n        // Allow new rows\n        allowManualInsertRow:true,\n        // Allow new columns\n        allowInsertColumn:true,\n        // Allow new rows\n        allowManualInsertColumn:true,\n        // Allow row delete\n        allowDeleteRow:true,\n        // Allow deleting of all rows\n        allowDeletingAllRows:false,\n        // Allow column delete\n        allowDeleteColumn:true,\n        // Allow rename column\n        allowRenameColumn:true,\n        // Allow comments\n        allowComments:false,\n        // Global wrap\n        wordWrap:false,\n        // Image options\n        imageOptions: null,\n        // CSV source\n        csv:null,\n        // Filename\n        csvFileName:'jexcel',\n        // Consider first line as header\n        csvHeaders:true,\n        // Delimiters\n        csvDelimiter:',',\n        // Disable corner selection\n        selectionCopy:true,\n        // Merged cells\n        mergeCells:{},\n        // Create toolbar\n        toolbar:null,\n        // Allow search\n        search:false,\n        // Create pagination\n        pagination:false,\n        paginationOptions:null,\n        // Full screen\n        fullscreen:false,\n        // Lazy loading\n        lazyLoading:false,\n        loadingSpin:false,\n        // Table overflow\n        tableOverflow:false,\n        tableHeight:'300px',\n        tableWidth:null,\n        // Meta\n        meta: null,\n        // Style\n        style:null,\n        // Execute formulas\n        parseFormulas:true,\n        autoIncrement:true,\n        autoCasting:true,\n        // Event handles\n        onundo:null,\n        onredo:null,\n        onload:null,\n        onchange:null,\n        onbeforechange:null,\n        onafterchanges:null,\n        onbeforeinsertrow: null,\n        oninsertrow:null,\n        onbeforeinsertcolumn: null,\n        oninsertcolumn:null,\n        onbeforedeleterow:null,\n        ondeleterow:null,\n        onbeforedeletecolumn:null,\n        ondeletecolumn:null,\n        onmoverow:null,\n        onmovecolumn:null,\n        onresizerow:null,\n        onresizecolumn:null,\n        onsort:null,\n        onselection:null,\n        onpaste:null,\n        onbeforepaste:null,\n        onmerge:null,\n        onfocus:null,\n        onblur:null,\n        onchangeheader:null,\n        oneditionstart:null,\n        oneditionend:null,\n        onchangestyle:null,\n        onchangemeta:null,\n        onchangepage:null,\n        // Customize any cell behavior\n        updateTable:null,\n        // Detach the HTML table when calling updateTable\r\n        detachForUpdates: false,\n        // Texts\n        text:{\n            noRecordsFound: 'No records found',\n            showingPage: 'Showing page {0} of {1} entries',\n            show: 'Show ',\n            search: 'Search',\n            entries: ' entries',\n            columnName: 'Column name',\n            insertANewColumnBefore: 'Insert a new column before',\n            insertANewColumnAfter: 'Insert a new column after',\n            deleteSelectedColumns: 'Delete selected columns',\n            renameThisColumn: 'Rename this column',\n            orderAscending: 'Order ascending',\n            orderDescending: 'Order descending',\n            insertANewRowBefore: 'Insert a new row before',\n            insertANewRowAfter: 'Insert a new row after',\n            deleteSelectedRows: 'Delete selected rows',\n            editComments: 'Edit comments',\n            addComments: 'Add comments',\n            comments: 'Comments',\n            clearComments: 'Clear comments',\n            copy: 'Copy...',\n            paste: 'Paste...',\n            saveAs: 'Save as...',\n            about: 'About',\n            areYouSureToDeleteTheSelectedRows: 'Are you sure to delete the selected rows?',\n            areYouSureToDeleteTheSelectedColumns: 'Are you sure to delete the selected columns?',\n            thisActionWillDestroyAnyExistingMergedCellsAreYouSure: 'This action will destroy any existing merged cells. Are you sure?',\n            thisActionWillClearYourSearchResultsAreYouSure: 'This action will clear your search results. Are you sure?',\n            thereIsAConflictWithAnotherMergedCell: 'There is a conflict with another merged cell',\n            invalidMergeProperties: 'Invalid merged properties',\n            cellAlreadyMerged: 'Cell already merged',\n            noCellsSelected: 'No cells selected',\n        },\n        // About message\n        about:\"jExcel CE Spreadsheet\\nVersion 3.9.1\\nAuthor: Paul Hodel <paul.hodel@gmail.com>\\nWebsite: https://bossanova.uk/jexcel/v3\",\n    };\n\n    // Loading initial configuration from user\n    for (var property in defaults) {\n        if (options && options.hasOwnProperty(property)) {\n            if (property === 'text') {\r\n                obj.options[property] = defaults[property];\r\n                for (var textKey in options[property]) {\r\n                    if (options[property].hasOwnProperty(textKey)){\r\n                        obj.options[property][textKey] = options[property][textKey];\r\n                    }\r\n                }\r\n            } else {\r\n                obj.options[property] = options[property];\n            }\n        } else {\n            obj.options[property] = defaults[property];\n        }\n    }\n\n    // Global elements\n    obj.el = el;\n    obj.corner = null;\n    obj.contextMenu = null;\n    obj.textarea = null;\n    obj.ads = null;\n    obj.content = null;\n    obj.table = null;\n    obj.thead = null;\n    obj.tbody = null;\n    obj.rows = [];\n    obj.results = null;\n    obj.searchInput = null;\n    obj.toolbar = null;\n    obj.pagination = null;\n    obj.pageNumber = null;\n    obj.headerContainer = null;\n    obj.colgroupContainer = null;\n\n    // Containers\n    obj.headers = [];\n    obj.records = [];\n    obj.history = [];\n    obj.formula = [];\n    obj.colgroup = [];\n    obj.selection = [];\n    obj.highlighted  = [];\n    obj.selectedCell = null;\n    obj.selectedContainer = null;\n    obj.style = [];\n    obj.data = null;\n\n    // Internal controllers\n    obj.cursor = null;\n    obj.historyIndex = -1;\n    obj.ignoreEvents = false;\n    obj.ignoreHistory = false;\n    obj.edition = null;\n    obj.hashString = null;\n    obj.resizing = null;\n    obj.dragging = null;\n\n    // Lazy loading\n    if (obj.options.lazyLoading == true && (obj.options.tableOverflow == false && obj.options.fullscreen == false)) {\n        console.error('JEXCEL: The lazyloading only works when tableOverflow = yes or fullscreen = yes');\n        obj.options.lazyLoading = false;\n    }\n    \n    /**\n     * Activate/Disable fullscreen \n     * use programmatically : table.fullscreen(); or table.fullscreen(true); or table.fullscreen(false);\n     * @Param {boolean} activate\n     */\n    obj.fullscreen = function(activate) {\n        // If activate not defined, get reverse options.fullscreen\n        if (activate == null) {\n            activate = ! obj.options.fullscreen;\n        }\n\n        // If change\n        if (obj.options.fullscreen != activate) {\n            obj.options.fullscreen = activate;\n\n            // Test LazyLoading conflict\n            if (activate == true) {\n                el.classList.add('fullscreen');\n            } else {\n                el.classList.remove('fullscreen');\n            }\n        } \n    }\n\n    /**\n     * Prepare the jexcel table\n     * \n     * @Param config\n     */\n    obj.prepareTable = function() {\n        // Loading initial data from remote sources\n        var results = [];\n\n        // Number of columns\n        var size = obj.options.columns.length;\n\n        if (obj.options.data && typeof(obj.options.data[0]) !== 'undefined') {\n            // Data keys\n            var keys = Object.keys(obj.options.data[0]);\n\n            if (keys.length > size) {\n                size = keys.length;\n            }\n        }\n\n        // Minimal dimensions\n        if (obj.options.minDimensions[0] > size) {\n            size = obj.options.minDimensions[0];\n        }\n\n        // Requests\n        var multiple = [];\n\n        // Preparations\n        for (var i = 0; i < size; i++) {\n            // Deprected options. You should use only columns\n            if (! obj.options.colHeaders[i]) {\n                obj.options.colHeaders[i] = '';\n            }\n            if (! obj.options.colWidths[i]) {\n                obj.options.colWidths[i] = obj.options.defaultColWidth;\n            }\n            if (! obj.options.colAlignments[i]) {\n                obj.options.colAlignments[i] = obj.options.defaultColAlign;\n            }\n\n            // Default column description\n            if (! obj.options.columns[i]) {\n                obj.options.columns[i] = { type:'text' };\n            } else if (! obj.options.columns[i].type) {\n                obj.options.columns[i].type = 'text';\n            }\n            if (! obj.options.columns[i].name) {\n                obj.options.columns[i].name = keys && keys[i] ? keys[i] : i;\n            }\n            if (! obj.options.columns[i].source) {\n                obj.options.columns[i].source = [];\n            }\n            if (! obj.options.columns[i].options) {\n                obj.options.columns[i].options = [];\n            }\n            if (! obj.options.columns[i].editor) {\n                obj.options.columns[i].editor = null;\n            }\n            if (! obj.options.columns[i].allowEmpty) {\n                obj.options.columns[i].allowEmpty = false;\n            }\n            if (! obj.options.columns[i].title) {\n                obj.options.columns[i].title = obj.options.colHeaders[i] ? obj.options.colHeaders[i] : '';\n            }\n            if (! obj.options.columns[i].width) {\n                obj.options.columns[i].width = obj.options.colWidths[i] ? obj.options.colWidths[i] : obj.options.defaultColWidth;\n            }\n            if (! obj.options.columns[i].align) {\n                obj.options.columns[i].align = obj.options.colAlignments[i] ? obj.options.colAlignments[i] : 'center';\n            }\n\n            // Pre-load initial source for json autocomplete\n            if (obj.options.columns[i].type == 'autocomplete' || obj.options.columns[i].type == 'dropdown') {\n                // if remote content\n                if (obj.options.columns[i].url) {\n                    multiple.push(jSuites.ajax({\n                        url: obj.options.columns[i].url,\n                        index: i,\n                        method: 'GET',\n                        dataType: 'json',\n                        multiple: multiple,\n                        success: function(data) {\n                            var source = [];\n                            for (var i = 0; i < data.length; i++) {\n                                obj.options.columns[this.index].source.push(data[i]);\n                            }\n                        },\n                        complete: function() {\n                            obj.createTable();\n                        }\n                    }));\n                }\n            } else if (obj.options.columns[i].type == 'calendar') {\n                // Default format for date columns\n                if (! obj.options.columns[i].options.format) {\n                    obj.options.columns[i].options.format = 'DD/MM/YYYY';\n                }\n            }\n        }\n\n        // On complete\n        if (! multiple.length) {\n            obj.createTable();\n        }\n    }\n\n    obj.createTable = function() {\n        // Elements\n        obj.table = document.createElement('table');\n        obj.thead = document.createElement('thead');\n        obj.tbody = document.createElement('tbody');\n\n        // Create headers controllers\n        obj.headers = [];\n        obj.colgroup = [];\n\n        // Create table container\n        obj.content = document.createElement('div');\n        obj.content.classList.add('jexcel_content');\n\n        // Create toolbar object\n        obj.toolbar = document.createElement('div');\n        obj.toolbar.classList.add('jexcel_toolbar');\n\n        // Search\n        var searchContainer = document.createElement('div');\n        var searchText = document.createTextNode((obj.options.text.search) + ': ');\n        obj.searchInput = document.createElement('input');\n        obj.searchInput.classList.add('jexcel_search');\n        searchContainer.appendChild(searchText);\n        searchContainer.appendChild(obj.searchInput);\n        obj.searchInput.onfocus = function() {\n            obj.resetSelection();\n        }\n\n        // Pagination select option\n        var paginationUpdateContainer = document.createElement('div');\n\n        if (obj.options.pagination > 0 && obj.options.paginationOptions && obj.options.paginationOptions.length > 0) {\n            obj.paginationDropdown = document.createElement('select');\n            obj.paginationDropdown.classList.add('jexcel_pagination_dropdown');\n            obj.paginationDropdown.onchange = function() {\n                obj.options.pagination = parseInt(this.value);\n                obj.page(0);\n            }\n\n            for (var i = 0; i < obj.options.paginationOptions.length; i++) {\n                var temp = document.createElement('option');\n                temp.value = obj.options.paginationOptions[i];\n                temp.innerHTML = obj.options.paginationOptions[i];\n                obj.paginationDropdown.appendChild(temp);\n            }\n\n            paginationUpdateContainer.appendChild(document.createTextNode(obj.options.text.show));\n            paginationUpdateContainer.appendChild(obj.paginationDropdown);\n            paginationUpdateContainer.appendChild(document.createTextNode(obj.options.text.entries));\n        }\n\n        // Filter and pagination container\n        obj.filter = document.createElement('div');\n        obj.filter.classList.add('jexcel_filter');\n        obj.filter.appendChild(paginationUpdateContainer);\n        obj.filter.appendChild(searchContainer);\n\n        // Colsgroup\n        obj.colgroupContainer = document.createElement('colgroup');\n        var tempCol = document.createElement('col');\n        tempCol.setAttribute('width', '50');\n        obj.colgroupContainer.appendChild(tempCol);\n\n        // Nested\n        if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {\n            // Flexible way to handle nestedheaders\n            if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {\n                for (var j = 0; j < obj.options.nestedHeaders.length; j++) {\n                    obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders[j]));\n                }\n            } else {\n                obj.thead.appendChild(obj.createNestedHeader(obj.options.nestedHeaders));\n            }\n        }\n\n        // Row\n        obj.headerContainer = document.createElement('tr');\n        var tempCol = document.createElement('td');\n        tempCol.classList.add('jexcel_selectall');\n        obj.headerContainer.appendChild(tempCol);\n\n        for (var i = 0; i < obj.options.columns.length; i++) {\n            // Create header\n            obj.createCellHeader(i);\n            // Append cell to the container\n            obj.headerContainer.appendChild(obj.headers[i]);\n            obj.colgroupContainer.appendChild(obj.colgroup[i]);\n        }\n\n        obj.thead.appendChild(obj.headerContainer);\n\n        // Content table\n        obj.table = document.createElement('table');\n        obj.table.classList.add('jexcel');\n        obj.table.setAttribute('cellpadding', '0');\n        obj.table.setAttribute('cellspacing', '0');\n        obj.table.setAttribute('unselectable', 'yes');\n        obj.table.setAttribute('onselectstart', 'return false');\n        obj.table.appendChild(obj.colgroupContainer);\n        obj.table.appendChild(obj.thead);\n        obj.table.appendChild(obj.tbody);\n\n        // Spreadsheet corner\n        obj.corner = document.createElement('div');\n        obj.corner.className = 'jexcel_corner';\n        obj.corner.setAttribute('unselectable', 'on');\n        obj.corner.setAttribute('onselectstart', 'return false');\n\n        if (obj.options.selectionCopy == false) {\n            obj.corner.style.display = 'none';\n        }\n\n        // Textarea helper\n        obj.textarea = document.createElement('textarea');\n        obj.textarea.className = 'jexcel_textarea';\n        obj.textarea.id = 'jexcel_textarea';\n        obj.textarea.tabIndex = '-1';\r\n\n        // Contextmenu container\n        obj.contextMenu = document.createElement('div');\n        obj.contextMenu.className = 'jexcel_contextmenu';\n\n        // Create element\n        jSuites.contextmenu(obj.contextMenu, {\n            onclick:function() {\n                obj.contextMenu.contextmenu.close(false);\n            }\n        });\n\n        // Powered by jExcel\r\n        var ads = document.createElement('a');\r\n        ads.setAttribute('href', 'https://bossanova.uk/jexcel/');\r\n        obj.ads = document.createElement('div');\r\n        obj.ads.className = 'jexcel_about';\r\n        if (typeof(sessionStorage) !== \"undefined\" && ! sessionStorage.getItem('jexcel')) {\r\n            sessionStorage.setItem('jexcel', true);\r\n            var img = document.createElement('img');\r\n            img.src = '//bossanova.uk/jexcel/logo.png';\r\n            ads.appendChild(img);\r\n        }\r\n        var span = document.createElement('span');\r\n        span.innerHTML = 'Jexcel spreadsheet';\r\n        ads.appendChild(span);\r\n        obj.ads.appendChild(ads);\n\n        // Create table container TODO: frozen columns\n        var container = document.createElement('div');\n        container.classList.add('jexcel_table');\n\n        // Pagination\n        obj.pagination = document.createElement('div');\n        obj.pagination.classList.add('jexcel_pagination');\n        var paginationInfo = document.createElement('div');\n        var paginationPages = document.createElement('div');\n        obj.pagination.appendChild(paginationInfo);\n        obj.pagination.appendChild(paginationPages);\n\n        // Hide pagination if not in use\r\n        if (! obj.options.pagination) {\r\n            obj.pagination.style.display = 'none';\r\n        }\r\n\n        // Append containers to the table\n        if (obj.options.search == true) {\n            el.appendChild(obj.filter);\n        }\n\n        // Elements\n        obj.content.appendChild(obj.table);\n        obj.content.appendChild(obj.corner);\n        obj.content.appendChild(obj.textarea);\n\n        el.appendChild(obj.toolbar);\n        el.appendChild(obj.content);\n        el.appendChild(obj.pagination);\n        el.appendChild(obj.contextMenu);\n        el.appendChild(obj.ads);\n        el.classList.add('jexcel_container');\n\n        // Create toolbar\n        if (obj.options.toolbar && obj.options.toolbar.length) {\n            obj.createToolbar();\n        }\n\n        // Fullscreen\n        if (obj.options.fullscreen == true) {\n            el.classList.add('fullscreen');\n        } else {\n            // Overflow\n            if (obj.options.tableOverflow == true) {\n                if (obj.options.tableHeight) {\n                    obj.content.style['overflow-y'] = 'auto';\n                    obj.content.style.maxHeight = obj.options.tableHeight;\n                }\n                if (obj.options.tableWidth) {\n                    obj.content.style['overflow-x'] = 'auto';\n                    obj.content.style.width = obj.options.tableWidth;\n                }\n            }\n        }\n\n        // With toolbars\n        if (obj.options.tableOverflow != true && obj.options.toolbar) {\n            el.classList.add('with-toolbar');\n        }\n\n        // Actions\n        if (obj.options.columnDrag == true) {\n            obj.thead.classList.add('draggable');\n        }\n        if (obj.options.columnResize == true) {\n            obj.thead.classList.add('resizable');\n        }\n        if (obj.options.rowDrag == true) {\n            obj.tbody.classList.add('draggable');\n        }\n        if (obj.options.rowResize == true) {\n            obj.tbody.classList.add('resizable');\n        }\n\n        // Load data\n        obj.setData();\n\n        // Style\n        if (obj.options.style) {\n            obj.setStyle(obj.options.style, null, null, 1, 1);\n        }\n    }\n\r\n    /**\r\n     * Refresh the data\r\n     * \r\n     * @return void\r\n     */\r\n    obj.refresh = function() {\r\n        if (obj.options.url) {\r\n            // Loading\r\n            if (obj.options.loadingSpin == true) {\r\n                jSuites.loading.show();\r\n            }\r\n\r\n            jSuites.ajax({\r\n                url: obj.options.url,\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                success: function(result) {\r\n                    // Data\r\n                    obj.options.data = (result.data) ? result.data : result;\r\n                    // Prepare table\r\n                    obj.setData();\r\n                    // Hide spin\r\n                    if (obj.options.loadingSpin == true) {\r\n                        jSuites.loading.hide();\r\n                    }\r\n                }\r\n            });\r\n        } else {\r\n            obj.setData();\r\n        }\r\n    }\r\n\n    /**\n     * Set data\n     * \n     * @param array data In case no data is sent, default is reloaded\n     * @return void\n     */\n    obj.setData = function(data) {\n        // Update data\n        if (data) {\n            if (typeof(data) == 'string') {\n                data = JSON.parse(data);\n            }\n\n            obj.options.data = data;\n        }\n\n        // Data\n        if (! obj.options.data) {\n            obj.options.data = [];\n        }\n\n        // Prepare data\n        if (obj.options.data) {\n            var data = [];\n            for (var j = 0; j < obj.options.data.length; j++) {\n                var row = [];\n                for (var i = 0; i < obj.options.columns.length; i++) {\n                    row[i] = obj.options.data[j][obj.options.columns[i].name];\n                }\n                data.push(row);\n            }\n\n            obj.options.data = data;\n        }\n\n        // Adjust minimal dimensions\n        var j = 0;\n        var i = 0;\n        var size_i = obj.options.columns.length;\n        var size_j = obj.options.data.length;\n        var min_i = obj.options.minDimensions[0];\n        var min_j = obj.options.minDimensions[1];\n        var max_i = min_i > size_i ? min_i : size_i;\n        var max_j = min_j > size_j ? min_j : size_j;\n\n        for (j = 0; j < max_j; j++) {\n            for (i = 0; i < max_i; i++) {\n                if (obj.options.data[j] == undefined) {\n                    obj.options.data[j] = [];\n                }\n\n                if (obj.options.data[j][i] == undefined) {\n                    obj.options.data[j][i] = '';\n                }\n            }\n        }\n\n        // Reset containers\n        obj.rows = [];\n        obj.results = null;\n        obj.records = [];\n        obj.history = [];\n\n        // Reset internal controllers\n        obj.historyIndex = -1;\n\n        // Reset data\n        obj.tbody.innerHTML = '';\n\n        // Lazy loading\n        if (obj.options.lazyLoading == true) {\n            // Load only 100 records\n            var startNumber = 0\n            var finalNumber = obj.options.data.length < 100 ? obj.options.data.length : 100;\n\n            if (obj.options.pagination) {\n                obj.options.pagination = false;\n                console.error('JEXCEL: Pagination will be disable due the lazyLoading');\n            }\n        } else if (obj.options.pagination) {\n            // Pagination\n            if (! obj.pageNumber) {\n                obj.pageNumber = 0;\n            }\n            var quantityPerPage = obj.options.pagination;\n            startNumber = (obj.options.pagination * obj.pageNumber);\n            finalNumber = (obj.options.pagination * obj.pageNumber) + obj.options.pagination;\n\n            if (obj.options.data.length < finalNumber) {\n                finalNumber = obj.options.data.length;\n            }\n        } else {\n            var startNumber = 0;\n            var finalNumber = obj.options.data.length;\n        }\n\n        // Append nodes to the HTML\n        for (j = 0; j < obj.options.data.length; j++) {\n            // Create row\n            var tr = obj.createRow(j, obj.options.data[j]);\n            // Append line to the table\n            if (j >= startNumber && j < finalNumber) {\n                obj.tbody.appendChild(tr);\n            }\n        }\n\n        if (obj.options.lazyLoading == true) {\n            // Do not create pagination with lazyloading activated\n        } else if (obj.options.pagination) {\n            obj.updatePagination();\n        }\n\n        // Merge cells\n        if (obj.options.mergeCells) {\n            var keys = Object.keys(obj.options.mergeCells);\n            for (var i = 0; i < keys.length; i++) {\n                var num = obj.options.mergeCells[keys[i]];\n                obj.setMerge(keys[i], num[0], num[1], 1);\n            }\n        }\n\n        // Updata table with custom configurations if applicable\n        obj.updateTable();\n\n        // Onload\n        if (! obj.ignoreEvents) {\n            if (typeof(obj.options.onload) == 'function') {\n                obj.options.onload(el, obj);\n            }\n        }\n    }\n\n    /**\n     * Get the whole table data\n     * \n     * @param bool get highlighted cells only\n     * @return array data\n     */\n        obj.getData = function(highlighted, dataOnly) {\n        // Control vars\n        var dataset = [];\n        var px = 0;\n        var py = 0;\n\n        // Data type\r\n        var dataType = dataOnly == true || obj.options.copyCompatibility == false ? true : false;\r\n\n        // Column and row length\n        var x = obj.options.columns.length\n        var y = obj.options.data.length\n\n        // Go through the columns to get the data\n        for (var j = 0; j < y; j++) {\n            px = 0;\n            for (var i = 0; i < x; i++) {\n                // Cell selected or fullset\n                if (! highlighted || obj.records[j][i].classList.contains('highlight')) {\n                    // Get value\n                    if (! dataset[py]) {\n                        dataset[py] = [];\n                    }\n                    if (! dataType) {\n                        dataset[py][px] = obj.records[j][i].innerHTML;\n                    } else {\n                        dataset[py][px] = obj.options.data[j][i];\n                    }\n                    px++;\n                }\n            }\n            if (px > 0) {\n                py++;\n            }\n       }\n\n       return dataset;\n    }\n\n    /**\n     * Get the whole table data\n     * \n     * @param integer row number\n     * @return string value\n     */\n    obj.getJson = function(highlighted) {\n        // Control vars\n        var data = [];\n\n        // Column and row length\n        var x = obj.options.columns.length\n        var y = obj.options.data.length\n\n        // Go through the columns to get the data\n        for (var j = 0; j < y; j++) {\n            var row = null;\n            for (var i = 0; i < x; i++) {\n                if (! highlighted || obj.records[j][i].classList.contains('highlight')) {\n                    if (row == null) {\n                        row = {};\n                    }\n                    row[obj.options.columns[i].name] = obj.options.data[j][i];\n                }\n            }\n\n            if (row != null) {\n                data.push(row);\n            }\n       }\n\n       return data;\n    }\n\n    /**\n     * Get a row data by rowNumber\n     */\n    obj.getRowData = function(rowNumber) {\n        return obj.options.data[rowNumber];\n    }\n\n    /**\n     * Set a row data by rowNumber\n     */\n    obj.setRowData = function(rowNumber, data) {\n        for (var i = 0; i < obj.headers.length; i++) {\n            // Update cell\n            var columnName = jexcel.getColumnNameFromId([ i, rowNumber ]);\n            // Set value\n            if (data[i] != null) {\n                obj.setValue(columnName, data[i]);\n            }\n        }\n    }\n\n    /**\n     * Get a column data by columnNumber\n     */\n    obj.getColumnData = function(columnNumber) {\n        var dataset = [];\n        // Go through the rows to get the data\n        for (var j = 0; j < obj.options.data.length; j++) {\n            dataset.push(obj.options.data[j][columnNumber]);\n        }\n        return dataset;\n    }\n\n    /**\n     * Set a column data by colNumber\n     */\n    obj.setColumnData = function(colNumber, data) {\n        for (var j = 0; j < obj.rows.length; j++) {\n            // Update cell\n            var columnName = jexcel.getColumnNameFromId([ colNumber, j ]);\n            // Set value\n            if (data[j] != null) {\n                obj.setValue(columnName, data[j]);\n            }\n        }\n    }\n\n    /**\n     * Create row\n     */\n    obj.createRow = function(j, data) {\n        // Create container\n        if (! obj.records[j]) {\n            obj.records[j] = [];\n        }\n        // Default data\n        if (! data) {\n            var data = obj.options.data[j];\n        }\n        // New line of data to be append in the table\n        obj.rows[j] = document.createElement('tr');\n        obj.rows[j].setAttribute('data-y', j);\n        // Definitions\n        if (obj.options.rows[j]) {\n            if (obj.options.rows[j].height) {\n                obj.rows[j].style.height = obj.options.rows[j].height;\n            }\n        }\n        // Row number label\n        var td = document.createElement('td');\n        td.innerHTML = parseInt(j + 1);\n        td.setAttribute('data-y', j);\n        td.className = 'jexcel_row';\n        obj.rows[j].appendChild(td);\n\n        // Data columns\n        for (i = 0; i < obj.options.columns.length; i++) {\n            // New column of data to be append in the line\n            obj.records[j][i] = obj.createCell(i, j, data[i]);\n            // Add column to the row\n            obj.rows[j].appendChild(obj.records[j][i]);\n        }\n\n        // Add row to the table body\n        return obj.rows[j];\n    }\n\n    /**\n     * Create cell\n     */\n    obj.createCell = function(i, j, value) {\n        // Create cell and properties\n        var td = document.createElement('td');\n        td.setAttribute('data-x', i);\n        td.setAttribute('data-y', j);\n        // Hidden column\n        if (obj.options.columns[i].type == 'hidden') {\n            td.style.display = 'none';\n            td.innerHTML = value;\n        } else if (obj.options.columns[i].type == 'checkbox' || obj.options.columns[i].type == 'radio') {\n            // Create input\n            var element = document.createElement('input');\n            element.type = obj.options.columns[i].type;\n            element.name = 'c' + i;\n            element.checked = (value == 1 || value == true || value == 'true') ? true : false;\n            element.onclick = function() {\n                obj.setValue(td, this.checked);\n            }\n\n            if (obj.options.columns[i].readOnly == true) {\n                element.setAttribute('disabled', 'disabled');\n            }\n\n            // Append to the table\n            td.appendChild(element);\n            // Make sure the values are correct\n            obj.options.data[j][i] = element.checked;\n        } else if (obj.options.columns[i].type == 'calendar') {\n            // Try formatted date\n            var formatted = jSuites.calendar.extractDateFromString(value, obj.options.columns[i].options.format);\n            // Create calendar cell\n            td.innerHTML = jSuites.calendar.getDateString(formatted ? formatted : value, obj.options.columns[i].options.format);\n        } else if (obj.options.columns[i].type == 'dropdown' || obj.options.columns[i].type == 'autocomplete') {\n            // Create dropdown cell\n            td.classList.add('jexcel_dropdown');\n            td.innerHTML = obj.getDropDownValue(i, value);\n        } else if (obj.options.columns[i].type == 'color') {\n            if (obj.options.columns[i].render == 'square') {\n                var color = document.createElement('div');\n                color.className = 'color';\n                color.style.backgroundColor = value;\n                td.appendChild(color);\n            } else {\n                td.style.color = value;\n                td.innerHTML = value;\n            }\n        } else if (obj.options.columns[i].type == 'image') {\n            if (value && value.substr(0, 10) == 'data:image') {\n                var img = document.createElement('img');\n                img.src = value;\n                td.appendChild(img);\n            }\n        } else {\n            if ((''+value).substr(0,1) == '=' && obj.options.parseFormulas == true) {\n                value = obj.executeFormula(value, i, j)\n            }\n            if (obj.options.columns[i].mask) {\n                var decimal = obj.options.columns[i].decimal || '.';\n                value = '' + jSuites.mask.run(value, obj.options.columns[i].mask, decimal);\n            }\n\n            td.innerHTML = value;\n        }\n\n        // Readonly\n        if (obj.options.columns[i].readOnly == true) {\n            td.className = 'readonly';\n        }\n\n        // Text align\n        var colAlign = obj.options.columns[i].align ? obj.options.columns[i].align : 'center';\n        td.style.textAlign = colAlign;\n\n        // Wrap option\n        if (obj.options.columns[i].wordWrap != false && (obj.options.wordWrap == true || obj.options.columns[i].wordWrap == true || td.innerHTML.length > 200)) {\n            td.style.whiteSpace = 'pre-wrap';\n        }\n\n        // Overflow\n        if (i > 0) {\n            if (value || td.innerHTML) {\n                obj.records[j][i-1].style.overflow = 'hidden';\n            } else {\n                if (i == obj.options.columns.length - 1) {\n                    td.style.overflow = 'hidden';\n                }\n            }\n        }\n\n        return td;\n    }\n\n    obj.createCellHeader = function(colNumber) {\n        // Create col global control\n        var colWidth = obj.options.columns[colNumber].width ? obj.options.columns[colNumber].width : obj.options.defaultColWidth;\n        var colAlign = obj.options.columns[colNumber].align ? obj.options.columns[colNumber].align : obj.options.defaultColAlign;\n\n        // Create header cell\n        obj.headers[colNumber] = document.createElement('td');\n        obj.headers[colNumber].innerHTML = obj.options.columns[colNumber].title ? obj.options.columns[colNumber].title : jexcel.getColumnName(colNumber);\n        obj.headers[colNumber].setAttribute('data-x', colNumber);\n        obj.headers[colNumber].style.textAlign = colAlign;\n        if (obj.options.columns[colNumber].title) {\n            obj.headers[colNumber].setAttribute('title', obj.options.columns[colNumber].title);\n        }\n\n        // Width control\n        obj.colgroup[colNumber] = document.createElement('col');\n        obj.colgroup[colNumber].setAttribute('width', colWidth);\n\n        // Hidden column\n        if (obj.options.columns[colNumber].type == 'hidden') {\n            obj.headers[colNumber].style.display = 'none';\n            obj.colgroup[colNumber].style.display = 'none';\n        }\n    }\n\n    obj.createNestedHeader = function(nestedInformation) {\n        var tr = document.createElement('tr');\n        tr.classList.add('jexcel_nested');\n        var td = document.createElement('td');\n        tr.appendChild(td);\n\n        var headerIndex = 0;\n        for (var i = 0; i < nestedInformation.length; i++) {\n            // Default values\n            if (! nestedInformation[i].colspan) {\n                nestedInformation[i].colspan = 1;\n            }\n            if (! nestedInformation[i].align) {\n                nestedInformation[i].align = 'center';\n            }\n            if (! nestedInformation[i].title) {\n                nestedInformation[i].title = '';\n            }\n\n            // Number of columns\n            var numberOfColumns = nestedInformation[i].colspan;\n\n            // Classes container\n            var column = [];\n            // Header classes for this cell\n            for (var x = 0; x < numberOfColumns; x++) {\n                if (obj.options.columns[headerIndex] && obj.options.columns[headerIndex].type == 'hidden') {\n                    numberOfColumns++;\n                }\n                column.push(headerIndex);\n                headerIndex++;\n            }\n\n            // Created the nested cell\n            var td = document.createElement('td');\n            td.setAttribute('data-column', column.join(','));\n            td.setAttribute('colspan', nestedInformation[i].colspan);\n            td.setAttribute('align', nestedInformation[i].align);\n            td.innerHTML = nestedInformation[i].title;\n            tr.appendChild(td);\n        }\n\n        return tr;\n    }\n\n    /**\n     * Create toolbar\n     */\n    obj.createToolbar = function(toolbar) {\n        if (toolbar) {\n            obj.options.toolbar = toolbar;\n        } else {\n            var toolbar = obj.options.toolbar;\n        }\n\n        for (var i = 0; i < toolbar.length; i++) {\n            if (toolbar[i].type == 'i') {\n                var toolbarItem = document.createElement('i');\n                toolbarItem.classList.add('jexcel_toolbar_item');\n                toolbarItem.classList.add('material-icons');\n                toolbarItem.setAttribute('data-k', toolbar[i].k);\n                toolbarItem.setAttribute('data-v', toolbar[i].v);\n                // Tooltip\n                if (toolbar[i].tooltip) {\n                    toolbarItem.setAttribute('title', toolbar[i].tooltip);\n                }\n                // Handle click\n                if (toolbar[i].onclick && typeof(toolbar[i].onclick)) {\n                    toolbarItem.onclick = toolbar[i].onclick;\n                } else {\n                    toolbarItem.onclick = function() {\n                        var k = this.getAttribute('data-k');\n                        var v = this.getAttribute('data-v');\n                        obj.setStyle(obj.highlighted, k, v);\n                    }\n                }\n                // Append element\n                toolbarItem.innerHTML = toolbar[i].content;\n                obj.toolbar.appendChild(toolbarItem);\n            } else if (toolbar[i].type == 'select') {\n               var toolbarItem = document.createElement('select');\n               toolbarItem.classList.add('jexcel_toolbar_item');\n               toolbarItem.setAttribute('data-k', toolbar[i].k);\n               // Tooltip\n               if (toolbar[i].tooltip) {\n                   toolbarItem.setAttribute('title', toolbar[i].tooltip);\n               }\n               // Handle onchange\n               if (toolbar[i].onchange && typeof(toolbar[i].onchange)) {\n                   toolbarItem.onchange = toolbar[i].onchange;\n               } else {\n                   toolbarItem.onchange = function() {\n                       var k = this.getAttribute('data-k');\n                       obj.setStyle(obj.highlighted, k, this.value);\n                   }\n               }\n               // Add options to the dropdown\n               for(var j = 0; j < toolbar[i].v.length; j++) {\n                    var toolbarDropdownOption = document.createElement('option');\n                    toolbarDropdownOption.value = toolbar[i].v[j];\n                    toolbarDropdownOption.innerHTML = toolbar[i].v[j];\n                    toolbarItem.appendChild(toolbarDropdownOption);\n               }\n               obj.toolbar.appendChild(toolbarItem);\n            } else if (toolbar[i].type == 'color') {\n                 var toolbarItem = document.createElement('i');\n                 toolbarItem.classList.add('jexcel_toolbar_item');\n                 toolbarItem.classList.add('material-icons');\n                 toolbarItem.setAttribute('data-k', toolbar[i].k);\n                 toolbarItem.setAttribute('data-v', '');\n                 // Tooltip\n                 if (toolbar[i].tooltip) {\n                     toolbarItem.setAttribute('title', toolbar[i].tooltip);\n                 }\n                 obj.toolbar.appendChild(toolbarItem);\n                 toolbarItem.onclick = function() {\n                     this.color.open();\n                 }\n                 toolbarItem.innerHTML = toolbar[i].content;\n                 jSuites.color(toolbarItem, {\n                     onchange:function(o, v) {\n                         var k = o.getAttribute('data-k');\n                         obj.setStyle(obj.highlighted, k, v);\n                     }\n                 });\n            }\n        }\n    }\n\n    /**\n     * Merge cells\n     * @param cellName\n     * @param colspan\n     * @param rowspan\n     * @param ignoreHistoryAndEvents\n     */\n    obj.setMerge = function(cellName, colspan, rowspan, ignoreHistoryAndEvents) {\n        var test = false;\n\n        if (! cellName) {\n            if (! obj.highlighted.length) {\n                alert(obj.options.text.noCellsSelected);\n                return null;\n            } else {\n                var x1 = parseInt(obj.highlighted[0].getAttribute('data-x'));\n                var y1 = parseInt(obj.highlighted[0].getAttribute('data-y'));\n                var x2 = parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute('data-x'));\n                var y2 = parseInt(obj.highlighted[obj.highlighted.length-1].getAttribute('data-y'));\n                var cellName = jexcel.getColumnNameFromId([ x1, y1 ]);\n                var colspan = (x2 - x1) + 1;\n                var rowspan = (y2 - y1) + 1;\n            }\n        }\n\n        var cell = jexcel.getIdFromColumnName(cellName, true);\n\n        if (obj.options.mergeCells[cellName]) {\n            if (obj.records[cell[1]][cell[0]].getAttribute('data-merged')) {\n                test = obj.options.text.cellAlreadyMerged;\n            }\n        } else if ((! colspan || colspan < 2) && (! rowspan || rowspan < 2)) {\n            test = obj.options.text.invalidMergeProperties;\n        } else {\n            var cells = [];\n            for (var j = cell[1]; j < cell[1] + rowspan; j++) {\n                for (var i = cell[0]; i < cell[0] + colspan; i++) {\n                    var columnName = jexcel.getColumnNameFromId([i, j]);\n                    if (obj.records[j][i].getAttribute('data-merged')) {\n                        test = obj.options.text.thereIsAConflictWithAnotherMergedCell;\n                    }\n                }\n            }\n        }\n\n        if (test) {\n            alert(test);\n        } else {\n            // Add property\n            if (colspan > 1) {\n                obj.records[cell[1]][cell[0]].setAttribute('colspan', colspan);\n            } else {\n                colspan = 1;\n            }\n            if (rowspan > 1) {\n                obj.records[cell[1]][cell[0]].setAttribute('rowspan', rowspan);\n            } else {\n                rowspan = 1;\n            }\n            // Keep links to the existing nodes\n            obj.options.mergeCells[cellName] = [ colspan, rowspan, [] ];\n            // Mark cell as merged\n            obj.records[cell[1]][cell[0]].setAttribute('data-merged', 'true');\n            // Overflow\n            obj.records[cell[1]][cell[0]].style.overflow = 'hidden';\n            // History data\n            var data = [];\n            // Adjust the nodes\n            for (var y = cell[1]; y < cell[1] + rowspan; y++) {\n                for (var x = cell[0]; x < cell[0] + colspan; x++) {\n                    if (! (cell[0] == x && cell[1] == y)) {\n                        data.push(obj.options.data[y][x]);\n                        obj.updateCell(x, y, '', true);\n                        obj.options.mergeCells[cellName][2].push(obj.records[y][x]);\n                        obj.records[y][x].style.display = 'none';\n                        obj.records[y][x] = obj.records[cell[1]][cell[0]];\n                    }\n                }\n            }\n            // In the initialization is not necessary keep the history\n            obj.updateSelection(obj.records[cell[1]][cell[0]]);\n\n            if (! ignoreHistoryAndEvents) {\n                obj.setHistory({\n                    action:'setMerge',\n                    column:cellName,\n                    colspan:colspan,\n                    rowspan:rowspan,\n                    data:data,\n                });\n\n                if (typeof(obj.options.onmerge) == 'function') {\n                    obj.options.onmerge(el, cellName, colspan, rowspan);\n                }\n            }\n        }\n    }\n\n    /**\n     * Merge cells\n     * @param cellName\n     * @param colspan\n     * @param rowspan\n     * @param ignoreHistoryAndEvents\n     */\n    obj.getMerge = function(cellName) {\n        var data = {};\n        if (cellName) {\n            if (obj.options.mergeCells[cellName]) {\n                data = [ obj.options.mergeCells[cellName][0], obj.options.mergeCells[cellName][1] ];\n            } else {\n                data = null;\n            }\n        } else {\n            if (obj.options.mergeCells) {\n                var mergedCells = obj.options.mergeCells;\n                var keys = Object.keys(obj.options.mergeCells);\n                for (var i = 0; i < keys.length; i++) {\n                    data[keys[i]] = [ obj.options.mergeCells[keys[i]][0], obj.options.mergeCells[keys[i]][1] ];\n                }\n            }\n        }\n\n        return data;\n    }\n\n    /**\n     * Remove merge by cellname\n     * @param cellName\n     */\n    obj.removeMerge = function(cellName, data, keepOptions) {\n        if (obj.options.mergeCells[cellName]) {\n            var cell = jexcel.getIdFromColumnName(cellName, true);\n            obj.records[cell[1]][cell[0]].removeAttribute('colspan');\n            obj.records[cell[1]][cell[0]].removeAttribute('rowspan');\n            obj.records[cell[1]][cell[0]].removeAttribute('data-merged');\n            var info = obj.options.mergeCells[cellName];\n\n            var index = 0;\n            for (var j = 0; j < info[1]; j++) {\n                for (var i = 0; i < info[0]; i++) {\n                    if (j > 0 || i > 0) {\n                        obj.records[cell[1]+j][cell[0]+i] = info[2][index];\n                        obj.records[cell[1]+j][cell[0]+i].style.display = '';\n                        // Recover data\n                        if (data && data[index]) {\n                            obj.updateCell(cell[0]+i, cell[1]+j, data[index]);\n                        }\n                        index++;\n                    }\n                }\n            }\n\n            // Update selection\n            obj.updateSelection(obj.records[cell[1]][cell[0]], obj.records[cell[1]+j-1][cell[0]+i-1]);\n\n            if (! keepOptions) {\n                delete(obj.options.mergeCells[cellName]);\n            }\n        }\n    }\n\n    /**\n     * Remove all merged cells\n     */\n    obj.destroyMerged = function(keepOptions) {\n        // Remove any merged cells\n        if (obj.options.mergeCells) {\n            var mergedCells = obj.options.mergeCells;\n            var keys = Object.keys(obj.options.mergeCells);\n            for (var i = 0; i < keys.length; i++) {\n                obj.removeMerge(keys[i], null, keepOptions);\n            }\n        }\n    }\n\n    /**\n     * Is column merged\n     */\n    obj.isColMerged = function(x, insertBefore) {\n        var cols = [];\n        // Remove any merged cells\n        if (obj.options.mergeCells) {\n            var keys = Object.keys(obj.options.mergeCells);\n            for (var i = 0; i < keys.length; i++) {\n                var info = jexcel.getIdFromColumnName(keys[i], true);\n                var colspan = obj.options.mergeCells[keys[i]][0];\n                var x1 = info[0];\n                var x2 = info[0] + (colspan > 1 ? colspan - 1 : 0);\n\n                if (insertBefore == null) {\n                    if ((x1 <= x && x2 >= x)) {\n                        cols.push(keys[i]);\n                    }\n                } else {\n                    if (insertBefore) {\n                        if ((x1 < x && x2 >= x)) {\n                            cols.push(keys[i]);\n                        }\n                    } else {\n                        if ((x1 <= x && x2 > x)) {\n                            cols.push(keys[i]);\n                        }\n                    }\n                }\n            }\n        }\n\n        return cols;\n    }\n\n    /**\n     * Is rows merged\n     */\n    obj.isRowMerged = function(y, insertBefore) {\n        var rows = [];\n        // Remove any merged cells\n        if (obj.options.mergeCells) {\n            var keys = Object.keys(obj.options.mergeCells);\n            for (var i = 0; i < keys.length; i++) {\n                var info = jexcel.getIdFromColumnName(keys[i], true);\n                var rowspan = obj.options.mergeCells[keys[i]][1];\n                var y1 = info[1];\n                var y2 = info[1] + (rowspan > 1 ? rowspan - 1 : 0);\n\n                if (insertBefore == null) {\n                    if ((y1 <= y && y2 >= y)) {\n                        rows.push(keys[i]);\n                    }\n                } else {\n                    if (insertBefore) {\n                        if ((y1 < y && y2 >= y)) {\n                            rows.push(keys[i]);\n                        }\n                    } else {\n                        if ((y1 <= y && y2 > y)) {\n                            rows.push(keys[i]);\n                        }\n                    }\n                }\n            }\n        }\n\n        return rows;\n    }\n\n    /**\n     * Open the editor\n     * \n     * @param object cell\n     * @return void\n     */\n    obj.openEditor = function(cell, empty, e) {\n        // Get cell position\n        var y = cell.getAttribute('data-y');\n        var x = cell.getAttribute('data-x');\n\n        // On edition start\n        if (! obj.ignoreEvents) {\n            if (typeof(obj.options.oneditionstart) == 'function') {\n                obj.options.oneditionstart(el, cell, x, y);\n            }\n        }\n\n        // Overflow\n        if (x > 0) {\n            obj.records[y][x-1].style.overflow = 'hidden';\n        }\n\n        // Create editor\n        var createEditor = function(type) {\n            // Cell information\n            var info = cell.getBoundingClientRect();\n\n            // Create dropdown\n            var editor = document.createElement(type);\n            editor.style.width = (info.width) + 'px';\n            editor.style.height = (info.height - 2) + 'px';\n            editor.style.minHeight = (info.height - 2) + 'px';\n\n            // Edit cell\n            cell.classList.add('editor');\n            cell.innerHTML = '';\n            cell.appendChild(editor);\n\n            return editor;\n        }\n\n        // Readonly\n        if (cell.classList.contains('readonly') == true) {\n            // Do nothing\n        } else {\n            // Holder\n            obj.edition = [ obj.records[y][x], obj.records[y][x].innerHTML, x, y ];\n\n            // If there is a custom editor for it\n            if (obj.options.columns[x].editor) {\n                // Custom editors\n                obj.options.columns[x].editor.openEditor(cell, el, empty, e);\n            } else {\n                // Native functions\n                if (obj.options.columns[x].type == 'hidden') {\n                    // Do nothing\n                } else if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio') {\n                    // Get value\n                    var value = cell.children[0].checked ? false : true;\n                    // Toogle value\n                    obj.setValue(cell, value);\n                    // Do not keep edition open\n                    obj.edition = null;\n                } else if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {\n                    // Get current value\n                    var value = obj.options.data[y][x];\n\n                    // Create dropdown\n                    if (typeof(obj.options.columns[x].filter) == 'function') {\n                        var source = obj.options.columns[x].filter(el, cell, x, y, obj.options.columns[x].source);\n                    } else {\n                        var source = obj.options.columns[x].source;\n                    }\n\n                    // Create editor\n                    var editor = createEditor('div');\n                    var options = {\n                        data: source,\n                        multiple: obj.options.columns[x].multiple ? true : false,\n                        autocomplete: obj.options.columns[x].autocomplete || obj.options.columns[x].type == 'autocomplete' ? true : false,\n                        opened:true,\n                        value: obj.options.columns[x].multiple ? value.split(';') : value,\n                        width:'100%',\n                        height:editor.style.minHeight,\n                        position: (obj.options.tableOverflow == true || obj.options.fullscreen == true) ? true : false,\n                        onclose:function() {\n                            obj.closeEditor(cell, true);\n                        }\n                    };\n                    if (obj.options.columns[x].options && obj.options.columns[x].options.type) {\n                        options.type = obj.options.columns[x].options.type;\n                    }\n                    jSuites.dropdown(editor, options);\n                } else if (obj.options.columns[x].type == 'calendar' || obj.options.columns[x].type == 'color') {\n                    // Value\n                    var value = obj.options.data[y][x];\n                    // Create editor\n                    var editor = createEditor('input');\n                    editor.value = value;\n\n                    if (obj.options.tableOverflow == true || obj.options.fullscreen == true) {\n                        obj.options.columns[x].options.position = true;\n                    }\n                    obj.options.columns[x].options.value = obj.options.data[y][x];\n                    obj.options.columns[x].options.opened = true;\n                    obj.options.columns[x].options.onclose = function(el, value) {\n                        obj.closeEditor(cell, true);\n                    }\n                    // Current value\n                    if (obj.options.columns[x].type == 'color') {\n                        jSuites.color(editor, obj.options.columns[x].options);\n                    } else {\n                        var calendar = jSuites.calendar(editor, obj.options.columns[x].options);\n                        calendar.setValue(value);\n                    }\n                    // Focus on editor\n                    editor.focus();\n                } else if (obj.options.columns[x].type == 'image') {\n                    // Value\n                    var img = cell.children[0];\n                    // Create editor\n                    var editor = createEditor('div');\n                    editor.style.position = 'relative';\n                    var div = document.createElement('div');\n                    div.classList.add('jclose');\n                    if (img && img.src) {\n                        div.appendChild(img);\n                    }\n                    editor.appendChild(div);\n                    jSuites.image(div, obj.options.imageOptions);\n                    const rect = cell.getBoundingClientRect();\n                    const rectContent = div.getBoundingClientRect();\n                    if (window.innerHeight < rect.bottom + rectContent.height) {\n                        div.style.top = (rect.top - (rectContent.height + 2)) + 'px';\n                    } else {\n                        div.style.top = (rect.top) + 'px';\n                    }\n                } else {\n                    // Value\n                    var value = empty == true ? '' : obj.options.data[y][x];\n\n                    // Basic editor\n                    if (obj.options.columns[x].wordWrap != false && (obj.options.wordWrap == true || obj.options.columns[x].wordWrap == true)) {\n                        var editor = createEditor('textarea');\n                    } else {\n                        var editor = createEditor('input');\n                        // Mask\n                        if (obj.options.columns[x].mask) {\n                            editor.setAttribute('data-mask', obj.options.columns[x].mask);\n                        }\n                    }\n\n                    editor.value = value;\n                    editor.onblur = function() {\n                        obj.closeEditor(cell, true);\n                    };\n                    editor.focus();\n                }\n            }\n        }\n    }\n\n    /**\n     * Close the editor and save the information\n     * \n     * @param object cell\n     * @param boolean save\n     * @return void\n     */\n    obj.closeEditor = function(cell, save) {\n        var x = parseInt(cell.getAttribute('data-x'));\n        var y = parseInt(cell.getAttribute('data-y'));\n\n        // Get cell properties\n        if (save == true) {\n            // If custom editor\n            if (obj.options.columns[x].editor) {\n                // Custom editor\n                var value = obj.options.columns[x].editor.closeEditor(cell, save);\n            } else {\n                // Native functions\n                if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio' || obj.options.columns[x].type == 'hidden') {\n                    // Do nothing\n                } else if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {\n                    var value = cell.children[0].dropdown.close(true);\n                } else if (obj.options.columns[x].type == 'calendar') {\n                    var value = cell.children[0].calendar.close(true);\n                } else if (obj.options.columns[x].type == 'color') {\n                    var value = cell.children[1].color.close(true);\n                } else if (obj.options.columns[x].type == 'image') {\n                    var img = cell.children[0].children[0].children[0];\n                    var value = img && img.tagName == 'IMG' ? img.src : '';\n                } else if (obj.options.columns[x].type == 'numeric') {\n                    var value = cell.children[0].value;\n                    if (value.substr(0,1) != '=') {\n                        if (value == '') {\n                            value = obj.options.columns[x].allowEmpty ? '' : 0;\n                        }\n                    }\n                    cell.children[0].onblur = null;\n                } else {\n                    var value = cell.children[0].value;\n                    cell.children[0].onblur = null;\n                }\n            }\n\n            // Ignore changes if the value is the same\n            if (obj.options.data[y][x] == value) {\n                cell.innerHTML = obj.edition[1];\n            } else {\n                obj.setValue(cell, value);\n            }\n        } else {\n            if (obj.options.columns[x].editor) {\n                // Custom editor\n                obj.options.columns[x].editor.closeEditor(cell, save);\n            } else {\n                if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {\n                    cell.children[0].dropdown.close(true);\n                } else if (obj.options.columns[x].type == 'calendar') {\n                    cell.children[0].calendar.close(true);\n                } else if (obj.options.columns[x].type == 'color') {\n                    cell.children[1].color.close(true);\n                } else {\n                    cell.children[0].onblur = null;\n                }\n            }\n\n            // Restore value\n            cell.innerHTML = obj.edition && obj.edition[1] ? obj.edition[1] : '';\n        }\n\n        // On edition end\n        if (! obj.ignoreEvents) {\n            if (typeof(obj.options.oneditionend) == 'function') {\n                obj.options.oneditionend(el, cell, x, y, value, save);\n            }\n        }\n\n        // Remove editor class\n        cell.classList.remove('editor');\n\n        // Finish edition\n        obj.edition = null;\n    }\n\n    /**\n     * Get the cell object\n     * \n     * @param object cell\n     * @return string value\n     */\n    obj.getCell = function(cell) {\n        // Convert in case name is excel liked ex. A10, BB92\n        cell = jexcel.getIdFromColumnName(cell, true);\n        var x = cell[0];\n        var y = cell[1];\n\n        return obj.records[y][x];\n    }\n\n    /**\n     * Get the cell object from coords\n     * \n     * @param object cell\n     * @return string value\n     */\n    obj.getCellFromCoords = function(x, y) {\n        return obj.records[y][x];\n    }\n\n    /**\n     * Get label\n     * \n     * @param object cell\n     * @return string value\n     */\n    obj.getLabel = function(cell) {\n        // Convert in case name is excel liked ex. A10, BB92\n        cell = jexcel.getIdFromColumnName(cell, true);\n        var x = cell[0];\n        var y = cell[1];\n\n        return obj.records[y][x].innerHTML;\n    }\n\n    /**\n     * Get labelfrom coords\n     * \n     * @param object cell\n     * @return string value\n     */\n    obj.getLabelFromCoords = function(x, y) {\n        return obj.records[y][x].innerHTML;\n    }\n\n    /**\n     * Get the value from a cell\n     * \n     * @param object cell\n     * @return string value\n     */\n    obj.getValue = function(cell, processedValue) {\n        if (typeof(cell) == 'object') {\n            var x = cell.getAttribute('data-x');\n            var y = cell.getAttribute('data-y');\n        } else {\n            cell = jexcel.getIdFromColumnName(cell, true);\n            var x = cell[0];\n            var y = cell[1];\n        }\n\n        var value = null;\n\n        if (x != null && y != null) {\n            if (obj.records[y] && obj.records[y][x] && (processedValue || obj.options.copyCompatibility == true)) {\n                value = obj.records[y][x].innerHTML;\n            } else {\n                if (obj.options.data[y] && obj.options.data[y][x] != 'undefined') {\n                    value = obj.options.data[y][x];\n                }\n            }\n        }\n\n        return value;\n    }\n\n    /**\n     * Get the value from a coords\n     * \n     * @param int x\n     * @param int y\n     * @return string value\n     */\n    obj.getValueFromCoords = function(x, y, processedValue) {\n        var value = null;\n\n        if (x != null && y != null) {\n            if ((obj.records[y] && obj.records[y][x]) && processedValue || obj.options.copyCompatibility == true) {\n                value = obj.records[y][x].innerHTML;\n            } else {\n                if (obj.options.data[y] && obj.options.data[y][x] != 'undefined') {\n                    value = obj.options.data[y][x];\n                }\n            }\n        }\n\n        return value;\n    }\n\n    /**\n     * Set a cell value\n     * \n     * @param mixed cell destination cell\n     * @param string value value\n     * @return void\n     */\n    obj.setValue = function(cell, value, force) {\n        var records = [];\n\n        if (typeof(cell) == 'string') {\n            var columnId = jexcel.getIdFromColumnName(cell, true);\n            var x = columnId[0];\n            var y = columnId[1];\n\n            // Update cell\n            records.push(obj.updateCell(x, y, value, force));\n\n            // Update all formulas in the chain\n            obj.updateFormulaChain(x, y, records);\n        } else {\n            var x = null;\n            var y = null;\n            if (cell && cell.getAttribute) {\n                var x = cell.getAttribute('data-x');\n                var y = cell.getAttribute('data-y');\n            }\n\n            // Update cell\n            if (x != null && y != null) {\n                records.push(obj.updateCell(x, y, value, force));\n\n                // Update all formulas in the chain\n                obj.updateFormulaChain(x, y, records);\n            } else {\n                var keys = Object.keys(cell);\n                if (keys.length > 0) {\n                    for (var i = 0; i < keys.length; i++) {\n                        if (typeof(cell[i]) == 'string') {\n                            var columnId = jexcel.getIdFromColumnName(cell[i], true);\n                            var x = columnId[0];\n                            var y = columnId[1];\n                        } else {\n                            var x = cell[i].getAttribute('data-x');\n                            var y = cell[i].getAttribute('data-y');\n                        }\n\n                         // Update cell\n                        if (x != null && y != null) {\n                            records.push(obj.updateCell(x, y, value, force));\n\n                            // Update all formulas in the chain\n                            obj.updateFormulaChain(x, y, records);\n                        }\n                    }\n                }\n            }\n        }\n\n        // Update history\n        obj.setHistory({\n            action:'setValue',\n            records:records,\n            selection:obj.selectedCell,\n        });\n\n        // Update table with custom configurations if applicable\n        obj.updateTable();\n\n        // On after changes\n        obj.onafterchanges(el, records);\n    }\n\n    /**\n     * Set a cell value based on coordinates\n     * \n     * @param int x destination cell\n     * @param int y destination cell\n     * @param string value\n     * @return void\n     */\n    obj.setValueFromCoords = function(x, y, value, force) {\n        var records = [];\n        records.push(obj.updateCell(x, y, value, force));\n\n        // Update all formulas in the chain\n        obj.updateFormulaChain(x, y, records);\n\n        // Update history\n        obj.setHistory({\n            action:'setValue',\n            records:records,\n            selection:obj.selectedCell,\n        });\n\n        // Update table with custom configurations if applicable\n        obj.updateTable();\n\n        // On after changes\n        obj.onafterchanges(el, records);\n    }\n\n    /**\n     * Toogle\n     */\n    obj.setCheckRadioValue = function() {\n        var records = [];\n        var keys = Object.keys(obj.highlighted);\n        for (var i = 0; i < keys.length; i++) {\n            var x = obj.highlighted[i].getAttribute('data-x');\n            var y = obj.highlighted[i].getAttribute('data-y');\n\n            if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio') {\n                // Update cell\n                records.push(obj.updateCell(x, y, ! obj.options.data[y][x]));\n            }\n        }\n\n        if (records.length) {\n            // Update history\n            obj.setHistory({\n                action:'setValue',\n                records:records,\n                selection:obj.selectedCell,\n            });\n\n            // On after changes\n            obj.onafterchanges(el, records);\n        }\n    }\n\n    /**\n     * Update cell content\n     * \n     * @param object cell\n     * @return void\n     */\n    obj.updateCell = function(x, y, value, force) {\n        // Changing value depending on the column type\n        if (obj.records[y][x].classList.contains('readonly') == true && ! force) {\n            // Do nothing\r\n            var record = {\r\n                x: x,\r\n                y: y,\r\n                col: x,\r\n                row: y\r\n            }\n        } else {\n            // On change\n            if (! obj.ignoreEvents) {\n                if (typeof(obj.options.onbeforechange) == 'function') {\n                    // Overwrite a value\n                    var val = obj.options.onbeforechange(el, obj.records[y][x], x, y, value);\n\n                    // If you return something this will overwrite the value\n                    if (val != undefined) {\n                        value = val;\n                    }\n                }\n            }\n\n            // History format\n            var record = {\n                x: x,\r\n                y: y,\n                col: x,\n                row: y,\n                newValue: value,\n                oldValue: obj.options.data[y][x],\n            }\n\n            if (obj.options.columns[x].editor) {\n                // Update data and cell\n                obj.options.data[y][x] = value;\n                obj.options.columns[x].editor.setValue(obj.records[y][x], value, force);\n            } else {\n                // Native functions\n                if (obj.options.columns[x].type == 'checkbox' || obj.options.columns[x].type == 'radio') {\n                    // Unchecked all options\n                    if (obj.options.columns[x].type == 'radio') {\n                        for (var j = 0; j < obj.options.data.length; j++) {\n                            obj.options.data[j][x] = false;\n                        }\n                    }\n\n                    // Update data and cell\n                    obj.records[y][x].children[0].checked = (value == 1 || value == true || value == 'true' || value == 'TRUE') ? true : false;\n                    obj.options.data[y][x] = obj.records[y][x].children[0].checked;\n                } else if (obj.options.columns[x].type == 'dropdown' || obj.options.columns[x].type == 'autocomplete') {\n                    // Update data and cell\n                    obj.options.data[y][x] = value;\n                    obj.records[y][x].innerHTML = obj.getDropDownValue(x, value);\n                } else if (obj.options.columns[x].type == 'calendar') {\n                    // Update calendar\n                    var formatted = jSuites.calendar.extractDateFromString(value, obj.options.columns[x].options.format);\n                    // Update data and cell\n                    obj.options.data[y][x] = value;\n                    obj.records[y][x].innerHTML = jSuites.calendar.getDateString(formatted ? formatted : value, obj.options.columns[x].options.format);\n                } else if (obj.options.columns[x].type == 'color') {\n                    // Update color\n                    obj.options.data[y][x] = value;\n                    // Render\n                    if (obj.options.columns[x].render == 'square') {\n                        var color = document.createElement('div');\n                        color.className = 'color';\n                        color.style.backgroundColor = value;\n                        obj.records[y][x].innerHTML = '';\n                        obj.records[y][x].appendChild(color);\n                    } else {\n                    obj.records[y][x].style.color = value;\n                        obj.records[y][x].innerHTML = value;\n                    }\n                } else if (obj.options.columns[x].type == 'image') {\n                    value = ''+value;\n                    obj.options.data[y][x] = value;\n                    obj.records[y][x].innerHTML = '';\n                    if (value && value.substr(0, 10) == 'data:image') {\n                        var img = document.createElement('img');\n                        img.src = value;\n                        obj.records[y][x].appendChild(img);\n                    }\n                } else {\n                    // Update data and cell\n                    obj.options.data[y][x] = value;\n                    // Label\n                    if (('' + value).substr(0,1) == '='  && obj.options.parseFormulas == true) {\n                        value = obj.executeFormula(value, x, y);\n                    }\n                    if (obj.options.columns[x].mask) {\n                        var decimal = obj.options.columns[x].decimal || '.';\n                        value = '' + jSuites.mask.run(value, obj.options.columns[x].mask, decimal);\n                    }\n                    obj.records[y][x].innerHTML = value;\n\n                    // Handle big text inside a cell\n                    if (obj.options.columns[x].wordWrap != false && (obj.options.wordWrap == true || obj.options.columns[x].wordWrap == true || obj.records[y][x].innerHTML.length > 200)) {\n                        obj.records[y][x].style.whiteSpace = 'pre-wrap';\n                    } else {\n                        obj.records[y][x].style.whiteSpace = '';\n                    }\n                }\n            }\n\n            // Overflow\n            if (x > 0) {\n                if (value) {\n                    obj.records[y][x-1].style.overflow = 'hidden';\n                } else {\n                    obj.records[y][x-1].style.overflow = '';\n                }\n            }\n\n            // On change\n            if (! obj.ignoreEvents) {\n                if (typeof(obj.options.onchange) == 'function') {\n                    obj.options.onchange(el, (obj.records[y] && obj.records[y][x] ? obj.records[y][x] : null), x, y, value, record.oldValue);\n                }\n            }\n        }\n\n        return record;\n    }\n\n    /**\n     * Helper function to copy data using the corner icon\n     */\n    obj.copyData = function(o, d) {\n        // Get data from all selected cells\n        var data = obj.getData(true, true);\n\n        // Selected cells\r\n        var h = obj.selectedContainer;\n\n        // Cells\n        var x1 = parseInt(o.getAttribute('data-x'));\n        var y1 = parseInt(o.getAttribute('data-y'));\n        var x2 = parseInt(d.getAttribute('data-x'));\n        var y2 = parseInt(d.getAttribute('data-y'));\n\n        // Records\n        var records = [];\n        var breakControl = false;\n\n        if (h[0] == x1) {\r\n            // Vertical copy\r\n            if (y1 < h[1]) {\r\n                var rowNumber = y1 - h[1];\r\n            } else {\r\n                var rowNumber = 1;\r\n            }\r\n            var colNumber = 0;\r\n        } else {\r\n            if (x1 < h[0]) {\r\n                var colNumber = x1 - h[0];\r\n            } else {\r\n                var colNumber = 1;\r\n            }\r\n            var rowNumber = 0;\r\n        }\r\n\n        // Copy data procedure\n        var posx = 0;\n        var posy = 0;\n\n        for (var j = y1; j <= y2; j++) {\n            // Skip hidden rows\n            if (obj.rows[j] && obj.rows[j].style.display == 'none') {\n                continue;\n            }\n\n            // Controls\n            if (data[posy] == undefined) {\n                posy = 0;\n            }\n            posx = 0;\n\n            // Data columns\n            if (h[0] != x1) {\r\n                if (x1 < h[0]) {\r\n                    var colNumber = x1 - h[0];\r\n                } else {\r\n                    var colNumber = 1;\r\n                }\r\n            }\n            // Data columns\n            for (var i = x1; i <= x2; i++) {\n                // Update non-readonly\n                if (obj.records[j][i] && ! obj.records[j][i].classList.contains('readonly') && obj.records[j][i].style.display != 'none' && breakControl == false) {\n                    // Stop if contains value\n                    if (! obj.selection.length) {\n                        if (obj.options.data[j][i] != '') {\n                            breakControl = true;\n                            continue;\n                        }\n                    }\n\n                    // Column\n                    if (data[posy] == undefined) {\n                        posx = 0;\n                    } else if (data[posy][posx] == undefined) {\n                        posx = 0;\n                    }\r\n\r\n                    // Value\r\n                    var value = data[posy][posx];\n\n                        if (value && ! data[1] && obj.options.autoIncrement == true) {\n                        if (obj.options.columns[i].type == 'text' || obj.options.columns[i].type == 'number') {\n                            if ((''+value).substr(0,1) == '=') {\n                                var tokens = value.match(/([A-Z]+[0-9]+)/g);\n\n                                if (tokens) {\n                                    var affectedTokens = [];\n                                    for (var index = 0; index < tokens.length; index++) {\n                                        var position = jexcel.getIdFromColumnName(tokens[index], 1);\n                                        position[0] += colNumber;\r\n                                        position[1] += rowNumber;\r\n                                        if (position[1] < 0) {\r\n                                            position[1] = 0;\r\n                                        }\n                                        var token = jexcel.getColumnNameFromId([position[0], position[1]]);\n\n                                        if (token != tokens[index]) {\n                                            affectedTokens[tokens[index]] = token;\n                                        }\n                                    }\n                                    // Update formula\n                                    if (affectedTokens) {\n                                        value = obj.updateFormula(value, affectedTokens)\n                                    }\n                                }\n                            } else {\n                                if (value == Number(value)) {\n                                    value = Number(value) + rowNumber;\n                                }\n                            }\n                        } else if (obj.options.columns[i].type == 'calendar') {\n                            var date = new Date(value);\n                            date.setDate(date.getDate() + rowNumber);\n                            value = date.getFullYear() + '-' + jexcel.doubleDigitFormat(parseInt(date.getMonth() + 1)) + '-' + jexcel.doubleDigitFormat(date.getDate()) + ' ' + '00:00:00';\n                        }\n                    }\n\n                    records.push(obj.updateCell(i, j, value));\n\n                    // Update all formulas in the chain\n                    obj.updateFormulaChain(i, j, records);\n                }\n                posx++;\n                if (h[0] != x1) {\r\n                    colNumber++;\r\n                }\n            }\n            posy++;\n            rowNumber++;\n        }\n\n        // Update history\n        obj.setHistory({\n            action:'setValue',\n            records:records,\n            selection:obj.selectedCell,\n        });\n\n        // Update table with custom configuration if applicable\n        obj.updateTable();\n\n        // On after changes\n        obj.onafterchanges(el, records);\n    }\n\n    /**\n     * Refresh current selection\n     */\n    obj.refreshSelection = function() {\n        if (obj.selectedCell) {\n            obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n        }\n    }\n\n    /**\n     * Move coords to A1 in case ovelaps with an excluded cell\n     */\n    obj.conditionalSelectionUpdate = function(type, o, d) {\n        if (type == 1) {\n            if (obj.selectedCell && ((o >= obj.selectedCell[1] && o <= obj.selectedCell[3]) || (d >= obj.selectedCell[1] && d <= obj.selectedCell[3]))) {\n                obj.resetSelection();\n                return;\n            }\n        } else {\n            if (obj.selectedCell && ((o >= obj.selectedCell[0] && o <= obj.selectedCell[2]) || (d >= obj.selectedCell[0] && d <= obj.selectedCell[2]))) {\n                obj.resetSelection();\n                return;\n            }\n        }\n    }\n\n    /**\n     * Clear table selection\n     */\n    obj.resetSelection = function(blur) {\n        // Remove style\n        if (! obj.highlighted.length) {\n            var previousStatus = 0;\n        } else {\n            var previousStatus = 1;\n\n            for (var i = 0; i < obj.highlighted.length; i++) {\n                obj.highlighted[i].classList.remove('highlight');\n                obj.highlighted[i].classList.remove('highlight-left');\n                obj.highlighted[i].classList.remove('highlight-right');\n                obj.highlighted[i].classList.remove('highlight-top');\n                obj.highlighted[i].classList.remove('highlight-bottom');\n                obj.highlighted[i].classList.remove('highlight-selected');\n\n                var px = parseInt(obj.highlighted[i].getAttribute('data-x'));\n                var py = parseInt(obj.highlighted[i].getAttribute('data-y'));\n\n                // Check for merged cells\n                if (obj.highlighted[i].getAttribute('data-merged')) {\n                    var colspan = parseInt(obj.highlighted[i].getAttribute('colspan'));\n                    var rowspan = parseInt(obj.highlighted[i].getAttribute('rowspan'));\n                    var ux = colspan > 0 ? px + (colspan - 1) : px;\n                    var uy = rowspan > 0 ? py + (rowspan - 1): py;\n                } else {\n                    var ux = px;\n                    var uy = py;\n                }\n\n                // Remove selected from headers\n                for (var j = px; j <= ux; j++) {\n                    if (obj.headers[j]) {\n                        obj.headers[j].classList.remove('selected');\n                    }\n                }\n\n                // Remove selected from rows\n                for (var j = py; j <= uy; j++) {\n                    if (obj.rows[j]) {\n                        obj.rows[j].classList.remove('selected');\n                    }\n                }\n            }\n        }\n\n        // Reset highlighed cells\n        obj.highlighted = [];\n\n        // Reset\n        obj.selectedCell = null;\n\n        // Hide corner\n        obj.corner.style.top = '-2000px';\n        obj.corner.style.left = '-2000px';\n\n        if (obj.ignoreEvents != true && blur == true) {\n            if (obj.options.onblur) {\n                if (typeof(obj.options.onblur) == 'function') {\n                    if (previousStatus == 1) {\n                        obj.options.onblur(el);\n                    }\n                }\n            }\n        }\n\n        return previousStatus;\n    }\n\n    /**\n     * Update selection based on two cells\n     */\n    obj.updateSelection = function(el1, el2, origin) {\n        var x1 = el1.getAttribute('data-x');\n        var y1 = el1.getAttribute('data-y');\n        if (el2) {\n            var x2 = el2.getAttribute('data-x');\n            var y2 = el2.getAttribute('data-y');\n        } else {\n            var x2 = x1;\n            var y2 = y1;\n        }\n\n        obj.updateSelectionFromCoords(x1, y1, x2, y2, origin);\n    }\n\n    /**\n     * Update selection from coords\n     */\n    obj.updateSelectionFromCoords = function(x1, y1, x2, y2, origin) {\n        // Reset Selection\n        var updated = null;\n        var previousState = obj.resetSelection();\n\n        // Same element\n        if (x2 == null) {\n            x2 = x1;\n        }\n        if (y2 == null) {\n            y2 = y1;\n        }\n\n        // Selection must be within the existing data\n        if (x1 >= obj.headers.length) {\n            x1 = obj.headers.length - 1;\n        }\n        if (y1 >= obj.rows.length) {\n            y1 = obj.rows.length - 1;\n        }\n        if (x2 >= obj.headers.length) {\n            x2 = obj.headers.length - 1;\n        }\n        if (y2 >= obj.rows.length) {\n            y2 = obj.rows.length - 1;\n        }\n\n        // Keep selected cell\n        obj.selectedCell = [x1, y1, x2, y2];\n\n        // Select cells\n        if (x1 != null) {\n            // Add selected cell\n            if (obj.records[y1][x1]) {\n                obj.records[y1][x1].classList.add('highlight-selected');\n            }\n\n            // Origin & Destination\n            if (parseInt(x1) < parseInt(x2)) {\n                var px = parseInt(x1);\n                var ux = parseInt(x2);\n            } else {\n                var px = parseInt(x2);\n                var ux = parseInt(x1);\n            }\n\n            if (parseInt(y1) < parseInt(y2)) {\n                var py = parseInt(y1);\n                var uy = parseInt(y2);\n            } else {\n                var py = parseInt(y2);\n                var uy = parseInt(y1);\n            }\n\n            // Verify merged columns\n            for (var i = px; i <= ux; i++) {\n                for (var j = py; j <= uy; j++) {\n                    if (obj.records[j][i] && obj.records[j][i].getAttribute('data-merged')) {\n                        var x = parseInt(obj.records[j][i].getAttribute('data-x'));\n                        var y = parseInt(obj.records[j][i].getAttribute('data-y'));\n                        var colspan = parseInt(obj.records[j][i].getAttribute('colspan'));\n                        var rowspan = parseInt(obj.records[j][i].getAttribute('rowspan'));\n\n                        if (colspan > 1) {\n                            if (x < px) {\n                                px = x;\n                            }\n                            if (x + colspan > ux) {\n                                ux = x + colspan - 1;\n                            }\n                        }\n\n                        if (rowspan) {\n                            if (y < py) {\n                                py = y;\n\n                            }\n                            if (y + rowspan > uy) {\n                                uy = y + rowspan - 1;\n                            }\n                        }\n                    }\n                }\n            }\n\n            // Limits\n            var borderLeft = null;\n            var borderRight = null;\n            var borderTop = null;\n            var borderBottom = null;\n\n            // Vertical limits\n            for (var j = py; j <= uy; j++) {\n                if (obj.rows[j].style.display != 'none') {\n                    if (borderTop == null) {\n                        borderTop = j;\n                    }\n                    borderBottom = j;\n                }\n            }\n\n            // Redefining styles\n            for (var i = px; i <= ux; i++) {\n                for (var j = py; j <= uy; j++) {\n                    if (obj.rows[j].style.display != 'none' && obj.records[j][i].style.display != 'none') {\n                        obj.records[j][i].classList.add('highlight');\n                        obj.highlighted.push(obj.records[j][i]);\n                    }\n                }\n\n                // Horizontal limits\n                if (obj.options.columns[i].type != 'hidden') {\n                    if (borderLeft == null) {\n                        borderLeft = i;\n                    }\n                    borderRight = i;\n                }\n            }\n\n            // Create borders\n            if (! borderLeft) {\n                borderLeft = 0;\n            }\n            if (! borderRight) {\n                borderRight = 0;\n            }\n            for (var i = borderLeft; i <= borderRight; i++) {\n                if (obj.options.columns[i].type != 'hidden') {\n                    // Top border\n                    if (obj.records[borderTop][i]) {\n                        obj.records[borderTop][i].classList.add('highlight-top');\n                    }\n                    // Bottom border\n                    if (obj.records[borderBottom][i]) {\n                        obj.records[borderBottom][i].classList.add('highlight-bottom');\n                    }\n                    // Add selected from headers\n                    obj.headers[i].classList.add('selected');\n                }\n            }\n\n            for (var j = borderTop; j <= borderBottom; j++) {\n                if (obj.rows[j].style.display != 'none') {\n                    // Left border\n                    obj.records[j][borderLeft].classList.add('highlight-left');\n                    // Right border\n                    obj.records[j][borderRight].classList.add('highlight-right');\n                    // Add selected from rows\n                    obj.rows[j].classList.add('selected');\n                }\n            }\n\n            obj.selectedContainer = [ borderLeft, borderTop, borderRight, borderBottom ];\n        }\n\n        // Handle events\n        if (obj.ignoreEvents != true) {\n            if (obj.options.onfocus) {\n                if (typeof(obj.options.onfocus) == 'function') {\n                    if (previousState == 0) {\n                        obj.options.onfocus(el);\n                    }\n                }\n            }\n\n            if (typeof(obj.options.onselection) == 'function') {\n                obj.options.onselection(el, borderLeft, borderTop, borderRight, borderBottom, origin);\n            }\n        }\n\n        // Find corner cell\n        obj.updateCornerPosition();\n    }\n\n    /**\n     * Remove copy selection\n     * \n     * @return void\n     */\n    obj.removeCopySelection = function() {\n        // Remove current selection\n        for (var i = 0; i < obj.selection.length; i++) {\n            obj.selection[i].classList.remove('selection');\n            obj.selection[i].classList.remove('selection-left');\n            obj.selection[i].classList.remove('selection-right');\n            obj.selection[i].classList.remove('selection-top');\n            obj.selection[i].classList.remove('selection-bottom');\n        }\n\n        obj.selection = [];\n    }\n\n    /**\n     * Update copy selection\n     * \n     * @param int x, y\n     * @return void\n     */\n    obj.updateCopySelection = function(x3, y3) {\n        // Remove selection\n        obj.removeCopySelection();\n\n        // Get elements first and last\n        var x1 = obj.selectedContainer[0];\n        var y1 = obj.selectedContainer[1];\n        var x2 = obj.selectedContainer[2];\n        var y2 = obj.selectedContainer[3];\n\n        if (x3 != null && y3 != null) {\n            if (x3 - x2 > 0) {\n                var px = parseInt(x2) + 1;\n                var ux = parseInt(x3);\n            } else {\n                var px = parseInt(x3);\n                var ux = parseInt(x1) - 1;\n            }\n\n            if (y3 - y2 > 0) {\n                var py = parseInt(y2) + 1;\n                var uy = parseInt(y3);\n            } else {\n                var py = parseInt(y3);\n                var uy = parseInt(y1) - 1;\n            }\n\n            if (ux - px < uy - py) {\n                var px = parseInt(x1);\n                var ux = parseInt(x2);\n            } else {\n                var py = parseInt(y1);\n                var uy = parseInt(y2);\n            }\n\n            for (var j = py; j <= uy; j++) {\n                for (var i = px; i <= ux; i++) {\n                    if (obj.records[j][i] && obj.rows[j].style.display != 'none' && obj.records[j][i].style.display != 'none') {\n                        obj.records[j][i].classList.add('selection');\n                        obj.records[py][i].classList.add('selection-top');\n                        obj.records[uy][i].classList.add('selection-bottom');\n                        obj.records[j][px].classList.add('selection-left');\n                        obj.records[j][ux].classList.add('selection-right');\n\n                        // Persist selected elements\n                        obj.selection.push(obj.records[j][i]);\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Update corner position\n     * \n     * @return void\n     */\n    obj.updateCornerPosition = function() {\n        // If any selected cells\n        if (! obj.highlighted.length) {\n            obj.corner.style.top = '-2000px';\n            obj.corner.style.left = '-2000px';\n        } else {\n            // Get last cell\n            var last = obj.highlighted[obj.highlighted.length-1];\n\r\n            const contentRect = obj.content.getBoundingClientRect();\r\n            var x1 = contentRect.left;\r\n            var y1 = contentRect.top;\r\n\r\n            const lastRect = last.getBoundingClientRect();\r\n            var x2 = lastRect.left;\r\n            var y2 = lastRect.top;\r\n            var w2 = lastRect.width;\r\n            var h2 = lastRect.height;\r\n\n            var x = (x2 - x1) + obj.content.scrollLeft + w2 - 4;\n            var y = (y2 - y1) + obj.content.scrollTop + h2 - 4;\n\n            // Place the corner in the correct place\n            obj.corner.style.top = y + 'px';\n            obj.corner.style.left = x + 'px';\n        }\n    }\n\n    /**\n     * Update scroll position based on the selection\n     */\n    obj.updateScroll = function(direction) {\n        // jExcel Container information\n        const contentRect = obj.content.getBoundingClientRect();\r\n        var x1 = contentRect.left;\r\n        var y1 = contentRect.top;\r\n        var w1 = contentRect.width;\r\n        var h1 = contentRect.height;\r\n\n        // Direction Left or Up\n        var reference = obj.records[obj.selectedCell[3]][obj.selectedCell[2]];\n\n            // Reference\r\n        const referenceRect = reference.getBoundingClientRect();\r\n        var x2 = referenceRect.left;\r\n        var y2 = referenceRect.top;\r\n        var w2 = referenceRect.width;\r\n        var h2 = referenceRect.height;\n\n        // Direction\n        if (direction == 0 || direction == 1) {\n            var x = (x2 - x1) + obj.content.scrollLeft;\n            var y = (y2 - y1) + obj.content.scrollTop - 2;\n        } else {\n            var x = (x2 - x1) + obj.content.scrollLeft + w2;\n            var y = (y2 - y1) + obj.content.scrollTop + h2;\n        }\n\n        // Top position check\n        if (y > (obj.content.scrollTop + 30) && y < (obj.content.scrollTop + h1)) {\n            // In the viewport\n        } else {\n            // Out of viewport\n            if (y < obj.content.scrollTop + 30) {\n                obj.content.scrollTop = y - h2;\n            } else {\n                obj.content.scrollTop = y - (h1 - 2);\n            }\n        }\n\n        // Left position check - TODO: change that to the bottom border of the element\n        if (x > (obj.content.scrollLeft) && x < (obj.content.scrollLeft + w1)) {\n            // In the viewport\n        } else {\n            // Out of viewport\n            if (x < obj.content.scrollLeft + 30) {\n                obj.content.scrollLeft = x;\n                if (obj.content.scrollLeft < 50) {\n                    obj.content.scrollLeft = 0;\n                }\n            } else {\n                obj.content.scrollLeft = x - (w1 - 20);\n            }\n        }\n    }\n\n    /**\n     * Get the column width\n     * \n     * @param int column column number (first column is: 0)\n     * @return int current width\n     */\n    obj.getWidth = function(column) {\n        if (! column) {\n            // Get all headers\n            var data = [];\n            for (var i = 0; i < obj.headers.length; i++) {\n                data.push(obj.options.columns[i].width);\n            }\n        } else {\n            // In case the column is an object\n            if (typeof(column) == 'object') {\n                column = $(column).getAttribute('data-x');\n            }\n\n            data = obj.colgroup[column].getAttribute('width')\n        }\n\n        return data;\n    }\n\n    /**\n     * Set the column width\n     * \n     * @param int column number (first column is: 0)\n     * @param int new column width\n     * @param int old column width\n     */\n    obj.setWidth = function (column, width, oldWidth) {\n        if (width > 0) {\n            // In case the column is an object\n            if (typeof(column) == 'object') {\n                column = column.getAttribute('data-x');\n            }\n\n            // Oldwidth\n            if (! oldWidth) {\n                oldWidth = obj.colgroup[column].getAttribute('width');\n            }\n\n            // Set width\n            obj.colgroup[column].setAttribute('width', width);\n            obj.options.columns[column].width = width;\n\n            // Keeping history of changes\n            obj.setHistory({\n                action:'setWidth',\n                column:column,\n                oldValue:oldWidth,\n                newValue:width,\n            });\n\n            // On resize column\n            if (obj.ignoreEvents != true) {\n                if (typeof(obj.options.onresizecolumn) == 'function') {\n                    obj.options.onresizecolumn(el, column, width, oldWidth);\n                }\n            }\n\n            // Update corner position\n            obj.updateCornerPosition();\n        }\n    }\n\n    /**\n     * Set the row height\n     * \n     * @param row - row number (first row is: 0)\n     * @param height - new row height\n     * @param oldHeight - old row height\n     */\n    obj.setHeight = function (row, height, oldHeight) {\n        if (height > 0) {\n            // In case the column is an object\n            if (typeof(row) == 'object') {\n                row = row.getAttribute('data-y');\n            }\n\n            // Oldwidth\n            if (! oldHeight) {\n                oldHeight = obj.rows[row].getAttribute('height');\r\n\r\n                if (! oldHeight) {\r\n                    var rect = obj.rows[row].getBoundingClientRect();\r\n                    oldHeight = rect.height;\r\n                }\n            }\n\n            // Integer\r\n            height = parseInt(height);\r\n\n            // Set width\n            obj.rows[row].style.height = height + 'px';\n\n            // Keep options updated\n            if (! obj.options.rows[row]) {\n                obj.options.rows[row] = {};\n            }\n            obj.options.rows[row].height = height;\n\n            // Keeping history of changes\n            obj.setHistory({\n                action:'setHeight',\n                row:row,\n                oldValue:oldHeight,\n                newValue:height,\n            });\n\n            // On resize column\n            if (obj.ignoreEvents != true) {\n                if (typeof(obj.options.onresizerow) == 'function') {\n                    obj.options.onresizerow(el, row, height, oldHeight);\n                }\n            }\n\n            // Update corner position\n            obj.updateCornerPosition();\n        }\n    }\n\n    /**\n     * Get the row height\n     * \n     * @param row - row number (first row is: 0)\n     * @return height - current row height\n     */\n    obj.getHeight = function(row) {\n        if (! row) {\n            // Get height of all rows\n            var data = [];\n            for (var j = 0; j < obj.rows.length; j++) {\n                var h = obj.rows[j].style.height;\n                if (h) {\n                    data[j] = h;\n                }\n            }\n        } else {\n            // In case the row is an object\n            if (typeof(row) == 'object') {\n                row = $(row).getAttribute('data-y');\n            }\n\n            var data = obj.rows[row].style.height;\n        }\n\n        return data;\n    }\n\n    /**\n     * Get the column title\n     * \n     * @param column - column number (first column is: 0)\n     * @param title - new column title\n     */\n    obj.getHeader = function(column) {\n        return obj.headers[column].innerText;\n    }\n\n    /**\n     * Set the column title\n     * \n     * @param column - column number (first column is: 0)\n     * @param title - new column title\n     */\n    obj.setHeader = function(column, newValue) {\n        if (obj.headers[column]) {\n            var oldValue = obj.headers[column].innerText;\n\n            if (! newValue) {\n                newValue = prompt(obj.options.text.columnName, oldValue)\n            }\n\n            if (newValue) {\n                obj.headers[column].innerHTML = newValue;\n                // Keep the title property\r\n                obj.headers[column].setAttribute('title', newValue);\n            }\n\n            obj.setHistory({\n                action: 'setHeader',\n                column: column,\n                oldValue: oldValue,\n                newValue: newValue\n            });\n\n            // On change\n            if (! obj.ignoreEvents) {\n                if (typeof(obj.options.onchangeheader) == 'function') {\n                    obj.options.onchangeheader(el, column, oldValue, newValue);\n                }\n            }\n        }\n    }\n\n    /**\n     * Get the headers\n     * \n     * @param asArray\n     * @return mixed\n     */\n    obj.getHeaders = function (asArray) {\n        var title = [];\n\n        for (var i = 0; i < obj.headers.length; i++) {\n            title.push(obj.getHeader(i));\n        }\n\n        return asArray ? title : title.join(obj.options.csvDelimiter);\n    }\n\n    /**\n     * Get meta information from cell(s)\n     * \n     * @return integer\n     */\n    obj.getMeta = function(cell, key) {\n        if (! cell) {\n            return obj.options.meta;\n        } else {\n            if (key) {\n                return obj.options.meta[cell] && obj.options.meta[cell][key] ? obj.options.meta[cell][key] : null;\n            } else {\n                return obj.options.meta[cell] ? obj.options.meta[cell] : null;\n            }\n        }\n    }\n\n    /**\n     * Set meta information to cell(s)\n     * \n     * @return integer\n     */\n    obj.setMeta = function(o, k, v) {\n        if (! obj.options.meta) {\n            obj.options.meta = {}\n        }\n\n        if (k && v) {\n            // Set data value\n            if (! obj.options.meta[o]) {\n                obj.options.meta[o] = {};\n            }\n            obj.options.meta[o][k] = v;\n        } else {\n            // Apply that for all cells\n            var keys = Object.keys(o);\n            for (var i = 0; i < keys.length; i++) {\n                if (! obj.options.meta[keys[i]]) {\n                    obj.options.meta[keys[i]] = {};\n                }\n\n                var prop = Object.keys(o[keys[i]]);\n                for (var j = 0; j < prop.length; j++) {\n                    obj.options.meta[keys[i]][prop[j]] = o[keys[i]][prop[j]];\n                }\n            }\n        }\n\n        if (obj.ignoreEvents != true) {\n            if (typeof(obj.options.onchangemeta) == 'function') {\n                obj.options.onchangemeta(el, o, k, v);\n            }\n        }\n    }\n\n    /**\n     * Update meta information\n     * \n     * @return integer\n     */\n    obj.updateMeta = function(affectedCells) {\n        if (obj.options.meta) {\n            var newMeta = {};\n            var keys = Object.keys(obj.options.meta);\n            for (var i = 0; i < keys.length; i++) {\n                if (affectedCells[keys[i]]) {\n                    newMeta[affectedCells[keys[i]]] = obj.options.meta[keys[i]];\n                } else {\n                    newMeta[keys[i]] = obj.options.meta[keys[i]];\n                }\n            }\n            // Update meta information\n            obj.options.meta = newMeta;\n        }\n    }\n\n    /**\n     * Get style information from cell(s)\n     * \n     * @return integer\n     */\n    obj.getStyle = function(cell, key) {\n        // Cell\n        if (! cell) {\n            // Control vars\n            var data = {};\n\n            // Column and row length\n            var x = obj.options.data[0].length;\n            var y = obj.options.data.length;\n\n            // Go through the columns to get the data\n            for (var j = 0; j < y; j++) {\n                for (var i = 0; i < x; i++) {\n                    // Value\n                    var v = key ? obj.records[j][i].style[key] : obj.records[j][i].getAttribute('style');\n\n                    // Any meta data for this column?\n                    if (v) {\n                        // Column name\n                        var k = jexcel.getColumnNameFromId([i, j]);\n                        // Value\n                        data[k] = v;\n                    }\n                }\n            }\n\n           return data;\n        } else {\n            cell = jexcel.getIdFromColumnName(cell, true);\n\n            return key ? obj.records[cell[1]][cell[0]].style[key] : obj.records[cell[1]][cell[0]].getAttribute('style');\n        }\n    },\n\n    obj.resetStyle = function(o, ignoreHistoryAndEvents) {\n        var keys = Object.keys(o);\n        for (var i = 0; i < keys.length; i++) {\n            // Position\n            var cell = jexcel.getIdFromColumnName(keys[i], true);\n            if (obj.records[cell[1]] && obj.records[cell[1]][cell[0]]) {\n                obj.records[cell[1]][cell[0]].setAttribute('style', '');\n            }\n        }\n        obj.setStyle(o, null, null, null, ignoreHistoryAndEvents);\n    }\n\n    /**\n     * Set meta information to cell(s)\n     * \n     * @return integer\n     */\n    obj.setStyle = function(o, k, v, force, ignoreHistoryAndEvents) {\n        var newValue = {};\n        var oldValue = {};\n\n        // Apply style\n        var applyStyle = function(cellId, key, value) {\n            // Position\n            var cell = jexcel.getIdFromColumnName(cellId, true);\n\n            if (obj.records[cell[1]] && obj.records[cell[1]][cell[0]]) {\n                // Current value\n                var currentValue = obj.records[cell[1]][cell[0]].style[key];\n\n                // Change layout\n                if (currentValue == value && ! force) {\n                    value = '';\n                    obj.records[cell[1]][cell[0]].style[key] = '';\n                } else {\n                    obj.records[cell[1]][cell[0]].style[key] = value;\n                }\n\n                // History\n                if (! oldValue[cellId]) {\n                    oldValue[cellId] = [];\n                }\n                if (! newValue[cellId]) {\n                    newValue[cellId] = [];\n                }\n\n                oldValue[cellId].push([key + ':' + currentValue]);\n                newValue[cellId].push([key + ':' + value]);\n            }\n        }\n\n        if (k && v) {\n            // Get object from string\n            if (typeof(o) == 'string') {\n                applyStyle(o, k, v);\n            } else {\n                // Avoid duplications\n                var oneApplication = [];\n                // Apply that for all cells\n                for (var i = 0; i < o.length; i++) {\n                    var x = o[i].getAttribute('data-x');\n                    var y = o[i].getAttribute('data-y');\n                    var cellName = jexcel.getColumnNameFromId([x, y]);\n                    // This happens when is a merged cell\n                    if (! oneApplication[cellName]) {\n                        applyStyle(cellName, k, v);\n                        oneApplication[cellName] = true;\n                    }\n                }\n            }\n        } else {\n            var keys = Object.keys(o);\n            for (var i = 0; i < keys.length; i++) {\n                var style = o[keys[i]];\n                if (typeof(style) == 'string') {\n                    style = style.split(';');\n                }\n                for (var j = 0; j < style.length; j++) {\n                    if (typeof(style[j]) == 'string') {\n                        style[j] = style[j].split(':');\n                    }\n                    // Apply value\n                    if (style[j][0].trim()) {\n                        applyStyle(keys[i], style[j][0].trim(), style[j][1]);\n                    }\n                }\n            }\n        }\n\n        var keys = Object.keys(oldValue);\n        for (var i = 0; i < keys.length; i++) {\n            oldValue[keys[i]] = oldValue[keys[i]].join(';');\n        }\n        var keys = Object.keys(newValue);\n        for (var i = 0; i < keys.length; i++) {\n            newValue[keys[i]] = newValue[keys[i]].join(';');\n        }\n\n        if (! ignoreHistoryAndEvents) {\n            // Keeping history of changes\n            obj.setHistory({\n                action: 'setStyle',\n                oldValue: oldValue,\n                newValue: newValue,\n            });\n        }\n\n        if (obj.ignoreEvents != true) {\n            if (typeof(obj.options.onchangestyle) == 'function') {\n                obj.options.onchangestyle(el, o, k, v);\n            }\n        }\n    }\n\n    /**\n     * Get cell comments, null cell for all\n     */\n    obj.getComments = function(cell, withAuthor) {\n        if (cell) {\r\n            if (typeof(cell) == 'string') {\r\n              var cell = jexcel.getIdFromColumnName(cell, true);\r\n            }\r\n\r\n            if (withAuthor) {\r\n                return [obj.records[cell[1]][cell[0]].getAttribute('title'), obj.records[cell[1]][cell[0]].getAttribute('author')];\r\n            } else {\r\n                return obj.records[cell[1]][cell[0]].getAttribute('title') || '';\r\n            }\r\n        } else {\r\n            var data = {};\r\n            for (var j = 0; j < obj.options.data.length; j++) {\r\n                for (var i = 0; i < obj.options.columns.length; i++) {\r\n                    var comments = obj.records[j][i].getAttribute('title');\r\n                    if (comments) {\r\n                        var cell = jexcel.getColumnNameFromId([i, j]);\r\n                        data[cell] = comments;\r\n                    }\r\n                }\r\n            }\r\n            return data;\r\n        }\n    }\n\n    /**\n     * Set cell comments\n     */\n    obj.setComments = function(cellId, comments, author) {\n        if (typeof(cellId) == 'string') {\n            var cell = jexcel.getIdFromColumnName(cellId, true);\n        } else {\n            var cell = cellId;\n        }\n\n        // Keep old value\n        var title = obj.records[cell[1]][cell[0]].getAttribute('title');\n        var author = obj.records[cell[1]][cell[0]].getAttribute('data-author');\n        var oldValue = [ title, author ];\n\n        // Set new values\n        obj.records[cell[1]][cell[0]].setAttribute('title', comments ? comments : '');\n        obj.records[cell[1]][cell[0]].setAttribute('data-author', author ? author : '');\n\n        // Remove class if there is no comment\n        if (comments) {\n            obj.records[cell[1]][cell[0]].classList.add('jexcel_comments');\n        } else {\n            obj.records[cell[1]][cell[0]].classList.remove('jexcel_comments');\n        }\n\n        // Save history\n        obj.setHistory({\n            action:'setComments',\n            column: cellId,\n            newValue: [ comments, author ],\n            oldValue: oldValue,\n        });\n    }\n\n    /**\n     * Get table config information\n     */\n    obj.getConfig = function() {\n        var options = obj.options;\n        options.style = obj.getStyle();\n        options.mergeCells = obj.getMerge();\r\n        options.comments = obj.getComments();\n\n        return options;\n    }\n\n    /**\n     * Sort data and reload table\n     */\n    obj.orderBy = function(column, order) {\n        if (column >= 0) {\n            // Merged cells\n            if (Object.keys(obj.options.mergeCells).length > 0) {\n                if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {\n                    return false;\n                } else {\n                    // Remove merged cells\n                    obj.destroyMerged();\n                }\n            }\n\n            // Direction\n            if (order == null) {\n                order = obj.headers[column].classList.contains('arrow-down') ? 1 : 0;\n            } else {\n                order = order ? 1 : 0;\n            }\n\n            // Filter\n            Array.prototype.orderBy = function(p, o) {\n                return this.slice(0).sort(function(a, b) {\n                    var valueA = a[p] == '' ? '' : Number(a[p]) == a[p] ? Number(a[p]) : a[p].toLowerCase();\n                    var valueB = b[p] == '' ? '' : Number(b[p]) == b[p] ? Number(b[p]) : b[p].toLowerCase();\n\n                    if (! o) {\n                        return (valueA == '' && valueB != '') ? 1 : (valueA != '' && valueB == '') ? -1 : (valueA > valueB) ? 1 : (valueA < valueB) ? -1 :  0;\n                    } else {\n                        return (valueA == '' && valueB != '') ? 1 : (valueA != '' && valueB == '') ? -1 : (valueA > valueB) ? -1 : (valueA < valueB) ? 1 :  0;\n                    }\n                });\n            }\n\n            // Test order\n            var temp = [];\n            if (obj.options.columns[column].type == 'calendar' ||\n                obj.options.columns[column].type == 'checkbox' ||\n                obj.options.columns[column].type == 'radio') {\n                for (var j = 0; j < obj.options.data.length; j++) {\n                    temp[j] = [ j, obj.options.data[j][column] ];\n                }\n            } else {\n                for (var j = 0; j < obj.options.data.length; j++) {\n                    temp[j] = [ j, obj.records[j][column].innerHTML ];\n                }\n            }\n            temp = temp.orderBy(1, order);\n\n            // Save history\n            var newValue = [];\n            for (var j = 0; j < temp.length; j++) {\n                newValue[j] = temp[j][0];\n            }\n\n            // Save history\n            obj.setHistory({\n                action: 'orderBy',\n                rows: newValue,\n                column: column,\n                order: order,\n            });\n\n            // Update order\n            obj.updateOrderArrow(column, order);\n            obj.updateOrder(newValue);\n\n            // On sort event\n            if (obj.ignoreEvents != true) {\n                if (typeof(obj.options.onsort) == 'function') {\n                    obj.options.onsort(el, column, order);\n                }\n            }\n\n            return true;\n        }\n    }\n\n    /**\n     * Update order arrow\n     */\n    obj.updateOrderArrow = function(column, order) {\n        // Remove order\n        for (var i = 0; i < obj.headers.length; i++) {\n            obj.headers[i].classList.remove('arrow-up');\n            obj.headers[i].classList.remove('arrow-down');\n        }\n\n        // No order specified then toggle order\n        if (order) {\n            obj.headers[column].classList.add('arrow-up');\n        } else {\n            obj.headers[column].classList.add('arrow-down');\n        }\n    }\n\n    /**\n     * Update rows position\n     */\n    obj.updateOrder = function(rows) {\n        // History\n        var data = []\n        for (var j = 0; j < rows.length; j++) {\n            data[j] = obj.options.data[rows[j]];\n        }\n        obj.options.data = data;\n\n        var data = []\n        for (var j = 0; j < rows.length; j++) {\n            data[j] = obj.records[rows[j]];\n        }\n        obj.records = data;\n\n        var data = []\n        for (var j = 0; j < rows.length; j++) {\n            data[j] = obj.rows[rows[j]];\n        }\n        obj.rows = data;\n\n        // Update references\n        obj.updateTableReferences();\n\n        // Redo search\n        if (obj.searchInput.value) {\n            obj.search(obj.searchInput.value);\n        } else {\n            // Create page\n            obj.results = null;\n            obj.pageNumber = 0;\n\n            if (obj.options.pagination > 0) {\n                obj.page(0);\n            } else if (obj.options.lazyLoading == true) {\n                obj.loadPage(0);\n            } else {\n                for (var j = 0; j < obj.rows.length; j++) {\n                    obj.tbody.appendChild(obj.rows[j]);\n                }\n            }\n        }\n    }\n\n    /**\n     * Move row\n     * \n     * @return void\n     */\n    obj.moveRow = function(o, d, ignoreDom) {\n        if (Object.keys(obj.options.mergeCells).length > 0) {\n           if (o > d) {\r\n               var insertBefore = 1;\r\n           } else {\r\n               var insertBefore = 0;\r\n           }\r\n\r\n           if (obj.isRowMerged(o).length || obj.isRowMerged(d, insertBefore).length) {\n                if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {\n                    return false;\n                } else {\n                    obj.destroyMerged();\n                }\n            }\n        }\n\n        if (obj.options.search == true) {\n            if (obj.results && obj.results.length != obj.rows.length) {\n                if (confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure)) {\n                    obj.resetSearch();\n                } else {\n                    return false;\n                }\n            }\n\n            obj.results = null;\n        }\n\n        if (! ignoreDom) {\n            if (Array.prototype.indexOf.call(obj.tbody.children, obj.rows[d]) >= 0) {\n                if (o > d) {\n                    obj.tbody.insertBefore(obj.rows[o], obj.rows[d]);\n                } else {\n                    obj.tbody.insertBefore(obj.rows[o], obj.rows[d].nextSibling);\n                }\n            } else {\n                obj.tbody.removeChild(obj.rows[o]);\n            }\n        }\n\n        // Place references in the correct position\n        obj.rows.splice(d, 0, obj.rows.splice(o, 1)[0]);\n        obj.records.splice(d, 0, obj.records.splice(o, 1)[0]);\n        obj.options.data.splice(d, 0, obj.options.data.splice(o, 1)[0]);\n\n        // Respect pagination\n        if (obj.options.pagination > 0 && obj.tbody.children.length != obj.options.pagination) {\n            obj.page(obj.pageNumber);\n        }\n\n        // Keeping history of changes\n        obj.setHistory({\n            action:'moveRow',\n            oldValue: o,\n            newValue: d,\n        });\n\n        // Update table references\n        obj.updateTableReferences();\n\n        // Events\n        if (obj.ignoreEvents != true) {\n            if (typeof(obj.options.onmoverow) == 'function') {\n                obj.options.onmoverow(el, o, d);\n            }\n        }\n    }\n\n    /**\n     * Insert a new row\n     * \n     * @param mixed - number of blank lines to be insert or a single array with the data of the new row\n     * @param rowNumber\n     * @param insertBefore\n     * @return void\n     */\n    obj.insertRow = function(mixed, rowNumber, insertBefore) {\n        // Configuration\n        if (obj.options.allowInsertRow == true) {\n            // Records\n            var records = [];\n\n            // Data to be insert\n            var data = [];\n\n            // The insert could be lead by number of rows or the array of data\n            if (mixed > 0) {\n                var numOfRows = mixed;\n            } else {\n                var numOfRows = 1;\n\n                if (mixed) {\n                    data = mixed;\n                }\n            }\n\n            // Direction\n            var insertBefore = insertBefore ? true : false;\n\n            // Current column number\n            var lastRow = obj.options.data.length - 1;\n\n            if (rowNumber == undefined || rowNumber >= parseInt(lastRow) || rowNumber < 0) {\n                rowNumber = lastRow;\n            }\n\n            // Onbeforeinsertrow\n            if (typeof(obj.options.onbeforeinsertrow) == 'function') {\n                if (! obj.options.onbeforeinsertrow(el, rowNumber, numOfRows, insertBefore)) {\n                    console.log('onbeforeinsertrow returned false');\n\n                    return false;\n                }\n            }\n\n            // Merged cells\n            if (Object.keys(obj.options.mergeCells).length > 0) {\n                if (obj.isRowMerged(rowNumber, insertBefore).length) {\n                    if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {\n                        return false;\n                    } else {\n                        obj.destroyMerged();\n                    }\n                }\n            }\n\n            // Clear any search\n            if (obj.options.search == true) {\n                if (obj.results && obj.results.length != obj.rows.length) {\n                    if (confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure)) {\n                        obj.resetSearch();\n                    } else {\n                        return false;\n                    }\n                }\n\n                obj.results = null;\n            }\n\n            // Insertbefore\n            var rowIndex = (! insertBefore) ? rowNumber + 1 : rowNumber;\n\n            // Keep the current data\n            var currentRecords = obj.records.splice(rowIndex);\n            var currentData = obj.options.data.splice(rowIndex);\n            var currentRows = obj.rows.splice(rowIndex);\n\n            // Adding lines\n            var rowRecords = [];\n            var rowData = [];\n            var rowNode = [];\n\n            for (var row = rowIndex; row < (numOfRows + rowIndex); row++) {\n                // Push data to the data container\n                obj.options.data[row] = [];\n                for (var col = 0; col < obj.options.columns.length; col++) {\n                    obj.options.data[row][col]  = data[col] ? data[col] : '';\n                }\n                // Create row\n                var tr = obj.createRow(row, obj.options.data[row]);\n                // Append node\n                if (currentRows[0]) {\r\n                    if (Array.prototype.indexOf.call(obj.tbody.children, currentRows[0]) >= 0) {\r\n                        obj.tbody.insertBefore(tr, currentRows[0]);\n                    }\n                } else {\r\n                    if (Array.prototype.indexOf.call(obj.tbody.children, obj.rows[rowNumber]) >= 0) {\r\n                        obj.tbody.appendChild(tr);\r\n                    }\r\n                }\n                // Record History\n                rowRecords.push(obj.records[row]);\n                rowData.push(obj.options.data[row]);\n                rowNode.push(tr);\n            }\n\n            // Copy the data back to the main data\n            Array.prototype.push.apply(obj.records, currentRecords);\n            Array.prototype.push.apply(obj.options.data, currentData);\n            Array.prototype.push.apply(obj.rows, currentRows);\n\n            // Respect pagination\n            if (obj.options.pagination > 0) {\n                obj.page(obj.pageNumber);\n            }\n\n            // Keep history\n            obj.setHistory({\n                action: 'insertRow',\n                rowNumber: rowNumber,\n                numOfRows: numOfRows,\n                insertBefore: insertBefore,\n                rowRecords: rowRecords,\n                rowData: rowData,\n                rowNode: rowNode,\n            });\n\n            // Remove table references\n            obj.updateTableReferences();\n\n            // Events\n            if (obj.ignoreEvents != true) {\n                if (typeof(obj.options.oninsertrow) == 'function') {\n                    obj.options.oninsertrow(el, rowNumber, numOfRows, rowRecords, insertBefore);\n                }\n            }\n        }\n    }\n\n    /**\n     * Delete a row by number\n     * \n     * @param integer rowNumber - row number to be excluded\n     * @param integer numOfRows - number of lines\n     * @return void\n     */\n    obj.deleteRow = function(rowNumber, numOfRows) {\n        // Global Configuration\n        if (obj.options.allowDeleteRow == true) {\n            if (obj.options.allowDeletingAllRows == true || obj.options.data.length > 1) {\n                // Delete row definitions\n                if (rowNumber == undefined) {\n                    var number = obj.getSelectedRows();\n\n                    if (! number[0]) {\n                        rowNumber = obj.options.data.length - 1;\n                        numOfRows = 1;\n                    } else {\n                        rowNumber = parseInt(number[0].getAttribute('data-y'));\n                        numOfRows = number.length;\n                    }\n                }\n\n                // Last column\n                var lastRow = obj.options.data.length - 1;\n\n                if (rowNumber == undefined || rowNumber > lastRow || rowNumber < 0) {\n                    rowNumber = lastRow;\n                }\n\n                if (! numOfRows) {\n                    numOfRows = 1;\n                }\n\n                // Do not delete more than the number of recoreds\n                if (rowNumber + numOfRows >= obj.options.data.length) {\n                    numOfRows = obj.options.data.length - rowNumber;\n                }\n\n                // Onbeforedeleterow\n                if (typeof(obj.options.onbeforedeleterow) == 'function') {\n                    if (! obj.options.onbeforedeleterow(el, rowNumber, numOfRows)) {\n                        console.log('onbeforedeleterow returned false');\n                        return false;\n                    }\n                }\n\n                if (parseInt(rowNumber) > -1) {\n                    // Merged cells\n                    var mergeExists = false;\n                    if (Object.keys(obj.options.mergeCells).length > 0) {\n                        for (var row = rowNumber; row < rowNumber + numOfRows; row++) {\n                            if (obj.isRowMerged(row, false).length) {\n                                mergeExists = true;\n                            }\n                        }\n                    }\n                    if (mergeExists) {\n                        if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {\n                            return false;\n                        } else {\n                            obj.destroyMerged();\n                        }\n                    }\n\n                    // Clear any search\n                    if (obj.options.search == true) {\n                        if (obj.results && obj.results.length != obj.rows.length) {\n                            if (confirm(obj.options.text.thisActionWillClearYourSearchResultsAreYouSure)) {\n                                obj.resetSearch();\n                            } else {\n                                return false;\n                            }\n                        }\n\n                        obj.results = null;\n                    }\n\n                    // Remove node\n                    for (var row = rowNumber; row < rowNumber + numOfRows; row++) {\n                        if (Array.prototype.indexOf.call(obj.tbody.children, obj.rows[row]) >= 0) {\n                            obj.rows[row].className = '';\n                            obj.rows[row].parentNode.removeChild(obj.rows[row]);\n                        }\n                    }\n\n                    // Remove data\n                    var rowRecords = obj.records.splice(rowNumber, numOfRows);\n                    var rowData = obj.options.data.splice(rowNumber, numOfRows);\n                    var rowNode = obj.rows.splice(rowNumber, numOfRows);\n\n                    // Respect pagination\n                    if (obj.options.pagination > 0 && obj.tbody.children.length != obj.options.pagination) {\n                        obj.page(obj.pageNumber);\n                    }\n\n                    // Remove selection\n                    obj.conditionalSelectionUpdate(1, rowNumber, (rowNumber + numOfRows) - 1);\n\n                    // Keep history\n                    obj.setHistory({\n                        action: 'deleteRow',\n                        rowNumber: rowNumber,\n                        numOfRows: numOfRows,\n                        insertBefore: 1,\n                        rowRecords: rowRecords,\n                        rowData: rowData,\n                        rowNode: rowNode\n                    });\n\n                    // Remove table references\n                    obj.updateTableReferences();\n\n                    // Events\n                    if (obj.ignoreEvents != true) {\n                        if (typeof(obj.options.ondeleterow) == 'function') {\n                            obj.options.ondeleterow(el, rowNumber, numOfRows, rowRecords);\n                        }\n                    }\n                }\n            } else {\n                console.error('JEXCEL. It is not possible to delete the last row');\n            }\n        }\n    }\n\n\n    /**\n     * Move column\n     * \n     * @return void\n     */\n    obj.moveColumn = function(o, d) {\n        if (Object.keys(obj.options.mergeCells).length > 0) {\n            if (o > d) {\r\n                var insertBefore = 1;\r\n            } else {\r\n                var insertBefore = 0;\r\n            }\r\n\r\n            if (obj.isColMerged(o).length || obj.isColMerged(d, insertBefore).length) {\r\n                if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {\n                    return false;\n                } else {\n                    obj.destroyMerged();\n                }\n            }\n        }\n\n        var o = parseInt(o);\n        var d = parseInt(d);\n\n        if (o > d) {\n            obj.headerContainer.insertBefore(obj.headers[o], obj.headers[d]);\n            obj.colgroupContainer.insertBefore(obj.colgroup[o], obj.colgroup[d]);\n\n            for (var j = 0; j < obj.rows.length; j++) {\n                obj.rows[j].insertBefore(obj.records[j][o], obj.records[j][d]);\n            }\n        } else {\n            obj.headerContainer.insertBefore(obj.headers[o], obj.headers[d].nextSibling);\n            obj.colgroupContainer.insertBefore(obj.colgroup[o], obj.colgroup[d].nextSibling);\n\n            for (var j = 0; j < obj.rows.length; j++) {\n                obj.rows[j].insertBefore(obj.records[j][o], obj.records[j][d].nextSibling);\n            }\n        }\n\n        obj.options.columns.splice(d, 0, obj.options.columns.splice(o, 1)[0]);\n        obj.headers.splice(d, 0, obj.headers.splice(o, 1)[0]);\n        obj.colgroup.splice(d, 0, obj.colgroup.splice(o, 1)[0]);\n\n        for (var j = 0; j < obj.rows.length; j++) {\n            obj.options.data[j].splice(d, 0, obj.options.data[j].splice(o, 1)[0]);\n            obj.records[j].splice(d, 0, obj.records[j].splice(o, 1)[0]);\n        }\n\n        // Keeping history of changes\n        obj.setHistory({\n            action:'moveColumn',\n            oldValue: o,\n            newValue: d,\n        });\n\n        // Update table references\n        obj.updateTableReferences();\n\n        // Events\n        if (obj.ignoreEvents != true) {\n            if (typeof(obj.options.onmovecolumn) == 'function') {\n                obj.options.onmovecolumn(el, o, d);\n            }\n        }\n    }\n\n\n    /**\n     * Insert a new column\n     * \n     * @param mixed - num of columns to be added or data to be added in one single column\n     * @param int columnNumber - number of columns to be created\n     * @param bool insertBefore\n     * @param object properties - column properties\n     * @return void\n     */\n    obj.insertColumn = function(mixed, columnNumber, insertBefore, properties) {\n        // Configuration\n        if (obj.options.allowInsertColumn == true) {\n            // Records\n            var records = [];\n\n            // Data to be insert\n            var data = [];\n\n            // The insert could be lead by number of rows or the array of data\n            if (mixed > 0) {\n                var numOfColumns = mixed;\n            } else {\n                var numOfColumns = 1;\n\n                if (mixed) {\n                    data = mixed;\n                }\n            }\n\n            // Direction\n            var insertBefore = insertBefore ? true : false;\n\n            // Current column number\n            var lastColumn = obj.options.columns.length - 1;\n\n            // Confirm position\n            if (columnNumber == undefined || columnNumber >= parseInt(lastColumn) || columnNumber < 0) {\n                columnNumber = lastColumn;\n            }\n\n            // Onbeforeinsertcolumn\n            if (typeof(obj.options.onbeforeinsertcolumn) == 'function') {\n                if (! obj.options.onbeforeinsertcolumn(el, columnNumber, numOfColumns, insertBefore)) {\n                    console.log('onbeforeinsertcolumn returned false');\n\n                    return false;\n                }\n            }\n\n            // Merged cells\n            if (Object.keys(obj.options.mergeCells).length > 0) {\n                if (obj.isColMerged(columnNumber, insertBefore).length) {\n                    if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {\n                        return false;\n                    } else {\n                        obj.destroyMerged();\n                    }\n                }\n            }\n\n            // Create default properties\n            if (! properties) {\n                properties = [];\n            }\n\n            for (var i = 0; i < numOfColumns; i++) {\n                if (! properties[i]) {\n                    properties[i] = { type:'text', source:[], options:[], width:obj.options.defaultColWidth, align:obj.options.defaultColAlign };\n                }\n            }\n\n            // Insert before\n            var columnIndex = (! insertBefore) ? columnNumber + 1 : columnNumber;\n            obj.options.columns = jexcel.injectArray(obj.options.columns, columnIndex, properties);\n\n            // Open space in the containers\n            var currentHeaders = obj.headers.splice(columnIndex);\n            var currentColgroup = obj.colgroup.splice(columnIndex);\n\n            // History\n            var historyHeaders = [];\n            var historyColgroup = [];\n            var historyRecords = [];\n            var historyData = [];\n\n            // Add new headers\n            for (var col = columnIndex; col < (numOfColumns + columnIndex); col++) {\n                obj.createCellHeader(col);\n                obj.headerContainer.insertBefore(obj.headers[col], obj.headerContainer.children[col+1]);\n                obj.colgroupContainer.insertBefore(obj.colgroup[col], obj.colgroupContainer.children[col+1]);\n\n                historyHeaders.push(obj.headers[col]);\n                historyColgroup.push(obj.colgroup[col]);\n            }\n\n            // Adding visual columns\n            for (var row = 0; row < obj.options.data.length; row++) {\n                // Keep the current data\n                var currentData = obj.options.data[row].splice(columnIndex);\n                var currentRecord = obj.records[row].splice(columnIndex);\n\n                // History\n                historyData[row] = [];\n                historyRecords[row] = [];\n\n                for (var col = columnIndex; col < (numOfColumns + columnIndex); col++) {\n                    // New value\n                    var value = data[row] ? data[row] : '';\n                    obj.options.data[row][col] = value;\n                    // New cell\n                    var td = obj.createCell(col, row, obj.options.data[row][col]);\n                    obj.records[row][col] = td;\n                    // Add cell to the row\n                    if (obj.rows[row]) {\n                        obj.rows[row].insertBefore(td, obj.rows[row].children[col+1]);\n                    }\n\n                    // Record History\n                    historyData[row].push(value);\n                    historyRecords[row].push(td);\n                }\n\n                // Copy the data back to the main data\n                Array.prototype.push.apply(obj.options.data[row], currentData);\n                Array.prototype.push.apply(obj.records[row], currentRecord);\n            }\n\n            Array.prototype.push.apply(obj.headers, currentHeaders);\n            Array.prototype.push.apply(obj.colgroup, currentColgroup);\n\n            // Adjust nested headers\n            if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {\n                // Flexible way to handle nestedheaders\n                if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {\n                    for (var j = 0; j < obj.options.nestedHeaders.length; j++) {\n                        var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) + numOfColumns;\n                        obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan = colspan;\n                        obj.thead.children[j].children[obj.thead.children[j].children.length-1].setAttribute('colspan', colspan);\n                    }\n                } else {\n                    var colspan = parseInt(obj.options.nestedHeaders[0].colspan) + numOfColumns;\n                    obj.options.nestedHeaders[0].colspan = colspan;\n                    obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute('colspan', colspan);\n                }\n            }\n\n            // Keep history\n            obj.setHistory({\n                action: 'insertColumn',\n                columnNumber:columnNumber,\n                numOfColumns:numOfColumns,\n                insertBefore:insertBefore,\n                columns:properties,\n                headers:historyHeaders,\n                colgroup:historyColgroup,\n                records:historyRecords,\n                data:historyData,\n            });\n\n            // Remove table references\n            obj.updateTableReferences();\n\n            // Events\n            if (obj.ignoreEvents != true) {\n                if (typeof(obj.options.oninsertcolumn) == 'function') {\n                    obj.options.oninsertcolumn(el, columnNumber, numOfColumns, historyRecords, insertBefore);\n                }\n            }\n        }\n    }\n\n    /**\n     * Delete a column by number\n     * \n     * @param integer columnNumber - reference column to be excluded\n     * @param integer numOfColumns - number of columns to be excluded from the reference column\n     * @return void\n     */\n    obj.deleteColumn = function(columnNumber, numOfColumns) {\n        // Global Configuration\n        if (obj.options.allowDeleteColumn == true) {\n            if (obj.headers.length > 1) {\n                // Delete column definitions\n                if (columnNumber == undefined) {\n                    var number = obj.getSelectedColumns(true);\n\n                    if (! number.length) {\n                        // Remove last column\n                        columnNumber = obj.headers.length - 1;\n                        numOfColumns = 1;\n                    } else {\n                        // Remove selected\n                        columnNumber = parseInt(number[0]);\n                        numOfColumns = parseInt(number.length);\n                    }\n                }\n\n                // Lasat column\n                var lastColumn = obj.options.data[0].length - 1;\n\n                if (columnNumber == undefined || columnNumber > lastColumn || columnNumber < 0) {\n                    columnNumber = lastColumn;\n                }\n\n                // Minimum of columns to be delete is 1\n                if (! numOfColumns) {\n                    numOfColumns = 1;\n                }\n\n\n\n                // Can't delete more than the limit of the table\n                if (numOfColumns > obj.options.data[0].length - columnNumber) {\n                    numOfColumns = obj.options.data[0].length - columnNumber;\n                }\n\n                // onbeforedeletecolumn\n                if (typeof(obj.options.onbeforedeletecolumn) == 'function') {\n                   if (! obj.options.onbeforedeletecolumn(el, columnNumber, numOfColumns)) {\n                      console.log('onbeforedeletecolumn returned false');\n                      return false;\n                   }\n                }\n\n                // Can't remove the last column\n                if (parseInt(columnNumber) > -1) {\n                    // Merged cells\n                    var mergeExists = false;\n                    if (Object.keys(obj.options.mergeCells).length > 0) {\n                        for (var col = columnNumber; col < columnNumber + numOfColumns; col++) {\n                            if (obj.isColMerged(col, false).length) {\n                                mergeExists = true;\n                            }\n                        }\n                    }\n                    if (mergeExists) {\n                        if (! confirm(obj.options.text.thisActionWillDestroyAnyExistingMergedCellsAreYouSure)) {\n                            return false;\n                        } else {\n                            obj.destroyMerged();\n                        }\n                    }\n\n                    // Delete the column properties\n                    var columns = obj.options.columns.splice(columnNumber, numOfColumns);\n\n                    for (var col = columnNumber; col < columnNumber + numOfColumns; col++) {\n                        obj.colgroup[col].className = '';\n                        obj.headers[col].className = '';\n                        obj.colgroup[col].parentNode.removeChild(obj.colgroup[col]);\n                        obj.headers[col].parentNode.removeChild(obj.headers[col]);\n                    }\n\n                    var historyHeaders = obj.headers.splice(columnNumber, numOfColumns);\n                    var historyColgroup = obj.colgroup.splice(columnNumber, numOfColumns);\n                    var historyRecords = [];\n                    var historyData = [];\n\n                    for (var row = 0; row < obj.options.data.length; row++) {\n                        for (var col = columnNumber; col < columnNumber + numOfColumns; col++) {\n                            obj.records[row][col].className = '';\n                            obj.records[row][col].parentNode.removeChild(obj.records[row][col]);\n                        }\n                    }\n\n                    // Delete headers\n                    for (var row = 0; row < obj.options.data.length; row++) {\n                        // History\n                        historyData[row] = obj.options.data[row].splice(columnNumber, numOfColumns);\n                        historyRecords[row] = obj.records[row].splice(columnNumber, numOfColumns);\n                    }\n\n                    // Remove selection\n                    obj.conditionalSelectionUpdate(0, columnNumber, (columnNumber + numOfColumns) - 1);\n\n                    // Adjust nested headers\n                    if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {\n                        // Flexible way to handle nestedheaders\n                        if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {\n                            for (var j = 0; j < obj.options.nestedHeaders.length; j++) {\n                                var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) - numOfColumns;\n                                obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan = colspan;\n                                obj.thead.children[j].children[obj.thead.children[j].children.length-1].setAttribute('colspan', colspan);\n                            }\n                        } else {\n                            var colspan = parseInt(obj.options.nestedHeaders[0].colspan) - numOfColumns;\n                            obj.options.nestedHeaders[0].colspan = colspan;\n                            obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute('colspan', colspan);\n                        }\n                    }\n\n                    // Keeping history of changes\n                    obj.setHistory({\n                        action:'deleteColumn',\n                        columnNumber:columnNumber,\n                        numOfColumns:numOfColumns,\n                        insertBefore: 1,\n                        columns:columns,\n                        headers:historyHeaders,\n                        colgroup:historyColgroup,\n                        records:historyRecords,\n                        data:historyData,\n                    });\n\n                    // Update table references\n                    obj.updateTableReferences();\n\n                    // Delete\n                    if (obj.ignoreEvents != true) {\n                        if (typeof(obj.options.ondeletecolumn) == 'function') {\n                            obj.options.ondeletecolumn(el, columnNumber, numOfColumns, historyRecords);\n                        }\n                    }\n                }\n            } else {\n                console.error('JEXCEL. It is not possible to delete the last column');\n            }\n        }\n    }\n\n    /**\n     * Get seleted rows numbers\n     * \n     * @return array\n     */\n    obj.getSelectedRows = function(asIds) {\n        var rows = [];\n        // Get all selected rows\n        for (var j = 0; j < obj.rows.length; j++) {\n            if (obj.rows[j].classList.contains('selected')) {\n                if (asIds) {\n                    rows.push(j);\n                } else {\n                    rows.push(obj.rows[j]);\n                }\n            }\n        }\n\n        return rows;\n    },\n\n    /**\n     * Get seleted column numbers\n     * \n     * @return array\n     */\n    obj.getSelectedColumns = function() {\n        var cols = [];\n        // Get all selected cols\n        for (var i = 0; i < obj.headers.length; i++) {\n            if (obj.headers[i].classList.contains('selected')) {\n                cols.push(i);\n            }\n        }\n\n        return cols;\n    }\n\n    /**\n     * Get highlighted\n     * \n     * @return array\n     */\n    obj.getHighlighted = function() {\n        return obj.highlighted;\n    }\n\n    /**\n     * Update cell references\n     * \n     * @return void\n     */\n    obj.updateTableReferences = function() {\n        // Update headers\n        for (var i = 0; i < obj.headers.length; i++) {\n            var x = obj.headers[i].getAttribute('data-x');\n\n            if (x != i) {\n                // Update coords\n                obj.headers[i].setAttribute('data-x', i);\n                // Title\n                if (! obj.headers[i].getAttribute('title')) {\n                    obj.headers[i].innerHTML = jexcel.getColumnName(i);\n                }\n            }\n        }\n\n        // Update all rows\n        for (var j = 0; j < obj.rows.length; j++) {\n            if (obj.rows[j]) {\n                var y = obj.rows[j].getAttribute('data-y');\n\n                if (y != j) {\n                    // Update coords\n                    obj.rows[j].setAttribute('data-y', j);\n                    obj.rows[j].children[0].setAttribute('data-y', j);\n                    // Row number\n                    obj.rows[j].children[0].innerHTML = j + 1;\n                }\n            }\n        }\n\n        // Regular cells affected by this change\n        var affectedTokens = [];\n        var mergeCellUpdates = [];\n\n        // Update cell\n        var updatePosition = function(x,y,i,j) {\n            if (x != i) {\n                obj.records[j][i].setAttribute('data-x', i);\n            }\n            if (y != j) {\n                obj.records[j][i].setAttribute('data-y', j);\n            }\n\n            // Other updates\n            if (x != i || y != j) {\n                var columnIdFrom = jexcel.getColumnNameFromId([x, y]);\n                var columnIdTo = jexcel.getColumnNameFromId([i, j]);\n                affectedTokens[columnIdFrom] = columnIdTo;\n            }\n        }\n\n        for (var j = 0; j < obj.records.length; j++) {\n            for (var i = 0; i < obj.records[0].length; i++) {\n                if (obj.records[j][i]) {\n                    // Current values\n                    var x = obj.records[j][i].getAttribute('data-x');\n                    var y = obj.records[j][i].getAttribute('data-y');\n\n                    // Update column\n                    if (obj.records[j][i].getAttribute('data-merged')) {\n                        var columnIdFrom = jexcel.getColumnNameFromId([x, y]);\n                        var columnIdTo = jexcel.getColumnNameFromId([i, j]);\n                        if (mergeCellUpdates[columnIdFrom] == null) {\n                            if (columnIdFrom == columnIdTo) {\n                                mergeCellUpdates[columnIdFrom] = false;\n                            } else {\n                                var totalX = parseInt(i - x);\n                                var totalY = parseInt(j - y);\n                                mergeCellUpdates[columnIdFrom] = [ columnIdTo, totalX, totalY ];\n                            }\n                        }\n                    } else {\n                        updatePosition(x,y,i,j);\n                    }\n                }\n            }\n        }\n\n        // Update merged if applicable\n        var keys = Object.keys(mergeCellUpdates);\n        if (keys.length) {\n            for (var i = 0; i < keys.length; i++) {\n                if (mergeCellUpdates[keys[i]]) {\n                    var info = jexcel.getIdFromColumnName(keys[i], true)\n                    var x = info[0];\n                    var y = info[1];\n                    updatePosition(x,y,x + mergeCellUpdates[keys[i]][1],y + mergeCellUpdates[keys[i]][2]);\n\n                    var columnIdFrom = keys[i];\n                    var columnIdTo = mergeCellUpdates[keys[i]][0];\n                    for (var j = 0; j < obj.options.mergeCells[columnIdFrom][2].length; j++) {\n                        var x = parseInt(obj.options.mergeCells[columnIdFrom][2][j].getAttribute('data-x'));\n                        var y = parseInt(obj.options.mergeCells[columnIdFrom][2][j].getAttribute('data-y'));\n                        obj.options.mergeCells[columnIdFrom][2][j].setAttribute('data-x', x + mergeCellUpdates[keys[i]][1]);\n                        obj.options.mergeCells[columnIdFrom][2][j].setAttribute('data-y', y + mergeCellUpdates[keys[i]][2]);\n                    }\n\n                    obj.options.mergeCells[columnIdTo] = obj.options.mergeCells[columnIdFrom];\n                    delete(obj.options.mergeCells[columnIdFrom]);\n                }\n            }\n        }\n\n        // Update formulas\n        obj.updateFormulas(affectedTokens);\n\n        // Update meta data\n        obj.updateMeta(affectedTokens);\n\n        // Refresh selection\n        obj.refreshSelection();\n\n        // Update table with custom configuration if applicable\n        obj.updateTable();\n    }\n\n    /**\n     * Custom settings for the cells\n     */\n    obj.updateTable = function() {\n        // Check for spare\n        if (obj.options.minSpareRows > 0) {\n            var numBlankRows = 0;\n            for (var j = obj.rows.length - 1; j >= 0; j--) {\n                var test = false;\n                for (var i = 0; i < obj.headers.length; i++) {\n                    if (obj.options.data[j][i]) {\n                        test = true;\n                    }\n                }\n                if (test) {\n                    break;\n                } else {\n                    numBlankRows++;\n                }\n            }\n\n            if (obj.options.minSpareRows - numBlankRows > 0) {\n                obj.insertRow(obj.options.minSpareRows - numBlankRows)\n            }\n        }\n\n        if (obj.options.minSpareCols > 0) {\n            var numBlankCols = 0;\n            for (var i = obj.headers.length - 1; i >= 0 ; i--) {\n                var test = false;\n                for (var j = 0; j < obj.rows.length; j++) {\n                    if (obj.options.data[j][i]) {\n                        test = true;\n                    }\n                }\n                if (test) {\n                    break;\n                } else {\n                    numBlankCols++;\n                }\n            }\n\n            if (obj.options.minSpareCols - numBlankCols > 0) {\n                obj.insertColumn(obj.options.minSpareCols - numBlankCols)\n            }\n        }\n\n        // Customizations by the developer\n        if (typeof(obj.options.updateTable) == 'function') {\n            if (obj.options.detachForUpdates) {\r\n                el.removeChild(obj.content);\r\n            }\r\n\n            for (var j = 0; j < obj.rows.length; j++) {\n                for (var i = 0; i < obj.headers.length; i++) {\n                    obj.options.updateTable(el, obj.records[j][i], i, j, obj.options.data[j][i], obj.records[j][i].innerText, jexcel.getColumnNameFromId([i, j]));\n                }\n            }\n\r\n            if (obj.options.detachForUpdates) {\r\n                el.insertBefore(obj.content, obj.pagination);\r\n            }\n        }\n\n        // Update corner position\n        setTimeout(function() {\n            obj.updateCornerPosition();\n        },0);\n    }\n\r\n    /**\r\n     * Show column\r\n     */\r\n    obj.showColumn = function(colNumber) {\r\n        obj.headers[colNumber].style.display = '';\r\n        obj.colgroup[colNumber].style.display = '';\r\n        for (var j = 0; j < obj.options.data.length; j++) {\r\n            obj.records[j][colNumber].style.display = '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Hide column\r\n     */\r\n    obj.hideColumn = function(colNumber) {\r\n        obj.headers[colNumber].style.display = 'none';\r\n        obj.colgroup[colNumber].style.display = 'none';\r\n        for (var j = 0; j < obj.options.data.length; j++) {\r\n            obj.records[j][colNumber].style.display = 'none';\r\n        }\r\n    }\r\n\n    /**\n     * Show index column\n     */\n    obj.showIndex = function() {\n        obj.table.classList.remove('jexcel_hidden_index');\n    }\n\n    /**\n     * Hide index column\n     */\n    obj.hideIndex = function() {\n        obj.table.classList.add('jexcel_hidden_index');\n    }\n\n    /**\n     * Update all related cells in the chain\n     */\n    var chainLoopProtection = [];\n\n    obj.updateFormulaChain = function(x, y, records) {\n        var cellId = jexcel.getColumnNameFromId([x, y]);\n        if (obj.formula[cellId] && obj.formula[cellId].length > 0) {\n            if (chainLoopProtection[cellId]) {\n                obj.records[y][x].innerHTML = '#ERROR';\n                obj.formula[cellId] = '';\n            } else {\n                // Protection\n                chainLoopProtection[cellId] = true;\n\n                for (var i = 0; i < obj.formula[cellId].length; i++) {\n                    var cell = jexcel.getIdFromColumnName(obj.formula[cellId][i], true);\n                    // Update cell\n                    var value = ''+obj.options.data[cell[1]][cell[0]];\n                    if (value.substr(0,1) == '=') {\n                        records.push(obj.updateCell(cell[0], cell[1], value, true));\n                    } else {\n                        // No longer a formula, remove from the chain\n                        Object.keys(obj.formula)[i] = null;\n                    }\n                    obj.updateFormulaChain(cell[0], cell[1], records);\n                }\n            }\n        }\n\n        chainLoopProtection = [];\n    }\n\n    /**\n     * Update formulas\n     */\n    obj.updateFormulas = function(referencesToUpdate) {\n        // Update formulas\n        for (var j = 0; j < obj.options.data.length; j++) {\n            for (var i = 0; i < obj.options.data[0].length; i++) {\n                var value = '' + obj.options.data[j][i];\n                // Is formula\n                if (value.substr(0,1) == '=') {\n                    // Replace tokens\n                    var newFormula = obj.updateFormula(value, referencesToUpdate);\n                    if (newFormula != value) {\n                        obj.options.data[j][i] = newFormula;\n                    }\n                }\n            }\n        }\n\n        // Update formula chain\n        var formula = [];\n        var keys = Object.keys(obj.formula);\n        for (var j = 0; j < keys.length; j++) {\n            // Current key and values\n            var key = keys[j];\n            var value = obj.formula[key];\n            // Update key\n            if (referencesToUpdate[key]) {\n                key = referencesToUpdate[key];\n            }\n            // Update values\n            formula[key] = [];\n            for (var i = 0; i < value.length; i++) {\n                var letter = value[i];\n                if (referencesToUpdate[letter]) {\n                    letter = referencesToUpdate[letter];\n                }\n                formula[key].push(letter);\n            }\n        }\n        obj.formula = formula;\n    }\n\n    /**\n     * Update formula\n     */\n    obj.updateFormula = function(formula, referencesToUpdate) {\n        var testLetter = /[A-Z]/;\n        var testNumber = /[0-9]/;\n\n        var newFormula = '';\n        var letter = null;\n        var number = null;\n        var token = '';\n\n        for (var index = 0; index < formula.length; index++) {\n            if (testLetter.exec(formula[index])) {\n                letter = 1;\n                number = 0;\n                token += formula[index];\n            } else if (testNumber.exec(formula[index])) {\n                number = letter ? 1 : 0;\n                token += formula[index];\n            } else {\n                if (letter && number) {\n                    token = referencesToUpdate[token] ? referencesToUpdate[token] : token;\n                }\n                newFormula += token;\n                newFormula += formula[index];\n                letter = 0;\n                number = 0;\n                token = '';\n            }\n        }\n\n        if (token) {\n            if (letter && number) {\n                token = referencesToUpdate[token] ? referencesToUpdate[token] : token;\n            }\n            newFormula += token;\n        }\n\n        return newFormula;\n    }\n\n    /**\n     * Parse formulas\n     */\n    obj.executeFormula = function(expression, x, y) {\n\n        var formulaResults = [];\n        var formulaLoopProtection = [];\n\n        // Execute formula with loop protection\n        var execute = function(expression, x, y) {\n         // Parent column identification\n            var parentId = jexcel.getColumnNameFromId([x, y]);\n\n            // Code protection\n            if (formulaLoopProtection[parentId]) {\n                console.error('Reference loop detected');\n                return '#ERROR';\n            }\n\n            formulaLoopProtection[parentId] = true;\n\n            // Convert range tokens\n            var tokensUpdate = function(tokens) {\n                for (var index = 0; index < tokens.length; index++) {\n                    var f = [];\n                    var token = tokens[index].split(':');\n                    var e1 = jexcel.getIdFromColumnName(token[0], true);\n                    var e2 = jexcel.getIdFromColumnName(token[1], true);\n\n                    if (e1[0] <= e2[0]) {\n                        var x1 = e1[0];\n                        var x2 = e2[0];\n                    } else {\n                        var x1 = e2[0];\n                        var x2 = e1[0];\n                    }\n\n                    if (e1[1] <= e2[1]) {\n                        var y1 = e1[1];\n                        var y2 = e2[1];\n                    } else {\n                        var y1 = e2[1];\n                        var y2 = e1[1];\n                    }\n\n                    for (var j = y1; j <= y2; j++) {\n                        for (var i = x1; i <= x2; i++) {\n                            f.push(jexcel.getColumnNameFromId([i, j]));\n                        }\n                    }\n\n                    expression = expression.replace(tokens[index], f.join(','));\n                }\n            }\n\n            var tokens = expression.match(/([A-Z]+[0-9]+)\\:([A-Z]+[0-9]+)/g);\n            if (tokens && tokens.length) {\n                tokensUpdate(tokens);\n            }\n\n            // String\n            var evalstring = '';\n\n            // Get tokens\n            var tokens = expression.match(/([A-Z]+[0-9]+)/g);\n\n            // Direct self-reference protection\n            if (tokens && tokens.indexOf(parentId) > -1) {\n                console.error('Self Reference detected');\n                return '#ERROR';\n            } else {\n                if (tokens) {\n                    for (var i = 0; i < tokens.length; i++) {\n                        // Keep chain\n                        if (! obj.formula[tokens[i]]) {\n                            obj.formula[tokens[i]] = [];\n                        }\n                        // Is already in the register\n                        if (obj.formula[tokens[i]].indexOf(parentId) < 0) {\n                            obj.formula[tokens[i]].push(parentId);\n                        }\n\n                        // Do not calculate again\n                        if (eval('typeof(' + tokens[i] + ') == \"undefined\"')) {\n                            // Coords\n                            var position = jexcel.getIdFromColumnName(tokens[i], 1);\n                            // Get value\n                            if (typeof(obj.options.data[position[1]]) != 'undefined' && typeof(obj.options.data[position[1]][position[0]]) != 'undefined') {\n                                var value = obj.options.data[position[1]][position[0]];\n                            } else {\n                                var value = '';\n                            }\n                            // Get column data\n                            if ((''+value).substr(0,1) == '=') {\n                                if (formulaResults[tokens[i]]) {\n                                    value = formulaResults[tokens[i]];\n                                } else {\n                                    value = execute(value, position[0], position[1]);\n                                    formulaResults[tokens[i]] = value;\n                                }\n                            }\n                            // Type!\n                            if ((''+value).trim() == '') {\n                                // Null\n                                evalstring += \"var \" + tokens[i] + \" = null;\";\n                            } else {\n                                if (value == Number(value) && obj.options.autoCasting == true) {\n                                    // Number\n                                    evalstring += \"var \" + tokens[i] + \" = \" + Number(value) + \";\";\n                                } else {\n                                    // Trying any formatted number\n                                    var number = obj.parseNumber(value, position[0])\n                                    if (obj.options.autoCasting == true && number) {\n                                        // Render as number\n                                        evalstring += \"var \" + tokens[i] + \" = \" + number + \";\";\n                                    } else {\n                                        // Render as string\n                                        evalstring += \"var \" + tokens[i] + \" = '\" + value + \"';\";\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n\n                // Convert formula to javascript\n                try {\n                    evalstring += \"function COLUMN() { return parseInt(x) + 1; }; function ROW() { return parseInt(y) + 1; }; function CELL() { return parentId; };\";\n\n                    var res = eval(evalstring + expression.substr(1));\n                } catch (e) {\n                    var res = '#ERROR';\n                }\n\n                return res;\n            }\n        }\n\n        return execute(expression, x, y);\n    }\n\n    /**\n     * Trying to extract a number from a string\n     */\n    obj.parseNumber = function(value, columnNumber) {\n        // Decimal point\n        var decimal = columnNumber && obj.options.columns[columnNumber].decimal ? obj.options.columns[columnNumber].decimal : '.';\n\n        // Parse both parts of the number\n        var number = ('' + value);\n        number = number.split(decimal);\n        number[0] = number[0].match(/[+-]?[0-9]/g);\n        if (number[0]) {\n            number[0] = number[0].join('');\n        }\n        if (number[1]) {\n            number[1] = number[1].match(/[0-9]*/g).join('');\n        }\n\n        // Is a valid number\n        if (number[0] && Number(number[0]) >= 0) {\n            if (! number[1]) {\n                var value = Number(number[0] + '.00');\n            } else {\n                var value = Number(number[0] + '.' + number[1]);\n            }\n        } else {\n            var value = null;\n        }\n\n        return value;\n    }\n\n    /**\n     * Get row number\n     */\n    obj.row = function(cell) {\n    }\n\n    /**\n     * Get col number\n     */\n    obj.col = function(cell) {\n    }\n\n    obj.up = function(shiftKey, ctrlKey) {\n        if (shiftKey) {\n            if (obj.selectedCell[3] > 0) {\n                obj.up.visible(1, ctrlKey ? 0 : 1)\n            }\n        } else {\n            if (obj.selectedCell[1] > 0) {\n                obj.up.visible(0, ctrlKey ? 0 : 1)\n            }\n            obj.selectedCell[2] = obj.selectedCell[0];\n            obj.selectedCell[3] = obj.selectedCell[1];\n        }\n\n        // Update selection\n        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n\n        // Change page\n        if (obj.options.lazyLoading == true) {\n            if (obj.selectedCell[1] == 0 || obj.selectedCell[3] == 0) {\n                obj.loadPage(0);\n                obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n            } else {\n                if (obj.loadValidation()) {\n                    obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n                } else {\n                    var item = parseInt(obj.tbody.firstChild.getAttribute('data-y'));\n                    if (obj.selectedCell[1] - item < 30) {\n                        obj.loadUp();\n                        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n                    }\n                }\n            }\n        } else if (obj.options.pagination > 0) {\n            var pageNumber = obj.whichPage(obj.selectedCell[3]);\n            if (pageNumber != obj.pageNumber) {\n                obj.page(pageNumber);\n            }\n        }\n\n        obj.updateScroll(1);\n    }\n\n    obj.up.visible = function(group, direction) {\n        if (group == 0) {\n            var x = parseInt(obj.selectedCell[0]);\n            var y = parseInt(obj.selectedCell[1]);\n        } else {\n            var x = parseInt(obj.selectedCell[2]);\n            var y = parseInt(obj.selectedCell[3]);\n        }\n\n        if (direction == 0) {\n            for (var j = 0; j < y; j++) {\n                if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {\n                    y = j;\n                    break;\n                }\n            }\n        } else {\n            y = obj.up.get(x, y);\n        }\n\n        if (group == 0) {\n            obj.selectedCell[0] = x;\n            obj.selectedCell[1] = y;\n        } else {\n            obj.selectedCell[2] = x;\n            obj.selectedCell[3] = y;\n        }\n    }\n\n    obj.up.get = function(x, y) {\n        var x = parseInt(x);\n        var y = parseInt(y);\n        for (var j = (y - 1); j >= 0; j--) {\n            if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {\n                if (obj.records[j][x].getAttribute('data-merged')) {\n                    if (obj.records[j][x] == obj.records[y][x]) {\n                        continue;\n                    }\n                }\n                y = j;\n                break;\n            }\n        }\n\n        return y;\n    }\n\n    obj.down = function(shiftKey, ctrlKey) {\n        if (shiftKey) {\n            if (obj.selectedCell[3] < obj.records.length - 1) {\n                obj.down.visible(1, ctrlKey ? 0 : 1)\n            }\n        } else {\n            if (obj.selectedCell[1] < obj.records.length - 1) {\n                obj.down.visible(0, ctrlKey ? 0 : 1)\n            }\n            obj.selectedCell[2] = obj.selectedCell[0];\n            obj.selectedCell[3] = obj.selectedCell[1];\n        }\n\n        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n\n        // Change page\n        if (obj.options.lazyLoading == true) {\n            if ((obj.selectedCell[1] == obj.records.length - 1 || obj.selectedCell[3] == obj.records.length - 1)) {\n                obj.loadPage(-1);\n                obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n            } else {\n                if (obj.loadValidation()) {\n                    obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n                } else {\n                    var item = parseInt(obj.tbody.lastChild.getAttribute('data-y'));\n                    if (item - obj.selectedCell[3] < 30) {\n                        obj.loadDown();\n                        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n                    }\n                }\n            }\n        } else if (obj.options.pagination > 0) {\n            var pageNumber = obj.whichPage(obj.selectedCell[3]);\n            if (pageNumber != obj.pageNumber) {\n                obj.page(pageNumber);\n            }\n        }\n\n        obj.updateScroll(3);\n    }\n\n    obj.down.visible = function(group, direction) {\n        if (group == 0) {\n            var x = parseInt(obj.selectedCell[0]);\n            var y = parseInt(obj.selectedCell[1]);\n        } else {\n            var x = parseInt(obj.selectedCell[2]);\n            var y = parseInt(obj.selectedCell[3]);\n        }\n\n        if (direction == 0) {\n            for (var j = obj.rows.length - 1; j > y; j--) {\n                if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {\n                    y = j;\n                    break;\n                }\n            }\n        } else {\n            y = obj.down.get(x, y);\n        }\n\n        if (group == 0) {\n            obj.selectedCell[0] = x;\n            obj.selectedCell[1] = y;\n        } else {\n            obj.selectedCell[2] = x;\n            obj.selectedCell[3] = y;\n        }\n    }\n\n    obj.down.get = function(x, y) {\n        var x = parseInt(x);\n        var y = parseInt(y);\n        for (var j = (y + 1); j < obj.rows.length; j++) {\n            if (obj.records[j][x].style.display != 'none' && obj.rows[j].style.display != 'none') {\n                if (obj.records[j][x].getAttribute('data-merged')) {\n                    if (obj.records[j][x] == obj.records[y][x]) {\n                        continue;\n                    }\n                }\n                y = j;\n                break;\n            }\n        }\n\n        return y;\n    }\n\n    obj.right = function(shiftKey, ctrlKey) {\n        if (shiftKey) {\n            if (obj.selectedCell[2] < obj.headers.length - 1) {\n                obj.right.visible(1, ctrlKey ? 0 : 1)\n            }\n        } else {\n            if (obj.selectedCell[0] < obj.headers.length - 1) {\n                obj.right.visible(0, ctrlKey ? 0 : 1)\n            }\n            obj.selectedCell[2] = obj.selectedCell[0];\n            obj.selectedCell[3] = obj.selectedCell[1];\n        }\n\n        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n        obj.updateScroll(2);\n    }\n\n    obj.right.visible = function(group, direction) {\n        if (group == 0) {\n            var x = parseInt(obj.selectedCell[0]);\n            var y = parseInt(obj.selectedCell[1]);\n        } else {\n            var x = parseInt(obj.selectedCell[2]);\n            var y = parseInt(obj.selectedCell[3]);\n        }\n\n        if (direction == 0) {\n            for (var i = obj.headers.length - 1; i > x; i--) {\n                if (obj.records[y][i].style.display != 'none') {\n                    x = i;\n                    break;\n                }\n            }\n        } else {\n            x = obj.right.get(x, y);\n        }\n\n        if (group == 0) {\n            obj.selectedCell[0] = x;\n            obj.selectedCell[1] = y;\n        } else {\n            obj.selectedCell[2] = x;\n            obj.selectedCell[3] = y;\n        }\n    }\n\n    obj.right.get = function(x, y) {\n        var x = parseInt(x);\n        var y = parseInt(y);\n\n        for (var i = (x + 1); i < obj.headers.length; i++) {\n            if (obj.records[y][i].style.display != 'none') {\n                if (obj.records[y][i].getAttribute('data-merged')) {\n                    if (obj.records[y][i] == obj.records[y][x]) {\n                        continue;\n                    }\n                }\n                x = i;\n                break;\n            }\n        }\n\n        return x;\n    }\n\n    obj.left = function(shiftKey, ctrlKey) {\n        if (shiftKey) {\n            if (obj.selectedCell[2] > 0) {\n                obj.left.visible(1, ctrlKey ? 0 : 1)\n            }\n        } else {\n            if (obj.selectedCell[0] > 0) {\n                obj.left.visible(0, ctrlKey ? 0 : 1)\n            }\n            obj.selectedCell[2] = obj.selectedCell[0];\n            obj.selectedCell[3] = obj.selectedCell[1];\n        }\n\n        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n        obj.updateScroll(0);\n    }\n\n    obj.left.visible = function(group, direction) {\n        if (group == 0) {\n            var x = parseInt(obj.selectedCell[0]);\n            var y = parseInt(obj.selectedCell[1]);\n        } else {\n            var x = parseInt(obj.selectedCell[2]);\n            var y = parseInt(obj.selectedCell[3]);\n        }\n\n        if (direction == 0) {\n            for (var i = 0; i < x; i++) {\n                if (obj.records[y][i].style.display != 'none') {\n                    x = i;\n                    break;\n                }\n            }\n        } else {\n            x = obj.left.get(x, y);\n        }\n\n        if (group == 0) {\n            obj.selectedCell[0] = x;\n            obj.selectedCell[1] = y;\n        } else {\n            obj.selectedCell[2] = x;\n            obj.selectedCell[3] = y;\n        }\n    }\n\n    obj.left.get = function(x, y) {\n        var x = parseInt(x);\n        var y = parseInt(y);\n        for (var i = (x - 1); i >= 0; i--) {\n            if (obj.records[y][i].style.display != 'none') {\n                if (obj.records[y][i].getAttribute('data-merged')) {\n                    if (obj.records[y][i] == obj.records[y][x]) {\n                        continue;\n                    }\n                }\n                x = i;\n                break;\n            }\n        }\n\n        return x;\n    }\n\n    obj.first = function(shiftKey, ctrlKey) {\n        if (shiftKey) {\n            if (ctrlKey) {\n                obj.selectedCell[3] = 0;\n            } else {\n                obj.left.visible(1, 0);\n            }\n        } else {\n            if (ctrlKey) {\n                obj.selectedCell[1] = 0;\n            } else {\n                obj.left.visible(0, 0);\n            }\n            obj.selectedCell[2] = obj.selectedCell[0];\n            obj.selectedCell[3] = obj.selectedCell[1];\n        }\n\n        // Change page\n        if (obj.options.lazyLoading == true && (obj.selectedCell[1] == 0 || obj.selectedCell[3] == 0)) {\n            obj.loadPage(0);\n        } else if (obj.options.pagination > 0) {\n            var pageNumber = obj.whichPage(obj.selectedCell[3]);\n            if (pageNumber != obj.pageNumber) {\n                obj.page(pageNumber);\n            }\n        }\n\n        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n        obj.updateScroll(1);\n    }\n\n    obj.last = function(shiftKey, ctrlKey) {\n        if (shiftKey) {\n            if (ctrlKey) {\n                obj.selectedCell[3] = obj.records.length - 1;\n            } else {\n                obj.right.visible(1, 0);\n            }\n        } else {\n            if (ctrlKey) {\n                obj.selectedCell[1] = obj.records.length - 1;\n            } else {\n                obj.right.visible(0, 0);\n            }\n            obj.selectedCell[2] = obj.selectedCell[0];\n            obj.selectedCell[3] = obj.selectedCell[1];\n        }\n\n        // Change page\n        if (obj.options.lazyLoading == true && (obj.selectedCell[1] == obj.records.length - 1 || obj.selectedCell[3] == obj.records.length - 1)) {\n            obj.loadPage(-1);\n        } else if (obj.options.pagination > 0) {\n            var pageNumber = obj.whichPage(obj.selectedCell[3]);\n            if (pageNumber != obj.pageNumber) {\n                obj.page(pageNumber);\n            }\n        }\n\n        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n        obj.updateScroll(3);\n    }\n\n    obj.selectAll = function() {\n        if (! obj.selectedCell) {\n            obj.selectedCell = [];\n        }\n\n        obj.selectedCell[0] = 0;\n        obj.selectedCell[1] = 0;\n        obj.selectedCell[2] = obj.headers.length - 1;\n        obj.selectedCell[3] = obj.records.length - 1;\n\n        obj.updateSelectionFromCoords(obj.selectedCell[0], obj.selectedCell[1], obj.selectedCell[2], obj.selectedCell[3]);\n    }\n\n    /**\n     * Go to a page in a lazyLoading\n     */\n    obj.loadPage = function(pageNumber) {\n        // Search\n        if (obj.options.search == true && obj.results) {\n            var results = obj.results;\n        } else {\n            var results = obj.rows;\n        }\n\n        // Per page\n        var quantityPerPage = 100;\n\n        // pageNumber\n        if (pageNumber == null || pageNumber == -1) {\n            // Last page\n            pageNumber = Math.ceil(results.length / quantityPerPage); \n        }\n\n        var startRow = (pageNumber * quantityPerPage);\n        var finalRow = (pageNumber * quantityPerPage) + quantityPerPage;\n        if (finalRow > results.length) {\n            finalRow = results.length;\n        }\n        startRow = finalRow - 100;\n        if (startRow < 0) {\n            startRow = 0;\n        }\n\n        // Appeding items\n        for (var j = startRow; j < finalRow; j++) {\n            if (obj.options.search == true && obj.results) {\n                obj.tbody.appendChild(obj.rows[results[j]]);\n            } else {\n                obj.tbody.appendChild(obj.rows[j]);\n            }\n\n            if (obj.tbody.children.length > quantityPerPage) {\n                obj.tbody.removeChild(obj.tbody.firstChild);\n            }\n        }\n    }\n\n    obj.loadUp = function() {\n        // Search\n        if (obj.options.search == true && obj.results) {\n            var results = obj.results;\n        } else {\n            var results = obj.rows;\n        }\n        var test = 0;\n        if (results.length > 100) {\n            // Get the first element in the page\n            var item = parseInt(obj.tbody.firstChild.getAttribute('data-y'));\n            if (obj.options.search == true && obj.results) {\n                item = results.indexOf(item);\n            }\n            if (item > 0) {\n                for (var j = 0; j < 30; j++) {\n                    item = item - 1;\n                    if (item > -1) {\n                        if (obj.options.search == true && obj.results) {\n                            obj.tbody.insertBefore(obj.rows[results[item]], obj.tbody.firstChild);\n                        } else {\n                            obj.tbody.insertBefore(obj.rows[item], obj.tbody.firstChild);\n                        }\n                        if (obj.tbody.children.length > 100) {\n                            obj.tbody.removeChild(obj.tbody.lastChild);\n                            test = 1;\n                        }\n                    }\n                }\n            }\n        }\n        return test;\n    }\n\n    obj.loadDown = function() {\n        // Search\n        if (obj.options.search == true && obj.results) {\n            var results = obj.results;\n        } else {\n            var results = obj.rows;\n        }\n        var test = 0;\n        if (results.length > 100) {\n            // Get the last element in the page\n            var item = parseInt(obj.tbody.lastChild.getAttribute('data-y'));\n            if (obj.options.search == true && obj.results) {\n                item = results.indexOf(item);\n            }\n            if (item < obj.rows.length - 1) {\n                for (var j = 0; j <= 30; j++) {\n                    if (item < results.length) {\n                        if (obj.options.search == true && obj.results) {\n                            obj.tbody.appendChild(obj.rows[results[item]]);\n                        } else {\n                            obj.tbody.appendChild(obj.rows[item]);\n                        }\n                        if (obj.tbody.children.length > 100) {\n                            obj.tbody.removeChild(obj.tbody.firstChild);\n                            test = 1;\n                        }\n                    }\n                    item = item + 1;\n                }\n            }\n        }\n\n        return test;\n    }\n\n    obj.loadValidation = function() {\n        if (obj.selectedCell) {\n            var currentPage = parseInt(obj.tbody.firstChild.getAttribute('data-y')) / 100;\n            var selectedPage = parseInt(obj.selectedCell[3] / 100);\n            var totalPages = parseInt(obj.rows.length / 100);\n\n            if (currentPage != selectedPage && selectedPage <= totalPages) {\n                if (! Array.prototype.indexOf.call(obj.tbody.children, obj.rows[obj.selectedCell[3]])) {\n                    obj.loadPage(selectedPage);\n                    return true;\n                }\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Reset search\n     */\n    obj.resetSearch = function() {\n        obj.searchInput.value = '';\n        obj.search('');\n        obj.results = null;\n    }\n\n    /**\n     * Search\n     */\n    obj.search = function(query) {\n        // Query\n        if (query) {\n            var query = query.toLowerCase();\n        }\n\n        // Reset selection\n        obj.resetSelection();\n\n        // Total of results\n        obj.pageNumber = 0;\n        obj.results = [];\n\n        if (query) {\n            // Search filter\n            var search = function(item, query, index) {\n                for (var i = 0; i < item.length; i++) {\n                    if ((''+item[i]).toLowerCase().search(query) >= 0 ||\n                        (''+obj.records[index][i].innerHTML).toLowerCase().search(query) >= 0) {\n                        return true;\n                    }\n                }\n                return false;\n            }\n\n            // Result\n            var addToResult = function(k) {\n                if (obj.results.indexOf(k) == -1) {\n                    obj.results.push(k);\n                }\n            }\n\n            // Filter\n            var data = obj.options.data.filter(function(v, k) {\n                if (search(v, query, k)) {\n                    // Merged rows found\n                    var rows = obj.isRowMerged(k);\n                    if (rows.length) {\n                        for (var i = 0; i < rows.length; i++) {\n                            var row = jexcel.getIdFromColumnName(rows[i], true);\n                            for (var j = 0; j < obj.options.mergeCells[rows[i]][1]; j++) {\n                                addToResult(row[1]+j);\n                            }\n                        }\n                    } else {\n                        // Normal row found\n                        addToResult(k);\n                    }\n                    return true;\n                } else {\n                    return false;\n                }\n            });\n        } else {\n            obj.results = null;\n        }\n\n        var total = 0;\n        var index = 0;\n\n        // Page 1\n        if (obj.options.lazyLoading == true) {\n            total = 100;\n        } else if (obj.options.pagination > 0) {\n            total = obj.options.pagination;\n        } else {\n            if (obj.results) {\n                total = obj.results.length;\n            } else {\n                total = obj.rows.length;\n            }\n        }\n\n        // Reset current nodes\n        while (obj.tbody.firstChild) {\n            obj.tbody.removeChild(obj.tbody.firstChild);\n        }\n\n        // Hide all records from the table\n        for (var j = 0; j < obj.rows.length; j++) {\n            if (! obj.results || obj.results.indexOf(j) > -1) {\n                if (index < total) {\n                    obj.tbody.appendChild(obj.rows[j]);\n                    index++;\n                }\n                obj.rows[j].style.display = '';\n            } else {\n                obj.rows[j].style.display = 'none';\n            }\n        }\n\n        // Update pagination\n        if (obj.options.pagination > 0) {\n            obj.updatePagination();\n        }\n\n        return total;\n    }\n\n    /**\n     * Which page the cell is\n     */\n    obj.whichPage = function(cell) {\n        // Search\n        if (obj.options.search == true && obj.results) {\n            cell = obj.results.indexOf(cell);\n        }\n\n        return (Math.ceil((parseInt(cell) + 1) / parseInt(obj.options.pagination))) - 1;\n    }\n\n    /**\n     * Go to page\n     */\n    obj.page = function(pageNumber) {\n        var oldPage = obj.pageNumber;\r\n\n        // Search\n        if (obj.options.search == true && obj.results) {\n            var results = obj.results;\n        } else {\n            var results = obj.rows;\n        }\n\n        // Per page\n        var quantityPerPage = parseInt(obj.options.pagination);\n\n        // pageNumber\n        if (pageNumber == null || pageNumber == -1) {\n            // Last page\n            pageNumber = Math.ceil(results.length / quantityPerPage); \n        }\n\n        // Page number\n        obj.pageNumber = pageNumber;\n\n        var startRow = (pageNumber * quantityPerPage);\n        var finalRow = (pageNumber * quantityPerPage) + quantityPerPage;\n        if (finalRow > results.length) {\n            finalRow = results.length;\n        }\n        if (startRow < 0) {\n            startRow = 0;\n        }\n\n        // Reset container\n        while (obj.tbody.firstChild) {\n            obj.tbody.removeChild(obj.tbody.firstChild);\n        }\n\n        // Appeding items\n        for (var j = startRow; j < finalRow; j++) {\n            if (obj.options.search == true && obj.results) {\n                obj.tbody.appendChild(obj.rows[results[j]]);\n            } else {\n                obj.tbody.appendChild(obj.rows[j]);\n            }\n        }\n\n        if (obj.options.pagination > 0) {\n            obj.updatePagination();\n        }\n\n        // Update corner position\n        obj.updateCornerPosition();\n\r\n        if (typeof(obj.options.onchangepage) == 'function') {\r\n            obj.options.onchangepage(el, pageNumber, oldPage);\r\n        }\n    }\n\n    /**\n     * Update the pagination\n     */\n    obj.updatePagination = function() {\n        // Reset container\n        obj.pagination.children[0].innerHTML = '';\n        obj.pagination.children[1].innerHTML = '';\n\n        // Start pagination\n        if (obj.options.pagination) {\n            // Searchable\n            if (obj.options.search == true && obj.results) {\n                var results = obj.results.length;\n            } else {\n                var results = obj.rows.length;\n            }\n\n            if (! results) {\n                // No records found\n                obj.pagination.children[0].innerHTML = obj.options.text.noRecordsFound;\n            } else {\n                // Pagination container\n                var quantyOfPages = Math.ceil(results / obj.options.pagination);\n\n                if (obj.pageNumber < 6) {\n                    var startNumber = 1;\n                    var finalNumber = quantyOfPages < 10 ? quantyOfPages : 10;\n                } else if (quantyOfPages - obj.pageNumber < 5) {\n                    var startNumber = quantyOfPages - 9;\n                    var finalNumber = quantyOfPages;\n                    if (startNumber < 1) {\n                        startNumber = 1;\n                    }\n                } else {\n                    var startNumber = obj.pageNumber - 4;\n                    var finalNumber = obj.pageNumber + 5;\n                }\n\n                // First\n                if (startNumber > 1) {\n                    var paginationItem = document.createElement('div');\n                    paginationItem.className = 'jexcel_page';\n                    paginationItem.innerHTML = '<';\n                    paginationItem.title = 1;\n                    obj.pagination.children[1].appendChild(paginationItem);\n                }\n\n                // Get page links\n                for (var i = startNumber; i <= finalNumber; i++) {\n                    var paginationItem = document.createElement('div');\n                    paginationItem.className = 'jexcel_page';\n                    paginationItem.innerHTML = i;\n                    obj.pagination.children[1].appendChild(paginationItem);\n\n                    if (obj.pageNumber == (i-1)) {\n                        paginationItem.classList.add('jexcel_page_selected');\n                    }\n                }\n\n                // Last\n                if (finalNumber < quantyOfPages) {\n                    var paginationItem = document.createElement('div');\n                    paginationItem.className = 'jexcel_page';\n                    paginationItem.innerHTML = '>';\n                    paginationItem.title = quantyOfPages;\n                    obj.pagination.children[1].appendChild(paginationItem);\n                }\n\n                // Text\n                var format = function(format) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    return format.replace(/{(\\d+)}/g, function(match, number) {\n                      return typeof args[number] != 'undefined'\n                        ? args[number]\n                        : match\n                      ;\n                    });\n                };\n\n                obj.pagination.children[0].innerHTML = format(obj.options.text.showingPage, obj.pageNumber + 1, quantyOfPages)\n            }\n        }\n    }\n\n    /**\n     * Download CSV table\n     * \n     * @return null\n     */\n    obj.download = function(includeHeaders) {\n        if (obj.options.allowExport == false) {\n            console.error('Export not allowed');\n        } else {\n            // Data\n            var data = '';\n            if (includeHeaders == true || obj.options.includeHeadersOnDownload == true) {\n                data += obj.getHeaders();\n                data += \"\\r\\n\";\n            }\n\r\n            // Get data\n            data += obj.copy(false, obj.options.csvDelimiter, true);\r\n\n            // Download element\n            var blob = new Blob([\"\\uFEFF\"+data], {type: 'text/csv;charset=utf-8;'});\n\r\n            // IE Compatibility\r\n            if (window.navigator && window.navigator.msSaveOrOpenBlob) {\r\n                window.navigator.msSaveOrOpenBlob(blob, options.csvFileName + '.csv');\r\n            } else {\n                // Download element\n                var pom = document.createElement('a');\n                var url = URL.createObjectURL(blob);\n                pom.href = url;\n                pom.setAttribute('download', obj.options.csvFileName + '.csv');\n                document.body.appendChild(pom);\n                pom.click();\n                pom.parentNode.removeChild(pom);\n            }\n        }\n    }\n\n    /**\n     * Initializes a new history record for undo/redo\n     * \n     * @return null\n     */\n    obj.setHistory = function(changes) {\n        if (obj.ignoreHistory != true) {\n            // Increment and get the current history index\n            var index = ++obj.historyIndex;\n\n            // Slice the array to discard undone changes\n            obj.history = (obj.history = obj.history.slice(0, index + 1));\n\n            // Keep history\n            obj.history[index] = changes;\n        }\n    }\n\n    /**\n     * Copy method\n     * \n     * @param bool highlighted - Get only highlighted cells\n     * @param delimiter - \\t default to keep compatibility with excel\n     * @return string value\n     */\n    obj.copy = function(highlighted, delimiter, returnData) {\n        if (! delimiter) {\n            delimiter = \"\\t\";\n        }\n\n        // Controls\n        var col = [];\n        var colLabel = [];\n        var row = [];\n        var rowLabel = [];\n        var x = obj.options.data[0].length\n        var y = obj.options.data.length\n        var tmp = '';\n\n        // Reset container\n        obj.style = [];\n\n        // Go through the columns to get the data\n        for (var j = 0; j < y; j++) {\n            col = [];\n            colLabel = [];\n\n            for (var i = 0; i < x; i++) {\n                // If cell is highlighted\n                if (! highlighted || obj.records[j][i].classList.contains('highlight')) {\n                    // Values\n                    var value = obj.options.data[j][i];\n                    if (value.match && (value.match(/,/g) || value.match(/\\n/) || value.match(/\\\"/))) {\n                        value = value.replace(new RegExp('\"', 'g'), '\"\"');\n                        value = '\"' + value + '\"';\n                    }\n                    col.push(value);\n\n                    // Labels\n                    if (obj.options.columns[i].type == 'checkbox' || obj.options.columns[i].type == 'radio') {\r\n                        var label = value;\n                    } else {\r\n                        var label = obj.records[j][i].innerHTML;\n                        if (label.match && (label.match(/,/g) || label.match(/\\n/) || label.match(/\\\"/))) {\n                            // Scape double quotes\n                            label = label.replace(new RegExp('\"', 'g'), '\"\"');\n                            label = '\"' + label + '\"';\n                        }\r\n                    }\n                    colLabel.push(label);\n\n                    // Get style\n                    tmp = obj.records[j][i].getAttribute('style');\n                    obj.style.push(tmp ? tmp : '');\n                }\n            }\n\n            if (col.length) {\n                row.push(col.join(delimiter));\n            }\n            if (colLabel.length) {\n                rowLabel.push(colLabel.join(delimiter));\n            }\n        }\n\n        // Final string\n        var str = row.join(\"\\r\\n\");\n        var strLabel = rowLabel.join(\"\\r\\n\");\n\n        // Create a hidden textarea to copy the values\n        if (! returnData) {\n            if (obj.options.copyCompatibility == true) {\n                obj.textarea.value = strLabel;\n            } else {\n                obj.textarea.value = str;\n            }\n            obj.textarea.select();\n            document.execCommand(\"copy\");\n        }\n\n        // Keep data\n        if (obj.options.copyCompatibility == true) {\n            obj.data = strLabel;\n        } else {\n        obj.data = str;\n        }\n        // Keep non visible information\n        obj.hashString = obj.hash(obj.data);\n\n        return obj.data;\n    }\n\n    /**\n     * jExcel paste method\n     * \n     * @param integer row number\n     * @return string value\n     */\n    obj.paste = function(x, y, data) {\n        // Paste filter\n        if (typeof(obj.options.onbeforepaste) == 'function') {\n            var data = obj.options.onbeforepaste(el, data);\n        }\n\n        // Controls\n        var hash = obj.hash(data);\n        var style = (hash == obj.hashString) ? obj.style : null;\n\n        // Depending on the behavior\n        if (obj.options.copyCompatibility == true && hash == obj.hashString) {\n            var data = obj.data;\n        }\n\n        // Split new line\n        var data = obj.parseCSV(data, \"\\t\");\n\n        if (x != null && y != null && data) {\n            // Records\n            var i = 0;\n            var j = 0;\n            var records = [];\n            var newStyle = {};\n            var oldStyle = {};\n            var styleIndex = 0;\n\n            // Index\n            var colIndex = parseInt(x);\n            var rowIndex = parseInt(y);\n            var row = null;\n\n            // Go through the columns to get the data\n            while (row = data[j]) {\n                i = 0;\n                colIndex = parseInt(x);\n\n                while (row[i] != null) {\n                    // Update and keep history\n                    var record = obj.updateCell(colIndex, rowIndex, row[i]);\n                    // Keep history\n                    records.push(record);\n                    // Update all formulas in the chain\n                    obj.updateFormulaChain(colIndex, rowIndex, records);\n                    // Style\n                    if (style && style[styleIndex]) {\n                        var columnName = jexcel.getColumnNameFromId([colIndex, rowIndex]);\n                        newStyle[columnName] = style[styleIndex];\n                        oldStyle[columnName] = obj.getStyle(columnName);\n                        obj.records[rowIndex][colIndex].setAttribute('style', style[styleIndex]);\n                        styleIndex++\n                    }\n                    i++;\n                    if (row[i] != null) {\n                        if (colIndex >= obj.headers.length - 1) {\n                            obj.insertColumn();\n                        }\n                        colIndex = obj.right.get(colIndex, rowIndex);\n                    }\n                }\n\n                j++;\n                if (data[j]) {\n                    if (rowIndex >= obj.rows.length-1) {\n                        obj.insertRow();\n                    }\n                    rowIndex = obj.down.get(x, rowIndex);\n                }\n            }\n\n            // Select the new cells\n            obj.updateSelectionFromCoords(x, y, colIndex, rowIndex);\n\n            // Update history\n            obj.setHistory({\n                action:'setValue',\n                records:records,\n                selection:obj.selectedCell,\n                newStyle:newStyle,\n                oldStyle:oldStyle,\n            });\n\n            // Update table\n            obj.updateTable();\n\n            // Paste event\n            if (typeof(obj.options.onpaste) == 'function') {\n                obj.options.onpaste(el, records);\n            }\n\n            // On after changes\n            obj.onafterchanges(el, records);\n        }\n    }\n\n    /**\n     * Process row\n     */\n    obj.historyProcessRow = function(type, historyRecord) {\n        var rowIndex = (! historyRecord.insertBefore) ? historyRecord.rowNumber + 1 : historyRecord.rowNumber;\n\n        if (obj.options.search == true) {\n            if (obj.results && obj.results.length != obj.rows.length) {\n                obj.resetSearch();\n            }\n        }\n\n        // Remove row\n        if (type == 1) {\n            var numOfRows = historyRecord.numOfRows;\n            // Remove nodes\n            for (var j = rowIndex; j < (numOfRows + rowIndex); j++) {\n                obj.rows[j].parentNode.removeChild(obj.rows[j]);\n            }\n            // Remove references\n            obj.records.splice(rowIndex, numOfRows);\n            obj.options.data.splice(rowIndex, numOfRows);\n            obj.rows.splice(rowIndex, numOfRows);\n\n            obj.conditionalSelectionUpdate(1, rowIndex, (numOfRows + rowIndex) - 1);\n        } else {\n            // Insert data\n            obj.records = jexcel.injectArray(obj.records, rowIndex, historyRecord.rowRecords);\n            obj.options.data = jexcel.injectArray(obj.options.data, rowIndex, historyRecord.rowData);\n            obj.rows = jexcel.injectArray(obj.rows, rowIndex, historyRecord.rowNode);\n            // Insert nodes\n            var index = 0\n            for (var j = rowIndex; j < (historyRecord.numOfRows + rowIndex); j++) {\n                obj.tbody.insertBefore(historyRecord.rowNode[index], obj.tbody.children[j]);\n                index++;\n            }\n        }\n\n        // Respect pagination\n        if (obj.options.pagination > 0) {\n            obj.page(obj.pageNumber);\n        }\n\n        obj.updateTableReferences();\n    }\n\n    /**\n     * Process column\n     */\n    obj.historyProcessColumn = function(type, historyRecord) {\n        var columnIndex = (! historyRecord.insertBefore) ? historyRecord.columnNumber + 1 : historyRecord.columnNumber;\n\n        // Remove column\n        if (type == 1) {\n            var numOfColumns = historyRecord.numOfColumns;\n\n            obj.options.columns.splice(columnIndex, numOfColumns);\n            for (var i = columnIndex; i < (numOfColumns + columnIndex); i++) {\n                obj.headers[i].parentNode.removeChild(obj.headers[i]);\n                obj.colgroup[i].parentNode.removeChild(obj.colgroup[i]);\n            }\n            obj.headers.splice(columnIndex, numOfColumns);\n            obj.colgroup.splice(columnIndex, numOfColumns);\n            for (var j = 0; j < historyRecord.data.length; j++) {\n                for (var i = columnIndex; i < (numOfColumns + columnIndex); i++) {\n                    obj.records[j][i].parentNode.removeChild(obj.records[j][i]);\n                }\n                obj.records[j].splice(columnIndex, numOfColumns);\n                obj.options.data[j].splice(columnIndex, numOfColumns);\n            }\n\n            obj.conditionalSelectionUpdate(0, columnIndex, (numOfColumns + columnIndex) - 1);\n        } else {\n            // Insert data\n            obj.options.columns = jexcel.injectArray(obj.options.columns, columnIndex, historyRecord.columns);\n            obj.headers = jexcel.injectArray(obj.headers, columnIndex, historyRecord.headers);\n            obj.colgroup = jexcel.injectArray(obj.colgroup, columnIndex, historyRecord.colgroup);\n\n            var index = 0\n            for (var i = columnIndex; i < (historyRecord.numOfColumns + columnIndex); i++) {\n                obj.headerContainer.insertBefore(historyRecord.headers[index], obj.headerContainer.children[i+1]);\n                obj.colgroupContainer.insertBefore(historyRecord.colgroup[index], obj.colgroupContainer.children[i+1]);\n                index++;\n            }\n\n            for (var j = 0; j < historyRecord.data.length; j++) {\n                obj.options.data[j] = jexcel.injectArray(obj.options.data[j], columnIndex, historyRecord.data[j]);\n                obj.records[j] = jexcel.injectArray(obj.records[j], columnIndex, historyRecord.records[j]);\n                var index = 0\n                for (var i = columnIndex; i < (historyRecord.numOfColumns + columnIndex); i++) {\n                    obj.rows[j].insertBefore(historyRecord.records[j][index], obj.rows[j].children[i+1]);\n                    index++;\n                }\n            }\n        }\n\n        // Adjust nested headers\n        if (obj.options.nestedHeaders && obj.options.nestedHeaders.length > 0) {\n            // Flexible way to handle nestedheaders\n            if (obj.options.nestedHeaders[0] && obj.options.nestedHeaders[0][0]) {\n                for (var j = 0; j < obj.options.nestedHeaders.length; j++) {\n                    if (type == 1) {\n                        var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) - historyRecord.numOfColumns;\n                    } else {\n                        var colspan = parseInt(obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan) + historyRecord.numOfColumns;\n                    }\n                    obj.options.nestedHeaders[j][obj.options.nestedHeaders[j].length-1].colspan = colspan;\n                    obj.thead.children[j].children[obj.thead.children[j].children.length-1].setAttribute('colspan', colspan);\n                }\n            } else {\n                if (type == 1) {\n                    var colspan = parseInt(obj.options.nestedHeaders[0].colspan) - historyRecord.numOfColumns;\n                } else {\n                    var colspan = parseInt(obj.options.nestedHeaders[0].colspan) + historyRecord.numOfColumns;\n                }\n                obj.options.nestedHeaders[0].colspan = colspan;\n                obj.thead.children[0].children[obj.thead.children[0].children.length-1].setAttribute('colspan', colspan);\n            }\n        }\n\n        obj.updateTableReferences();\n    }\n\n    /**\n     * Undo last action\n     */\n    obj.undo = function() {\n        // Ignore events and history\n        var ignoreEvents = obj.ignoreEvents ? true : false;\n        var ignoreHistory = obj.ignoreHistory ? true : false;\n\n        obj.ignoreEvents = true;\n        obj.ignoreHistory = true;\n\n        // Records\n        var records = [];\n\n        // Update cells\n        if (obj.historyIndex >= 0) {\n            // History\n            var historyRecord = obj.history[obj.historyIndex--];\n\n            if (historyRecord.action == 'insertRow') {\n                obj.historyProcessRow(1, historyRecord);\n            } else if (historyRecord.action == 'deleteRow') {\n                obj.historyProcessRow(0, historyRecord);\n            } else if (historyRecord.action == 'insertColumn') {\n                obj.historyProcessColumn(1, historyRecord);\n            } else if (historyRecord.action == 'deleteColumn') {\n                obj.historyProcessColumn(0, historyRecord);\n            } else if (historyRecord.action == 'moveRow') {\n                obj.moveRow(historyRecord.newValue, historyRecord.oldValue);\n            } else if (historyRecord.action == 'moveColumn') {\n                obj.moveColumn(historyRecord.newValue, historyRecord.oldValue);\n            } else if (historyRecord.action == 'setMerge') {\n                obj.removeMerge(historyRecord.column, historyRecord.data);\n            } else if (historyRecord.action == 'setStyle') {\n                obj.setStyle(historyRecord.oldValue, null, null, 1);\n            } else if (historyRecord.action == 'setWidth') {\n                obj.setWidth(historyRecord.column, historyRecord.oldValue);\n            } else if (historyRecord.action == 'setHeight') {\n                obj.setHeight(historyRecord.row, historyRecord.oldValue);\n            } else if (historyRecord.action == 'setHeader') {\n                obj.setHeader(historyRecord.column, historyRecord.oldValue);\n            } else if (historyRecord.action == 'setComments') {\n                obj.setComments(historyRecord.column, historyRecord.oldValue[0], historyRecord.oldValue[1]);\n            } else if (historyRecord.action == 'orderBy') {\n                var rows = [];\n                for (var j = 0; j < historyRecord.rows.length; j++) {\n                    rows[historyRecord.rows[j]] = j;\n                }\n                obj.updateOrderArrow(historyRecord.column, historyRecord.order ? 0 : 1);\n                obj.updateOrder(rows);\n            } else if (historyRecord.action == 'setValue') {\n                // Redo for changes in cells\n                for (var i = 0; i < historyRecord.records.length; i++) {\n                    obj.updateCell(historyRecord.records[i].col, historyRecord.records[i].row, historyRecord.records[i].oldValue);\n                    obj.updateFormulaChain(historyRecord.records[i].col, historyRecord.records[i].row, records);\n                    if (historyRecord.oldStyle) {\n                        obj.resetStyle(historyRecord.oldStyle, true);\n                    }\n                }\n                // Update selection\n                if (! historyRecord.selection) {\n                    historyRecord.selection = [historyRecord.records[0].col, historyRecord.records[0].row];\n                }\n                obj.updateSelectionFromCoords(historyRecord.selection[0], historyRecord.selection[1], historyRecord.selection[2], historyRecord.selection[3]);\n                // Update table\n                obj.updateTable();\n            }\n        }\n        obj.ignoreEvents = ignoreEvents;\n        obj.ignoreHistory = ignoreHistory;\n\n        if (typeof(obj.options.onundo) == 'function') {\n            obj.options.onundo(el, historyRecord);\n        }\n    }\n\n    /**\n     * Redo previously undone action\n     */\n    obj.redo = function() {\n        // Ignore events and history\n        var ignoreEvents = obj.ignoreEvents ? true : false;\n        var ignoreHistory = obj.ignoreHistory ? true : false;\n\n        obj.ignoreEvents = true;\n        obj.ignoreHistory = true;\n\n        // Records\n        var records = [];\n\n        // Update cells\n        if (obj.historyIndex < obj.history.length - 1) {\n            // History\n            var historyRecord = obj.history[++obj.historyIndex];\n\n            if (historyRecord.action == 'insertRow') {\n                obj.historyProcessRow(0, historyRecord);\n            } else if (historyRecord.action == 'deleteRow') {\n                obj.historyProcessRow(1, historyRecord);\n            } else if (historyRecord.action == 'insertColumn') {\n                obj.historyProcessColumn(0, historyRecord);\n            } else if (historyRecord.action == 'deleteColumn') {\n                obj.historyProcessColumn(1, historyRecord);\n            } else if (historyRecord.action == 'moveRow') {\n                obj.moveRow(historyRecord.oldValue, historyRecord.newValue);\n            } else if (historyRecord.action == 'moveColumn') {\n                obj.moveColumn(historyRecord.oldValue, historyRecord.newValue);\n            } else if (historyRecord.action == 'setMerge') {\n                obj.setMerge(historyRecord.column, historyRecord.colspan, historyRecord.rowspan, 1);\n            } else if (historyRecord.action == 'setStyle') {\n                obj.setStyle(historyRecord.newValue, null, null, 1);\n            } else if (historyRecord.action == 'setWidth') {\n                obj.setWidth(historyRecord.column, historyRecord.newValue);\n            } else if (historyRecord.action == 'setHeight') {\n                obj.setHeight(historyRecord.row, historyRecord.newValue);\n            } else if (historyRecord.action == 'setHeader') {\n                obj.setHeader(historyRecord.column, historyRecord.newValue);\n            } else if (historyRecord.action == 'setComments') {\n                obj.setComments(historyRecord.column, historyRecord.newValue[0], historyRecord.newValue[1]);\n            } else if (historyRecord.action == 'orderBy') {\n                obj.updateOrderArrow(historyRecord.column, historyRecord.order);\n                obj.updateOrder(historyRecord.rows);\n            } else if (historyRecord.action == 'setValue') {\n                // Redo for changes in cells\n                for (var i = 0; i < historyRecord.records.length; i++) {\n                    obj.updateCell(historyRecord.records[i].col, historyRecord.records[i].row, historyRecord.records[i].newValue);\n                    obj.updateFormulaChain(historyRecord.records[i].col, historyRecord.records[i].row, records);\n                    if (historyRecord.newStyle) {\n                        obj.resetStyle(historyRecord.newStyle, true);\n                    }\n                }\n\n                // Update selection\n                if (! historyRecord.selection) {\n                    historyRecord.selection = [historyRecord.records[0].col, historyRecord.records[0].row];\n                }\n                obj.updateSelectionFromCoords(historyRecord.selection[0], historyRecord.selection[1], historyRecord.selection[2], historyRecord.selection[3]);\n                // Update table\n                obj.updateTable();\n            }\n        }\n        obj.ignoreEvents = ignoreEvents;\n        obj.ignoreHistory = ignoreHistory;\n\n        if (typeof(obj.options.onredo) == 'function') {\n            obj.options.onredo(el, historyRecord);\n        }\n    }\n\n    /**\n     * Get dropdown value from key\n     */\n    obj.getDropDownValue = function(column, key) {\n        var value = [];\n\n        if (obj.options.columns[column] && obj.options.columns[column].source) {\n            // Create array from source\n            var combo = [];\n            var source = obj.options.columns[column].source;\n\n            for (var i = 0; i < source.length; i++) {\n                if (typeof(source[i]) == 'object') {\n                    combo[source[i].id] = source[i].name;\n                } else {\n                    combo[source[i]] = source[i];\n                }\n            }\n\n            // Garante single multiple compatibily\n            var keys = ('' + key).split(';')\n\n            for (var i = 0; i < keys.length; i++) {\n                if (combo[keys[i]]) {\n                    value.push(combo[keys[i]]);\n                }\n            }\n        } else {\n            console.error('Invalid column');\n        }\n\n        return (value.length > 0) ? value.join('; ') : '';\n    }\n\n    /**\n     * From starckoverflow contributions\n     */\n    obj.parseCSV = function(str, delimiter) {\n        // Remove last line break\n        str = str.replace(/\\r?\\n$|\\r$|\\n$/g, \"\");\n        // Last caracter is the delimiter\n        if (str.charCodeAt(str.length-1) == 9) {\n            str += \"\\0\";\n        }\n        // user-supplied delimeter or default comma\n        delimiter = (delimiter || \",\");\n\n        var arr = [];\n        var quote = false;  // true means we're inside a quoted field\n        // iterate over each character, keep track of current row and column (of the returned array)\n        for (var row = 0, col = 0, c = 0; c < str.length; c++) {\n            var cc = str[c], nc = str[c+1];\n            arr[row] = arr[row] || [];\n            arr[row][col] = arr[row][col] || '';\n\n            // If the current character is a quotation mark, and we're inside a quoted field, and the next character is also a quotation mark, add a quotation mark to the current column and skip the next character\n            if (cc == '\"' && quote && nc == '\"') { arr[row][col] += cc; ++c; continue; }  \n\n            // If it's just one quotation mark, begin/end quoted field\n            if (cc == '\"') { quote = !quote; continue; }\n\n            // If it's a comma and we're not in a quoted field, move on to the next column\n            if (cc == delimiter && !quote) { ++col; continue; }\n\n            // If it's a newline (CRLF) and we're not in a quoted field, skip the next character and move on to the next row and move to column 0 of that new row\n            if (cc == '\\r' && nc == '\\n' && !quote) { ++row; col = 0; ++c; continue; }\n\n            // If it's a newline (LF or CR) and we're not in a quoted field, move on to the next row and move to column 0 of that new row\n            if (cc == '\\n' && !quote) { ++row; col = 0; continue; }\n            if (cc == '\\r' && !quote) { ++row; col = 0; continue; }\n\n            // Otherwise, append the current character to the current column\n            arr[row][col] += cc;\n        }\n        return arr;\n    }\n\n    obj.hash = function(str) {\n        var hash = 0, i, chr;\n\n        if (str.length === 0) {\n            return hash;\n        } else {\n            for (i = 0; i < str.length; i++) {\n              chr = str.charCodeAt(i);\n              hash = ((hash << 5) - hash) + chr;\n              hash |= 0;\n            }\n        }\n        return hash;\n    }\n\n    obj.onafterchanges = function(el, records) {\n        if (! obj.ignoreEvents) {\n            // On after changes\n            if (typeof(obj.options.onafterchanges) == 'function') {\n                obj.options.onafterchanges(el, records);\n            }\n        }\n    }\r\n\n    obj.destroy = function() {\r\n        jexcel.destroy(el);\r\n    }\r\n\n    /**\n     * Initialization method\n     */\n    obj.init = function() {\n        jexcel.current = obj;\n\n        // Build handlers\n        if (typeof(jexcel.build) == 'function') {\n            jexcel.build();\n            jexcel.build = null;\n        }\n\n        // Load the table data based on an CSV file\n        if (obj.options.csv) {\n            // Loading\n            if (obj.options.loadingSpin == true) {\n                jSuites.loading.show();\n            }\n\n            // Load CSV file\n            jSuites.ajax({\n                url: obj.options.csv,\n                method: 'GET',\n                dataType: 'text',\n                success: function(result) {\n                    // Convert data\n                    var newData = obj.parseCSV(result, obj.options.csvDelimiter)\n\n                    // Headers\n                    if (obj.options.csvHeaders == true && newData.length > 0) {\n                        var headers = newData.shift();\n                        for(var i = 0; i < headers.length; i++) {\n                            if (! obj.options.columns[i]) {\n                                obj.options.columns[i] = { type:'text', align:obj.options.defaultColAlign, width:obj.options.defaultColWidth };\n                            }\n                            // Precedence over pre-configurated titles\n                            if (typeof obj.options.columns[i].title === 'undefined') {\n                              obj.options.columns[i].title = headers[i];\n                            }\n                        }\n                    }\n                    // Data\n                    obj.options.data = newData;\n                    // Prepare table\n                    obj.prepareTable();\n                    // Hide spin\n                    if (obj.options.loadingSpin == true) {\n                        jSuites.loading.hide();\n                    }\n                }\n            });\n        } else if (obj.options.url) {\n            // Loading\n            if (obj.options.loadingSpin == true) {\n                jSuites.loading.show();\n            }\n\n            jSuites.ajax({\n                url: obj.options.url,\n                method: 'GET',\n                dataType: 'json',\n                success: function(result) {\n                    // Data\n                    obj.options.data = (result.data) ? result.data : result;\n                    // Prepare table\n                    obj.prepareTable();\n                    // Hide spin\n                    if (obj.options.loadingSpin == true) {\n                        jSuites.loading.hide();\n                    }\n                }\n            });\n        } else {\n            // Prepare table\n            obj.prepareTable();\n        }\n    }\n\n    // Context menu\n    if (options && options.contextMenu != null) {\n        obj.options.contextMenu = options.contextMenu;\n    } else {\n        obj.options.contextMenu = function(el, x, y, e) {\n            var items = [];\n\n            if (y == null) {\n                // Insert a new column\n                if (obj.options.allowInsertColumn == true) {\n                    items.push({\n                        title:obj.options.text.insertANewColumnBefore,\n                        onclick:function() {\n                            obj.insertColumn(1, parseInt(x), 1);\n                        }\n                    });\n                }\n\n                if (obj.options.allowInsertColumn == true) {\n                    items.push({\n                        title:obj.options.text.insertANewColumnAfter,\n                        onclick:function() {\n                            obj.insertColumn(1, parseInt(x), 0);\n                        }\n                    });\n                }\n\n                // Delete a column\n                if (obj.options.allowDeleteColumn == true) {\n                    items.push({\n                        title:obj.options.text.deleteSelectedColumns,\n                        onclick:function() {\n                            obj.deleteColumn(obj.getSelectedColumns().length ? undefined : parseInt(x));\n                        }\n                    });\n                }\n\n                // Rename column\n                if (obj.options.allowRenameColumn == true) {\n                    items.push({\n                        title:obj.options.text.renameThisColumn,\n                        onclick:function() {\n                            obj.setHeader(x);\n                        }\n                    });\n                }\n\n                // Sorting\n                if (obj.options.columnSorting == true) {\n                    // Line\n                    items.push({ type:'line' });\n\n                    items.push({\n                        title:obj.options.text.orderAscending,\n                        onclick:function() {\n                            obj.orderBy(x, 0);\n                        }\n                    });\n                    items.push({\n                        title:obj.options.text.orderDescending,\n                        onclick:function() {\n                            obj.orderBy(x, 1);\n                        }\n                    });\n                }\n            } else {\n                // Insert new row\n                if (obj.options.allowInsertRow == true) {\n                    items.push({\n                        title:obj.options.text.insertANewRowBefore,\n                        onclick:function() {\n                            obj.insertRow(1, parseInt(y), 1);\n                        }\n                    });\n\n                    items.push({\n                        title:obj.options.text.insertANewRowAfter,\n                        onclick:function() {\n                            obj.insertRow(1, parseInt(y));\n                        }\n                    });\n                }\n\n                if (obj.options.allowDeleteRow == true) {\n                    items.push({\n                        title:obj.options.text.deleteSelectedRows,\n                        onclick:function() {\n                            obj.deleteRow(obj.getSelectedRows().length ? undefined : parseInt(y));\n                        }\n                    });\n                }\n\n                if (x) {\n                    if (obj.options.allowComments == true) {\n                        items.push({ type:'line' });\n\n                        var title = obj.records[y][x].getAttribute('title') || '';\n\n                        items.push({\n                            title: title ? obj.options.text.editComments : obj.options.text.addComments,\n                            onclick:function() {\n                                var comment = prompt(obj.options.text.comments, title);\r\n                                if (comment) {\r\n                                    obj.setComments([ x, y ], comment);\r\n                                }\n                            }\n                        });\n\n                        if (title) {\n                            items.push({\n                                title:obj.options.text.clearComments,\n                                onclick:function() {\n                                    obj.setComments([ x, y ], '');\n                                }\n                            });\n                        }\n                    }\n                }\n            }\n\n            // Line\n            items.push({ type:'line' });\n\n            // Copy\n            items.push({\n                title:obj.options.text.copy,\n                shortcut:'Ctrl + C',\n                onclick:function() {\n                    obj.copy(true);\n                }\n            });\n\n            // Paste\n            if (navigator && navigator.clipboard) {\n                items.push({\n                    title:obj.options.text.paste,\n                    shortcut:'Ctrl + V',\n                    onclick:function() {\n                        if (obj.selectedCell) {\n                            navigator.clipboard.readText().then(function(text) {\n                                if (text) {\n                                    jexcel.current.paste(obj.selectedCell[0], obj.selectedCell[1], text);\n                                }\n                            });\n                        }\n                    }\n                });\n            }\n\n            // Save\n            if (obj.options.allowExport) {\n                items.push({\n                    title: obj.options.text.saveAs,\n                    shortcut: 'Ctrl + S',\n                    onclick: function () {\n                        obj.download();\n                    }\n                });\n            }\n\n            // About\n            if (obj.options.about) {\n                items.push({\n                    title:obj.options.text.about,\n                    onclick:function() {\n                        alert(obj.options.about);\n                    }\n                });\n            }\n\n            return items;\n        }\n    }\n\n    obj.scrollControls = function(e) {\n        if (obj.options.lazyLoading == true) {\n            if (jexcel.timeControlLoading == null) {\n                jexcel.timeControlLoading = setTimeout(function() {\n                    if (obj.content.scrollTop + obj.content.clientHeight >= obj.content.scrollHeight) {\n                        if (obj.loadDown()) {\n                            if (obj.content.scrollTop + obj.content.clientHeight > obj.content.scrollHeight - 10) {\n                                obj.content.scrollTop = obj.content.scrollTop - obj.content.clientHeight;\n                            }\n                            obj.updateCornerPosition();\n                        }\n                    } else if (obj.content.scrollTop <= obj.content.clientHeight) {\n                        if (obj.loadUp()) {\n                            if (obj.content.scrollTop < 10) {\n                                obj.content.scrollTop = obj.content.scrollTop + obj.content.clientHeight;\n                            }\n                            obj.updateCornerPosition();\n                        }\n                    }\n\n                    jexcel.timeControlLoading = null;\n                }, 100);\n            }\n        }\n\n        // Close editor\n        if (obj.options.lazyLoading == true || obj.options.tableOverflow == true) {\n            if (obj.edition && e.target.className.substr(0,9) != 'jdropdown') {\n                obj.closeEditor(obj.edition[0], true);\n            }\n        }\n    }\n\n    el.addEventListener(\"DOMMouseScroll\", obj.scrollControls);\n    el.addEventListener(\"mousewheel\", obj.scrollControls);\n\n    el.jexcel = obj;\n\n    obj.init();\n\n    return obj;\n});\n\njexcel.current = null;\njexcel.timeControl = null;\njexcel.timeControlLoading = null;\n\njexcel.destroy = function(element, destroyEventHandlers) {\n    if (element.jexcel) {\n        element.removeEventListener(\"DOMMouseScroll\", element.jexcel.scrollControls);\n        element.removeEventListener(\"mousewheel\", element.jexcel.scrollControls);\n        element.jexcel = null;\n        element.innerHTML = '';\n\n        if (destroyEventHandlers) {\n            document.removeEventListener(\"keydown\", jexcel.keyDownControls);\n            document.removeEventListener(\"mouseup\", jexcel.mouseUpControls);\n            document.removeEventListener(\"mousedown\", jexcel.mouseDownControls);\n            document.removeEventListener(\"mousemove\", jexcel.mouseMoveControls);\n            document.removeEventListener(\"mouseover\", jexcel.mouseOverControls);\n            document.removeEventListener(\"dblclick\", jexcel.doubleClickControls);\n            document.removeEventListener(\"paste\", jexcel.pasteControls);\n            document.removeEventListener(\"contextmenu\", jexcel.contextMenuControls);\n            document.removeEventListener(\"touchstart\", jexcel.touchStartControls);\n            document.removeEventListener(\"touchend\", jexcel.touchEndControls);\n            document.removeEventListener(\"touchcancel\", jexcel.touchEndControls);\n            jexcel = null;\n        }\n    }\n}\n\njexcel.build = function() {\n    document.addEventListener(\"keydown\", jexcel.keyDownControls);\n    document.addEventListener(\"mouseup\", jexcel.mouseUpControls);\n    document.addEventListener(\"mousedown\", jexcel.mouseDownControls);\n    document.addEventListener(\"mousemove\", jexcel.mouseMoveControls);\n    document.addEventListener(\"mouseover\", jexcel.mouseOverControls);\n    document.addEventListener(\"dblclick\", jexcel.doubleClickControls);\n    document.addEventListener(\"paste\", jexcel.pasteControls);\n    document.addEventListener(\"contextmenu\", jexcel.contextMenuControls);\n    document.addEventListener(\"touchstart\", jexcel.touchStartControls);\n    document.addEventListener(\"touchend\", jexcel.touchEndControls);\n    document.addEventListener(\"touchcancel\", jexcel.touchEndControls);\n    document.addEventListener(\"touchmove\", jexcel.touchEndControls);\n}\n\n/**\n * Events\n */\njexcel.keyDownControls = function(e) {\n    if (jexcel.current) {\n        if (jexcel.current.edition) {\n            if (e.which == 27) {\n                // Escape\n                if (jexcel.current.edition) {\n                    // Exit without saving\n                    jexcel.current.closeEditor(jexcel.current.edition[0], false);\n                }\n                e.preventDefault();\n            } else if (e.which == 13) {\n                // Enter\n                if (jexcel.current.options.columns[jexcel.current.edition[2]].type == 'calendar') {\n                    jexcel.current.editor[0].children[0].calendar.close(1);\n                } else if (jexcel.current.options.columns[jexcel.current.edition[2]].type == 'dropdown' ||\n                           jexcel.current.options.columns[jexcel.current.edition[2]].type == 'autocomplete') {\n                    // Do nothing\n                } else {\n                    // Alt enter -> do not close editor\n                    if ((jexcel.current.options.wordWrap == true ||\n                         jexcel.current.options.columns[jexcel.current.edition[2]].wordWrap == true ||\n                         jexcel.current.options.data[jexcel.current.edition[3]][jexcel.current.edition[2]].length > 200) && e.altKey) {\n                        // Add new line to the editor\n                        var editorTextarea = jexcel.current.edition[0].children[0];\n                        var editorValue = jexcel.current.edition[0].children[0].value;\n                        var editorIndexOf = editorTextarea.selectionStart;\n                        editorValue = editorValue.slice(0, editorIndexOf) + \"\\n\" + editorValue.slice(editorIndexOf);\n                        editorTextarea.value = editorValue;\n                        editorTextarea.focus();\n                        editorTextarea.selectionStart = editorIndexOf + 1;\n                        editorTextarea.selectionEnd = editorIndexOf + 1;\n                    } else {\n                        jexcel.current.edition[0].children[0].blur();\n                    }\n                }\n            } else if (e.which == 9) {\n                // Tab\n                if (jexcel.current.options.columns[jexcel.current.edition[2]].type == 'calendar') {\n                    jexcel.current.edition[0].children[0].calendar.close(1);\n                } else {\n                    jexcel.current.edition[0].children[0].blur();\n                }\n            }\n        }\n\n        if (! jexcel.current.edition && jexcel.current.selectedCell) {\n            // Which key\n            if (e.which == 37) {\n                jexcel.current.left(e.shiftKey, e.ctrlKey);\n                e.preventDefault();\n            } else if (e.which == 39) {\n                jexcel.current.right(e.shiftKey, e.ctrlKey);\n                e.preventDefault();\n            } else if (e.which == 38) {\n                jexcel.current.up(e.shiftKey, e.ctrlKey);\n                e.preventDefault();\n            } else if (e.which == 40) {\n                jexcel.current.down(e.shiftKey, e.ctrlKey);\n                e.preventDefault();\n            } else if (e.which == 36) {\n                jexcel.current.first(e.shiftKey, e.ctrlKey);\n                e.preventDefault();\n            } else if (e.which == 35) {\n                jexcel.current.last(e.shiftKey, e.ctrlKey);\n                e.preventDefault();\n            } else if (e.which == 32) {\n                if (jexcel.current.options.editable == true) {\n                    jexcel.current.setCheckRadioValue();\n                }\n                e.preventDefault();\n            } else if (e.which == 46) {\n                // Delete\n                if (jexcel.current.options.editable == true) {\n                    if (jexcel.current.selectedRow) {\n                        if (jexcel.current.options.allowDeleteRow == true) {\n                            if (confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedRows)) {\n                                jexcel.current.deleteRow();\n                            }\n                        }\n                    } else if (jexcel.current.selectedHeader) {\n                        if (jexcel.current.options.allowDeleteColumn == true) {\n                            if (confirm(jexcel.current.options.text.areYouSureToDeleteTheSelectedColumns)) {\n                                jexcel.current.deleteColumn();\n                            }\n                        }\n                    } else {\n                        // Change value\n                        jexcel.current.setValue(jexcel.current.highlighted, '');\n                    }\n                }\n            } else if (e.which == 13) {\n                // Move cursor\n                if (e.shiftKey) {\n                    jexcel.current.up();\n                } else {\n                    if (jexcel.current.options.allowInsertRow == true) {\n                        if (jexcel.current.options.allowManualInsertRow == true) {\n                            if (jexcel.current.selectedCell[1] == jexcel.current.options.data.length - 1) {\n                                // New record in case selectedCell in the last row\n                                jexcel.current.insertRow();\n                            }\n                        }\n                    }\n\n                    jexcel.current.down();\n                }\n                e.preventDefault();\n            } else if (e.which == 9) {\n                // Tab\n                if (e.shiftKey) {\n                    jexcel.current.left();\n                } else {\n                    if (jexcel.current.options.allowInsertColumn == true) {\n                        if (jexcel.current.options.allowManualInsertColumn == true) {\n                            if (jexcel.current.selectedCell[0] == jexcel.current.options.data[0].length - 1) {\n                                // New record in case selectedCell in the last column\n                                jexcel.current.insertColumn();\n                            }\n                        }\n                    }\n\n                    jexcel.current.right();\n                }\n                e.preventDefault();\n            } else {\n                if ((e.ctrlKey || e.metaKey) && ! e.shiftKey) {\n                    if (e.which == 65) {\n                        // Ctrl + A\n                        jexcel.current.selectAll();\n                        e.preventDefault();\n                    } else if (e.which == 83) {\n                        // Ctrl + S\n                        jexcel.current.download();\n                        e.preventDefault();\n                    } else if (e.which == 89) {\n                        // Ctrl + Y\n                        jexcel.current.redo();\n                        e.preventDefault();\n                    } else if (e.which == 90) {\n                        // Ctrl + Z\n                        jexcel.current.undo();\n                        e.preventDefault();\n                    } else if (e.which == 67) {\n                        // Ctrl + C\n                        jexcel.current.copy(true);\n                        e.preventDefault();\n                    } else if (e.which == 67) {\n                        // Ctrl + C\n                        jexcel.current.copy(true);\n                        e.preventDefault();\n                    } else if (e.which == 88) {\n                        // Ctrl + X\n                        if (jexcel.current.options.editable == true) {\n                            jexcel.cutControls();\n                        } else {\n                            jexcel.copyControls();\n                        }\n                        e.preventDefault();\n                    } else if (e.which == 86) {\n                        // Ctrl + V\n                        jexcel.pasteControls();\n                    }\n                } else {\n                    if (jexcel.current.selectedCell) {\n                        if (jexcel.current.options.editable == true) {\n                            var rowId = jexcel.current.selectedCell[1];\n                            var columnId = jexcel.current.selectedCell[0];\n\n                            // If is not readonly\n                            if (jexcel.current.options.columns[columnId].type != 'readonly') {\n                                // Characters able to start a edition\n                                if (e.keyCode == 32) {\n                                    // Space\n                                    if (jexcel.current.options.columns[columnId].type == 'checkbox' ||\n                                        jexcel.current.options.columns[columnId].type == 'radio') {\n                                        e.preventDefault();\n                                    } else {\n                                        // Start edition\n                                        jexcel.current.openEditor(jexcel.current.records[rowId][columnId], true);\n                                    }\n                                } else if (e.keyCode == 113) {\n                                    // Start edition with current content F2\n                                    jexcel.current.openEditor(jexcel.current.records[rowId][columnId], false);\n                                } else if ((e.keyCode == 8) ||\n                                           (e.keyCode >= 48 && e.keyCode <= 57) ||\n                                           (e.keyCode >= 96 && e.keyCode <= 111) ||\n                                           (e.keyCode == 187) ||\n                                           (e.keyCode == 189) ||\n                                           ((String.fromCharCode(e.keyCode) == e.key || String.fromCharCode(e.keyCode).toLowerCase() == e.key.toLowerCase()) && jexcel.validLetter(String.fromCharCode(e.keyCode)))) {\n                                    // Start edition\n                                    jexcel.current.openEditor(jexcel.current.records[rowId][columnId], true);\n                                    // Prevent entries in the calendar\n                                    if (jexcel.current.options.columns[columnId].type == 'calendar') {\n                                        e.preventDefault();\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        } else {\n            if (e.target.classList.contains('jexcel_search')) {\n                if (jexcel.timeControl) {\n                    clearTimeout(jexcel.timeControl);\n                }\n\n                jexcel.timeControl = setTimeout(function() {\n                    jexcel.current.search(e.target.value);\n                }, 200);\n            }\n        }\n    }\n}\n\njexcel.isMouseAction = false;\n\njexcel.mouseDownControls = function(e) {\n    e = e || window.event;\n    if (e.buttons) {\n        var mouseButton = e.buttons;\n    } else if (e.button) {\n        var mouseButton = e.button;\n    } else {\n        var mouseButton = e.which;\n    }\n\n    // Get elements\n    var jexcelTable = jexcel.getElement(e.target);\n\n    if (jexcelTable[0]) {\n        if (jexcel.current != jexcelTable[0].jexcel) {\n            if (jexcel.current) {\n                jexcel.current.resetSelection();\n            }\n            jexcel.current = jexcelTable[0].jexcel;\n        }\n    } else {\n        if (jexcel.current) {\n            jexcel.current.resetSelection(true);\n            jexcel.current = null;\n        }\n    }\n\n    if (jexcel.current && mouseButton == 1) {\n        if (e.target.classList.contains('jexcel_selectall')) {\n            if (jexcel.current) {\n                jexcel.current.selectAll();\n            }\n        } else if (e.target.classList.contains('jexcel_corner')) {\n            if (jexcel.current.options.editable == true) {\n                jexcel.current.selectedCorner = true;\n            }\n        } else {\n            // Header found\n            if (jexcelTable[1] == 1) {\n                var columnId = e.target.getAttribute('data-x');\n                if (columnId) {\n                    // Update cursor\n                    var info = e.target.getBoundingClientRect();\n                    if (jexcel.current.options.columnResize == true && info.width - e.offsetX < 6) {\n                        // Resize helper\n                        jexcel.current.resizing = {\n                            mousePosition: e.pageX,\n                            column: columnId,\n                            width: info.width,\n                        };\n\n                        // Border indication\n                        jexcel.current.headers[columnId].classList.add('resizing');\n                        for (var j = 0; j < jexcel.current.records.length; j++) {\n                            if (jexcel.current.records[j][columnId]) {\n                                jexcel.current.records[j][columnId].classList.add('resizing');\n                            }\n                        }\n                    } else if (jexcel.current.options.columnDrag == true && info.height - e.offsetY < 6) {\n                        if (jexcel.current.isColMerged(columnId).length) {\n                            console.error('JEXCEL: This column is part of a merged cell.');\n                        } else {\n                            // Reset selection\n                            jexcel.current.resetSelection();\n                            // Drag helper\n                            jexcel.current.dragging = {\n                                element: e.target,\n                                column:columnId,\n                                destination:columnId,\n                            };\n                            // Border indication\n                            jexcel.current.headers[columnId].classList.add('dragging');\n                            for (var j = 0; j < jexcel.current.records.length; j++) {\n                                if (jexcel.current.records[j][columnId]) {\n                                    jexcel.current.records[j][columnId].classList.add('dragging');\n                                }\n                            }\n                        }\n                    } else {\n                        if (jexcel.current.selectedHeader && (e.shiftKey || e.ctrlKey)) {\n                            var o = jexcel.current.selectedHeader;\n                            var d = columnId;\n                        } else {\n                            // Press to rename\n                            if (jexcel.current.selectedHeader == columnId && jexcel.current.options.allowRenameColumn == true) {\n                                jexcel.timeControl = setTimeout(function() {\n                                    jexcel.current.setHeader(columnId);\n                                }, 800);\n                            }\n\n                            // Keep track of which header was selected first\n                            jexcel.current.selectedHeader = columnId;\n\n                            // Update selection single column\n                            var o = columnId;\n                            var d = columnId;\n                        }\n\n                        // Update selection\n                        jexcel.current.updateSelectionFromCoords(o, 0, d, jexcel.current.options.data.length - 1);\n                    }\n                } else {\n                    if (e.target.parentNode.classList.contains('jexcel_nested')) {\n                        if (e.target.getAttribute('data-column')) {\n                            var column = e.target.getAttribute('data-column').split(',');\n                            var c1 = parseInt(column[0]);\n                            var c2 = parseInt(column[column.length-1]);\n                        } else {\r\n                            var c1 = 0;\r\n                            var c2 = jexcel.current.options.columns.length - 1;\r\n                        }\n                        jexcel.current.updateSelectionFromCoords(c1, 0, c2, jexcel.current.options.data.length - 1);\n                    }\n                }\n            } else {\n                jexcel.current.selectedHeader = false;\n            }\n\n            // Body found\n            if (jexcelTable[1] == 2) {\n                var rowId = e.target.getAttribute('data-y');\n\n                if (e.target.classList.contains('jexcel_row')) {\n                    var info = e.target.getBoundingClientRect();\n                    if (jexcel.current.options.rowResize == true && info.height - e.offsetY < 6) {\n                        // Resize helper\n                        jexcel.current.resizing = {\n                            element: e.target.parentNode,\n                            mousePosition: e.pageY,\n                            row: rowId,\n                            height: info.height,\n                        };\n                        // Border indication\n                        e.target.parentNode.classList.add('resizing');\n                    } else if (jexcel.current.options.rowDrag == true && info.width - e.offsetX < 6) {\n                        if (jexcel.current.isRowMerged(rowId).length) {\n                            console.error('JEXCEL: This row is part of a merged cell');\n                        } else if (jexcel.current.options.search == true && jexcel.current.results) {\n                            console.error('JEXCEL: Please clear your search before perform this action');\n                        } else {\n                            // Reset selection\n                            jexcel.current.resetSelection();\n                            // Drag helper\n                            jexcel.current.dragging = {\n                                element: e.target.parentNode,\n                                row:rowId,\n                                destination:rowId,\n                            };\n                            // Border indication\n                            e.target.parentNode.classList.add('dragging');\n                        }\n                    } else {\n                        if (jexcel.current.selectedRow && (e.shiftKey || e.ctrlKey)) {\n                            var o = jexcel.current.selectedRow;\n                            var d = rowId;\n                        } else {\n                            // Keep track of which header was selected first\n                            jexcel.current.selectedRow = rowId;\n\n                            // Update selection single column\n                            var o = rowId;\n                            var d = rowId;\n                        }\n\n                        // Update selection\n                        jexcel.current.updateSelectionFromCoords(0, o, jexcel.current.options.data[0].length - 1, d);\n                    }\n                } else {\n                    // Jclose\n                    if (e.target.classList.contains('jclose') && e.target.clientWidth - e.offsetX < 50 && e.offsetY < 50) {\n                        jexcel.current.closeEditor(jexcel.current.edition[0], true);\n                    } else {\n                        var getCellCoords = function(element) {\n                            var x = element.getAttribute('data-x');\n                            var y = element.getAttribute('data-y');\n                            if (x && y) {\n                                return [x, y];\n                            } else {\n                                if (element.parentNode) {\n                                    return getCellCoords(element.parentNode);\n                                }\n                            }\n                        };\n\n                        var position = getCellCoords(e.target);\n                        if (position) {\n                            var columnId = position[0];\n                            var rowId = position[1];\n                            // Close edition\n                            if (jexcel.current.edition) {\n                                if (jexcel.current.edition[2] != columnId || jexcel.current.edition[3] != rowId) {\n                                    jexcel.current.closeEditor(jexcel.current.edition[0], true);\n                                }\n                            }\n\n                            if (! jexcel.current.edition) {\n                                // Update cell selection\n                                if (e.shiftKey) {\n                                    jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], columnId, rowId);\n                                } else {\n                                    jexcel.current.updateSelectionFromCoords(columnId, rowId);\n                                }\n                            }\n\n                            // No full row selected\n                            jexcel.current.selectedHeader = null;\n                            jexcel.current.selectedRow = null;\n                        }\n                    }\n                }\n            } else {\n                jexcel.current.selectedRow = false;\n            }\n\n            // Pagination\n            if (e.target.classList.contains('jexcel_page')) {\n                if (e.target.innerText == '<') {\n                    jexcel.current.page(0);\n                } else if (e.target.innerText == '>') {\n                    jexcel.current.page(e.target.getAttribute('title') - 1);\n                } else {\n                    jexcel.current.page(e.target.innerText - 1);\n                }\n            }\n        }\n\n        if (jexcel.current.edition) {\n            jexcel.isMouseAction = false;\n        } else {\n            jexcel.isMouseAction = true;\n        }\n    } else {\n        jexcel.isMouseAction = false;\n    }\n}\n\njexcel.mouseUpControls = function(e) {\n    if (jexcel.current) {\n        // Update cell size\n        if (jexcel.current.resizing) {\n            // Columns to be updated\n            if (jexcel.current.resizing.column) {\n                // Remove Class\n                jexcel.current.headers[jexcel.current.resizing.column].classList.remove('resizing');\n                var newWidth = jexcel.current.colgroup[jexcel.current.resizing.column].getAttribute('width');\n                jexcel.current.setWidth(jexcel.current.resizing.column, newWidth, jexcel.current.resizing.width);\n                // Remove border\n                jexcel.current.headers[jexcel.current.resizing.column].classList.remove('resizing');\n                for (var j = 0; j < jexcel.current.records.length; j++) {\n                    if (jexcel.current.records[j][jexcel.current.resizing.column]){\n                        jexcel.current.records[j][jexcel.current.resizing.column].classList.remove('resizing');\n                    }\n                }\n            } else {\n                // Remove Class\n                jexcel.current.rows[jexcel.current.resizing.row].children[0].classList.remove('resizing');\n                var newHeight = jexcel.current.rows[jexcel.current.resizing.row].getAttribute('height');\n                jexcel.current.setHeight(jexcel.current.resizing.row, newHeight, jexcel.current.resizing.height);\n                // Remove border\n                jexcel.current.resizing.element.classList.remove('resizing');\n            }\n            // Reset resizing helper\n            jexcel.current.resizing = null;\n        } else if (jexcel.current.dragging) {\n            // Reset dragging helper\n            if (jexcel.current.dragging) {\n                if (jexcel.current.dragging.column) {\n                    // Target\n                    var columnId = e.target.getAttribute('data-x');\n                    // Remove move style\n                    jexcel.current.headers[jexcel.current.dragging.column].classList.remove('dragging');\n                    for (var j = 0; j < jexcel.current.rows.length; j++) {\n                        if (jexcel.current.records[j][jexcel.current.dragging.column]) {\n                            jexcel.current.records[j][jexcel.current.dragging.column].classList.remove('dragging');\n                        }\n                    }\n                    for (var i = 0; i < jexcel.current.headers.length; i++) {\n                        jexcel.current.headers[i].classList.remove('dragging-left');\n                        jexcel.current.headers[i].classList.remove('dragging-right');\n                    }\n                    // Update position\n                    if (columnId) {\n                        if (jexcel.current.dragging.column != jexcel.current.dragging.destination) {\n                            jexcel.current.moveColumn(jexcel.current.dragging.column, jexcel.current.dragging.destination);\n                        }\n                    }\n                } else {\n                    var position = Array.prototype.indexOf.call(jexcel.current.dragging.element.parentNode.children, jexcel.current.dragging.element);\n                    if (jexcel.current.dragging.row != position) {\n                        jexcel.current.moveRow(jexcel.current.dragging.row, position, true);\n                    }\n                    jexcel.current.dragging.element.classList.remove('dragging');\n                }\n                jexcel.current.dragging = null;\n            }\n        } else {\n            // Close any corner selection\n            if (jexcel.current.selectedCorner) {\n                jexcel.current.selectedCorner = false;\n\n                // Data to be copied\n                if (jexcel.current.selection.length > 0) {\n                    // Copy data\n                    jexcel.current.copyData(jexcel.current.selection[0], jexcel.current.selection[jexcel.current.selection.length - 1]);\n\n                    // Remove selection\n                    jexcel.current.removeCopySelection();\n                }\n            }\n        }\n    }\n\n    // Clear any time control\n    if (jexcel.timeControl) {\n        clearTimeout(jexcel.timeControl);\n        jexcel.timeControl = null;\n    }\n\n    // Mouse up\n    jexcel.isMouseAction = false;\n}\n\n// Mouse move controls\njexcel.mouseMoveControls = function(e) {\n    e = e || window.event;\n    if (e.buttons) {\n        var mouseButton = e.buttons;\n    } else if (e.button) {\n        var mouseButton = e.button;\n    } else {\n        var mouseButton = e.which;\n    }\n\n    if (! mouseButton) {\n        jexcel.isMouseAction = false;\n    }\n\n    if (jexcel.current) {\n        if (jexcel.isMouseAction == true) {\n            // Resizing is ongoing\n            if (jexcel.current.resizing) {\n                if (jexcel.current.resizing.column) {\n                    var width = e.pageX - jexcel.current.resizing.mousePosition;\n\n                    if (jexcel.current.resizing.width + width > 0) {\n                        var tempWidth = jexcel.current.resizing.width + width;\n                        jexcel.current.colgroup[jexcel.current.resizing.column].setAttribute('width', tempWidth);\n\n                        jexcel.current.updateCornerPosition();\n                    }\n                } else {\n                    var height = e.pageY - jexcel.current.resizing.mousePosition;\n\n                    if (jexcel.current.resizing.height + height > 0) {\n                        var tempHeight = jexcel.current.resizing.height + height;\n                        jexcel.current.rows[jexcel.current.resizing.row].setAttribute('height', tempHeight);\n\n                        jexcel.current.updateCornerPosition();\n                    }\n                }\n            }\n        } else {\n            var x = e.target.getAttribute('data-x');\n            var y = e.target.getAttribute('data-y');\n            var rect = e.target.getBoundingClientRect();\n\n            if (jexcel.current.cursor) {\n                jexcel.current.cursor.style.cursor = '';\n                jexcel.current.cursor = null;\n            }\n\n            if (e.target.parentNode.parentNode && e.target.parentNode.parentNode.className) {\n                if (e.target.parentNode.parentNode.classList.contains('resizable')) {\n                    if (e.target && x && ! y && (rect.width - (e.clientX - rect.left) < 6)) {\n                        jexcel.current.cursor = e.target;\n                        jexcel.current.cursor.style.cursor = 'col-resize';\n                    } else if (e.target && ! x && y && (rect.height - (e.clientY - rect.top) < 6)) {\n                        jexcel.current.cursor = e.target;\n                        jexcel.current.cursor.style.cursor = 'row-resize';\n                    }\n                }\n\n                if (e.target.parentNode.parentNode.classList.contains('draggable')) {\n                    if (e.target && ! x && y && (rect.width - (e.clientX - rect.left) < 6)) {\n                        jexcel.current.cursor = e.target;\n                        jexcel.current.cursor.style.cursor = 'move';\n                    } else if (e.target && x && ! y && (rect.height - (e.clientY - rect.top) < 6)) {\n                        jexcel.current.cursor = e.target;\n                        jexcel.current.cursor.style.cursor = 'move';\n                    }\n                }\n            }\n        }\n    }\n}\n\njexcel.mouseOverControls = function(e) {\n    e = e || window.event;\n    if (e.buttons) {\n        var mouseButton = e.buttons;\n    } else if (e.button) {\n        var mouseButton = e.button;\n    } else {\n        var mouseButton = e.which;\n    }\n\n    if (! mouseButton) {\n        jexcel.isMouseAction = false;\n    }\n\n    if (jexcel.current && jexcel.isMouseAction == true) {\n        // Get elements\n        var jexcelTable = jexcel.getElement(e.target);\n\n        if (jexcelTable[0]) {\n            // Avoid cross reference\n            if (jexcel.current != jexcelTable[0].jexcel) {\n                if (jexcel.current) {\n                    return false;\n                }\n            }\n\n            var columnId = e.target.getAttribute('data-x');\n            var rowId = e.target.getAttribute('data-y');\n\n            if (jexcel.current.dragging) {\n                if (jexcel.current.dragging.column) {\n                    if (columnId) {\n                        if (jexcel.current.isColMerged(columnId).length) {\n                            console.error('JEXCEL: This column is part of a merged cell.');\n                        } else {\n                            for (var i = 0; i < jexcel.current.headers.length; i++) {\n                                jexcel.current.headers[i].classList.remove('dragging-left');\n                                jexcel.current.headers[i].classList.remove('dragging-right');\n                            }\n\n                            if (jexcel.current.dragging.column == columnId) {\n                                jexcel.current.dragging.destination = parseInt(columnId);\n                            } else {\n                                if (e.target.clientWidth / 2 > e.offsetX) {\n                                    if (jexcel.current.dragging.column < columnId) {\n                                        jexcel.current.dragging.destination = parseInt(columnId) - 1;\n                                    } else {\n                                        jexcel.current.dragging.destination = parseInt(columnId);\n                                    }\n                                    jexcel.current.headers[columnId].classList.add('dragging-left');\n                                } else {\n                                    if (jexcel.current.dragging.column < columnId) {\n                                        jexcel.current.dragging.destination = parseInt(columnId);\n                                    } else {\n                                        jexcel.current.dragging.destination = parseInt(columnId) + 1;\n                                    }\n                                    jexcel.current.headers[columnId].classList.add('dragging-right');\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    if (rowId) {\n                        if (jexcel.current.isRowMerged(rowId).length) {\n                            console.error('JEXCEL: This row is part of a merged cell.');\n                        } else {\n                            var target = (e.target.clientHeight / 2 > e.offsetY) ? e.target.parentNode.nextSibling : e.target.parentNode;\n                            e.target.parentNode.parentNode.insertBefore(jexcel.current.dragging.element, target);\n                        }\n                    }\n                }\n            } else if (jexcel.current.resizing) {\n            } else {\n                // Header found\n                if (jexcelTable[1] == 1) {\n                    if (jexcel.current.selectedHeader) {\n                        var columnId = e.target.getAttribute('data-x');\n                        var o = jexcel.current.selectedHeader;\n                        var d = columnId;\n                        // Update selection\n                        jexcel.current.updateSelectionFromCoords(o, 0, d, jexcel.current.options.data.length - 1);\n                    }\n                }\n\n                // Body found\n                if (jexcelTable[1] == 2) {\n                    if (e.target.classList.contains('jexcel_row')) {\n                        if (jexcel.current.selectedRow) {\n                            var o = jexcel.current.selectedRow;\n                            var d = rowId;\n                            // Update selection\n                            jexcel.current.updateSelectionFromCoords(0, o, jexcel.current.options.data[0].length - 1, d);\n                        }\n                    } else {\n                        // Do not select edtion is in progress\n                        if (! jexcel.current.edition) {\n                            if (columnId && rowId) {\n                                if (jexcel.current.selectedCorner) {\n                                    jexcel.current.updateCopySelection(columnId, rowId);\n                                } else {\n                                    if (jexcel.current.selectedCell) {\n                                        jexcel.current.updateSelectionFromCoords(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], columnId, rowId);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // Clear any time control\n    if (jexcel.timeControl) {\n        clearTimeout(jexcel.timeControl);\n        jexcel.timeControl = null;\n    }\n}\n\n/**\n * Double click event handler: controls the double click in the corner, cell edition or column re-ordering.\n */\njexcel.doubleClickControls = function(e) {\n    // Jexcel is selected\n    if (jexcel.current) {\n        // Corner action\n        if (e.target.classList.contains('jexcel_corner')) {\n            // Any selected cells\n            if (jexcel.current.highlighted.length > 0) {\n                // Copy from this\n                var x1 = jexcel.current.highlighted[0].getAttribute('data-x');\n                var y1 = parseInt(jexcel.current.highlighted[jexcel.current.highlighted.length - 1].getAttribute('data-y')) + 1;\n                // Until this\n                var x2 = jexcel.current.highlighted[jexcel.current.highlighted.length - 1].getAttribute('data-x');\n                var y2 = jexcel.current.records.length - 1\n                // Execute copy\n                jexcel.current.copyData(jexcel.current.records[y1][x1], jexcel.current.records[y2][x2]);\n            }\n        } else {\n            // Get table\n            var jexcelTable = jexcel.getElement(e.target);\n\n            // Double click over header\n            if (jexcelTable[1] == 1 && jexcel.current.options.columnSorting == true) {\n                // Check valid column header coords\n                var columnId = e.target.getAttribute('data-x');\n                if (columnId) {\n                    jexcel.current.orderBy(columnId);\n                }\n            }\n\n            // Double click over body\n            if (jexcelTable[1] == 2 && jexcel.current.options.editable == true) {\n                if (! jexcel.current.edition) {\n                    var getCellCoords = function(element) {\n                        if (element.parentNode) {\n                            var x = element.getAttribute('data-x');\n                            var y = element.getAttribute('data-y');\n                            if (x && y) {\n                                return element;\n                            } else {\n                                return getCellCoords(element.parentNode);\n                            }\n                        }\n                    }\n                    var cell = getCellCoords(e.target);\n                    if (cell && cell.classList.contains('highlight')) {\n                        jexcel.current.openEditor(cell);\n                    }\n                }\n            }\n        }\n    }\n}\n\njexcel.copyControls = function(e) {\n    if (jexcel.current && jexcel.copyControls.enabled) {\n        if (! jexcel.current.edition) {\n            jexcel.current.copy(true);\n        }\n    }\n}\n\njexcel.cutControls = function(e) {\n    if (jexcel.current) {\n        if (! jexcel.current.edition) {\n            jexcel.current.copy(true);\n            if (jexcel.current.options.editable == true) {\n                jexcel.current.setValue(jexcel.current.highlighted, '');\n            }\n        }\n    }\n}\n\njexcel.pasteControls = function(e) {\n    if (jexcel.current && jexcel.current.selectedCell) {\n        if (! jexcel.current.edition) {\n            if (jexcel.current.options.editable == true) {\n                if (e && e.clipboardData) {\n                    jexcel.current.paste(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], e.clipboardData.getData('text'));\n                    e.preventDefault();\n                } else if (window.clipboardData) {\n                    jexcel.current.paste(jexcel.current.selectedCell[0], jexcel.current.selectedCell[1], window.clipboardData.getData('text'));\n                }\n            }\n        }\n    }\n}\n\njexcel.contextMenuControls = function(e) {\n    e = e || window.event;\n    if (\"buttons\" in e) {\n        var mouseButton = e.buttons;\n    } else {\n        var mouseButton = e.which || e.button;\n    }\n\n    if (jexcel.current) {\n        if (jexcel.current.edition) {\n            e.preventDefault();\n        } else if (jexcel.current.options.contextMenu) {\n            jexcel.current.contextMenu.contextmenu.close();\n\n            if (jexcel.current) {\n                var x = e.target.getAttribute('data-x');\n                var y = e.target.getAttribute('data-y');\n\n                if (x || y) {\n                    // Table found\n                    var items = jexcel.current.options.contextMenu(jexcel.current, x, y, e);\n                    // The id is depending on header and body\n                    jexcel.current.contextMenu.contextmenu.open(e, items);\n                    // Avoid the real one\n                    e.preventDefault();\n                }\n            }\n        }\n    }\n}\n\njexcel.touchStartControls = function(e) {\n    var jexcelTable = jexcel.getElement(e.target);\n\n    if (jexcelTable[0]) {\n        if (jexcel.current != jexcelTable[0].jexcel) {\n            if (jexcel.current) {\n                jexcel.current.resetSelection();\n            }\n            jexcel.current = jexcelTable[0].jexcel;\n        }\n    } else {\n        if (jexcel.current) {\n            jexcel.current.resetSelection();\n            jexcel.current = null;\n        }\n    }\n\n    if (jexcel.current) {\n        if (! jexcel.current.edition) {\n            var columnId = e.target.getAttribute('data-x');\n            var rowId = e.target.getAttribute('data-y');\n\n            if (columnId && rowId) {\n                jexcel.current.updateSelectionFromCoords(columnId, rowId);\n\n                jexcel.timeControl = setTimeout(function() {\n                    // Keep temporary reference to the element\r\n                    if (jexcel.current.options.columns[columnId].type == 'color') {\r\n                        jexcel.tmpElement = null;\r\n                    } else {\r\n                        jexcel.tmpElement = e.target;\r\n                    }\r\n                    jexcel.current.openEditor(e.target, false, e);\n                }, 500);\n            }\n        }\n    }\n}\n\njexcel.touchEndControls = function(e) {\n    // Clear any time control\n    if (jexcel.timeControl) {\n        clearTimeout(jexcel.timeControl);\n        jexcel.timeControl = null;\n        // Element\r\n        if (jexcel.tmpElement && jexcel.tmpElement.children[0].tagName == 'INPUT') {\r\n            jexcel.tmpElement.children[0].focus();\r\n        }\n        jexcel.tmpElement = null;\n    }\r\n}\r\n\r\n/**\r\n * Jexcel extensions\r\n */\r\n\r\njexcel.createTabs = function(tabs, result) {\r\n    // Create tab container\r\n    tabs.innerHTML = '';\r\n    tabs.classList.add('jexcel_tabs');\r\n    var spreadsheet = []\r\n    var link = [];\r\n    for (var i = 0; i < result.length; i++) {\r\n        // Spreadsheet container\r\n        spreadsheet[i] = document.createElement('div');\r\n        spreadsheet[i].classList.add('jexcel_tab');\r\n        // Tab link\r\n        link[i] = document.createElement('div');\r\n        link[i].classList.add('jexcel_tab_link');\r\n        link[i].setAttribute('data-spreadsheet', i);\r\n        link[i].innerHTML = result[i].sheetName;\r\n        link[i].onclick = function() {\r\n            for (var j = 0; j < spreadsheet.length; j++) {\r\n                spreadsheet[j].style.display = 'none';\r\n                link[j].classList.remove('selected');\r\n            }\r\n            var i = this.getAttribute('data-spreadsheet');\r\n            spreadsheet[i].style.display = 'block';\r\n            link[i].classList.add('selected')\r\n        }\r\n        tabs.appendChild(link[i]);\r\n    }\r\n\r\n    // Append spreadsheet\r\n    for (var i = 0; i < spreadsheet.length - 1; i++) {\r\n        tabs.appendChild(spreadsheet[i]);\r\n        jexcel(spreadsheet[i], result[i]);\r\n    }\r\n\r\n    // First tab\r\n    spreadsheet[0].style.display = 'block';\r\n    link[0].classList.add('selected')\r\n}\r\n\r\njexcel.fromSpreadsheet = function(file, __callback) {\r\n    var convert = function(workbook) {\r\n        var spreadsheets = [];\r\n        workbook.SheetNames.forEach(function(sheetName) {\r\n            var spreadsheet = {};\r\n            spreadsheet.rows = [];\r\n            spreadsheet.columns = [];\r\n            spreadsheet.data = [];\r\n            spreadsheet.style = {};\r\n            spreadsheet.sheetName = sheetName;\r\n\r\n            // Column widths\r\n            var temp = workbook.Sheets[sheetName]['!cols'];\r\n            if (temp && temp.length) {\r\n                for (var i = 0; i < temp.length; i++) {\r\n                    spreadsheet.columns[i] = {};\r\n                    if (temp[i] && temp[i].wpx) {\r\n                        spreadsheet.columns[i].width = temp[i].wpx + 'px';\r\n                    }\r\n                }\r\n            }\r\n            // Rows heights\r\n            var temp = workbook.Sheets[sheetName]['!rows'];\r\n            if (temp && temp.length) {\r\n                for (var i = 0; i < temp.length; i++) {\r\n                    if (temp[i] && temp[i].hpx) {\r\n                        spreadsheet.rows[i] = {};\r\n                        spreadsheet.rows[i].height = temp[i].hpx + 'px';\r\n                    }\r\n                }\r\n            }\r\n            // Merge cells\r\n            var temp = workbook.Sheets[sheetName]['!merges'];\r\n            if (temp && temp.length > 0) {\r\n                spreadsheet.mergeCells = [];\r\n                for (var i = 0; i < temp.length; i++) {\r\n                    var x1 = temp[i].s.c;\r\n                    var y1 = temp[i].s.r;\r\n                    var x2 = temp[i].e.c;\r\n                    var y2 = temp[i].e.r;\r\n                    var key = jexcel.getColumnNameFromId([x1,y1]);\r\n                    spreadsheet.mergeCells[key] = [ x2-x1+1, y2-y1+1 ];\r\n                }\r\n            }\r\n            // Data container\r\n            var max_x = 0;\r\n            var max_y = 0;\r\n            var temp = Object.keys(workbook.Sheets[sheetName]);\r\n            for (var i = 0; i < temp.length; i++) {\r\n                if (temp[i].substr(0,1) != '!') {\r\n                    var cell = workbook.Sheets[sheetName][temp[i]];\r\n                    var info = jexcel.getIdFromColumnName(temp[i], true);\r\n                    if (! spreadsheet.data[info[1]]) {\r\n                        spreadsheet.data[info[1]] = [];\r\n                    }\r\n                    spreadsheet.data[info[1]][info[0]] = cell.f ? '=' + cell.f : cell.w;\r\n                    if (max_x < info[0]) {\r\n                        max_x = info[0];\r\n                    }\r\n                    if (max_y < info[1]) {\r\n                        max_y = info[1];\r\n                    }\r\n                    // Style\r\n                    if (cell.style && Object.keys(cell.style).length > 0) {\r\n                        spreadsheet.style[temp[i]] = cell.style;\r\n                    }\r\n                    if (cell.s && cell.s.fgColor) {\r\n                        if (spreadsheet.style[temp[i]]) {\r\n                            spreadsheet.style[temp[i]] += ';';\r\n                        }\r\n                        spreadsheet.style[temp[i]] += 'background-color:#' + cell.s.fgColor.rgb;\r\n                    }\r\n                }\r\n            }\r\n            var numColumns = spreadsheet.columns;\r\n            for (var j = 0; j <= max_y; j++) {\r\n                for (var i = 0; i <= max_x; i++) {\r\n                    if (! spreadsheet.data[j]) {\r\n                        spreadsheet.data[j] = [];\r\n                    }\r\n                    if (! spreadsheet.data[j][i]) {\r\n                        if (numColumns < i) {\r\n                            spreadsheet.data[j][i] = '';\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            spreadsheets.push(spreadsheet);\r\n        });\r\n\r\n        return spreadsheets;\r\n    }\r\n\r\n    var oReq;\r\n    oReq = new XMLHttpRequest();\r\n    oReq.open(\"GET\", file, true);\r\n\r\n    if(typeof Uint8Array !== 'undefined') {\r\n        oReq.responseType = \"arraybuffer\";\r\n        oReq.onload = function(e) {\r\n            var arraybuffer = oReq.response;\r\n            var data = new Uint8Array(arraybuffer);\r\n            var wb = XLSX.read(data, {type:\"array\", cellFormula:true, cellStyles:true });\r\n            __callback(convert(wb))\r\n        };\r\n    } else {\r\n        oReq.setRequestHeader(\"Accept-Charset\", \"x-user-defined\");  \r\n        oReq.onreadystatechange = function() { if(oReq.readyState == 4 && oReq.status == 200) {\r\n            var ff = convertResponseBodyToText(oReq.responseBody);\r\n            var wb = XLSX.read(ff, {type:\"binary\", cellFormula:true, cellStyles:true });\r\n            __callback(convert(wb))\r\n        }};\r\n    }\r\n\r\n    oReq.send();\r\n}\r\n\r\n/**\r\n * Valid international letter\r\n */\r\n\r\njexcel.validLetter = function (text) {\r\n    var regex = /([\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC-\\u0400-\\u04FF']+)/g;\r\n    return text.match(regex) ? 1 : 0;\r\n}\r\n\r\n/**\r\n * Helper injectArray\r\n */\r\njexcel.injectArray = function(o, idx, arr) {\r\n    return o.slice(0, idx).concat(arr).concat(o.slice(idx));\r\n}\r\n\r\n/**\r\n * Get letter based on a number\r\n * \r\n * @param integer i\r\n * @return string letter\r\n */\r\njexcel.getColumnName = function(i) {\r\n    var letter = '';\r\n    if (i > 701) {\r\n        letter += String.fromCharCode(64 + parseInt(i / 676));\r\n        letter += String.fromCharCode(64 + parseInt((i % 676) / 26));\r\n    } else if (i > 25) {\r\n        letter += String.fromCharCode(64 + parseInt(i / 26));\r\n    }\r\n    letter += String.fromCharCode(65 + (i % 26));\r\n\r\n    return letter;\r\n}\r\n\r\n/**\r\n * Convert excel like column to jexcel id\r\n * \r\n * @param string id\r\n * @return string id\r\n */\r\njexcel.getIdFromColumnName = function (id, arr) {\r\n    // Get the letters\r\n    var t = /^[a-zA-Z]+/.exec(id);\r\n\r\n    if (t) {\r\n        // Base 26 calculation\r\n        var code = 0;\r\n        for (var i = 0; i < t[0].length; i++) {\r\n            code += parseInt(t[0].charCodeAt(i) - 64) * Math.pow(26, (t[0].length - 1 - i));\r\n        }\r\n        code--;\r\n        // Make sure jexcel starts on zero\r\n        if (code < 0) {\r\n            code = 0;\r\n        }\r\n\r\n        // Number\r\n        var number = parseInt(/[0-9]+$/.exec(id));\r\n        if (number > 0) {\r\n            number--;\r\n        }\r\n\r\n        if (arr == true) {\r\n            id = [ code, number ];\r\n        } else {\r\n            id = code + '-' + number;\r\n        }\r\n    }\r\n\r\n    return id;\r\n}\r\n\r\n/**\r\n * Convert jexcel id to excel like column name\r\n * \r\n * @param string id\r\n * @return string id\r\n */\r\njexcel.getColumnNameFromId = function (cellId) {\r\n    if (! Array.isArray(cellId)) {\r\n        cellId = cellId.split('-');\r\n    }\r\n\r\n    return jexcel.getColumnName(parseInt(cellId[0])) + (parseInt(cellId[1]) + 1);\r\n}\r\n\r\n/**\r\n * Verify element inside jexcel table\r\n * \r\n * @param string id\r\n * @return string id\r\n */\r\njexcel.getElement = function(element) {\r\n    var jexcelSection = 0;\r\n    var jexcelElement = 0;\r\n\r\n    function path (element) {\r\n        if (element.className) {\r\n            if (element.classList.contains('jexcel_container')) {\r\n                jexcelElement = element;\r\n            }\r\n        }\r\n\r\n        if (element.tagName == 'THEAD') {\r\n            jexcelSection = 1;\r\n        } else if (element.tagName == 'TBODY') {\r\n            jexcelSection = 2;\r\n        }\r\n\r\n        if (element.parentNode) {\r\n            path(element.parentNode);\r\n        }\r\n    }\r\n\r\n    path(element);\r\n\r\n    return [ jexcelElement, jexcelSection ];\r\n}\r\n\r\njexcel.doubleDigitFormat = function(v) {\r\n    v = ''+v;\r\n    if (v.length == 1) {\r\n        v = '0'+v;\r\n    }\r\n    return v;\r\n}\r\n\r\n/**\r\n * Jquery Support\r\n */\r\nif (typeof(jQuery) != 'undefined') {\r\n    (function($){\r\n        $.fn.jexcel = function(method) {\r\n            var spreadsheetContainer = $(this).get(0);\r\n            if (! spreadsheetContainer.jexcel) {\r\n                return jexcel($(this).get(0), arguments[0]);\r\n            } else {\r\n                return spreadsheetContainer.jexcel[method].apply(this, Array.prototype.slice.call( arguments, 1 ));\r\n            }\r\n        };\r\n\r\n    })(jQuery);\r\n}\r\n\r\n\r\n// Based on sutoiku work (https://github.com/sutoiku)\r\n\r\nvar error = (function() {\r\n    var exports = {};\r\n\r\n    exports.nil = new Error('#NULL!');\r\n    exports.div0 = new Error('#DIV/0!');\r\n    exports.value = new Error('#VALUE!');\r\n    exports.ref = new Error('#REF!');\r\n    exports.name = new Error('#NAME?');\r\n    exports.num = new Error('#NUM!');\r\n    exports.na = new Error('#N/A');\r\n    exports.error = new Error('#ERROR!');\r\n    exports.data = new Error('#GETTING_DATA');\r\n\r\n    return exports;\r\n})();\r\n\r\nvar utils = (function() {\r\n    var exports = {};\r\n\r\n    exports.flattenShallow = function(array) {\r\n        if (!array || !array.reduce) {\r\n            return array;\r\n        }\r\n\r\n        return array.reduce(function(a, b) {\r\n            var aIsArray = Array.isArray(a);\r\n            var bIsArray = Array.isArray(b);\r\n\r\n            if (aIsArray && bIsArray) {\r\n                return a.concat(b);\r\n            }\r\n            if (aIsArray) {\r\n                a.push(b);\r\n\r\n                return a;\r\n            }\r\n            if (bIsArray) {\r\n                return [ a ].concat(b);\r\n            }\r\n\r\n            return [ a, b ];\r\n        });\r\n    };\r\n\r\n    exports.isFlat = function(array) {\r\n        if (!array) {\r\n            return false;\r\n        }\r\n\r\n        for (var i = 0; i < array.length; ++i) {\r\n            if (Array.isArray(array[i])) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        return true;\r\n    };\r\n\r\n    exports.flatten = function() {\r\n        var result = exports.argsToArray.apply(null, arguments);\r\n\r\n        while (!exports.isFlat(result)) {\r\n            result = exports.flattenShallow(result);\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    exports.argsToArray = function(args) {\r\n        var result = [];\r\n\r\n        exports.arrayEach(args, function(value) {\r\n            result.push(value);\r\n        });\r\n\r\n        return result;\r\n    };\r\n\r\n    exports.numbers = function() {\r\n        var possibleNumbers = this.flatten.apply(null, arguments);\r\n        return possibleNumbers.filter(function(el) {\r\n            return typeof el === 'number';\r\n        });\r\n    };\r\n\r\n    exports.cleanFloat = function(number) {\r\n        var power = 1e14;\r\n        return Math.round(number * power) / power;\r\n    };\r\n\r\n    exports.parseBool = function(bool) {\r\n        if (typeof bool === 'boolean') {\r\n            return bool;\r\n        }\r\n\r\n        if (bool instanceof Error) {\r\n            return bool;\r\n        }\r\n\r\n        if (typeof bool === 'number') {\r\n            return bool !== 0;\r\n        }\r\n\r\n        if (typeof bool === 'string') {\r\n            var up = bool.toUpperCase();\r\n            if (up === 'TRUE') {\r\n                return true;\r\n            }\r\n\r\n            if (up === 'FALSE') {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if (bool instanceof Date && !isNaN(bool)) {\r\n            return true;\r\n        }\r\n\r\n        return error.value;\r\n    };\r\n\r\n    exports.parseNumber = function(string) {\r\n        if (string === undefined || string === '') {\r\n            return error.value;\r\n        }\r\n        if (!isNaN(string)) {\r\n            return parseFloat(string);\r\n        }\r\n\r\n        return error.value;\r\n    };\r\n\r\n    exports.parseNumberArray = function(arr) {\r\n        var len;\r\n\r\n        if (!arr || (len = arr.length) === 0) {\r\n            return error.value;\r\n        }\r\n\r\n        var parsed;\r\n\r\n        while (len--) {\r\n            parsed = exports.parseNumber(arr[len]);\r\n            if (parsed === error.value) {\r\n                return parsed;\r\n            }\r\n            arr[len] = parsed;\r\n        }\r\n\r\n        return arr;\r\n    };\r\n\r\n    exports.parseMatrix = function(matrix) {\r\n        var n;\r\n\r\n        if (!matrix || (n = matrix.length) === 0) {\r\n            return error.value;\r\n        }\r\n        var pnarr;\r\n\r\n        for (var i = 0; i < matrix.length; i++) {\r\n            pnarr = exports.parseNumberArray(matrix[i]);\r\n            matrix[i] = pnarr;\r\n\r\n            if (pnarr instanceof Error) {\r\n                return pnarr;\r\n            }\r\n        }\r\n\r\n        return matrix;\r\n    };\r\n\r\n    var d1900 = new Date(Date.UTC(1900, 0, 1));\r\n    exports.parseDate = function(date) {\r\n        if (!isNaN(date)) {\r\n            if (date instanceof Date) {\r\n                return new Date(date);\r\n            }\r\n            var d = parseInt(date, 10);\r\n            if (d < 0) {\r\n                return error.num;\r\n            }\r\n            if (d <= 60) {\r\n                return new Date(d1900.getTime() + (d - 1) * 86400000);\r\n            }\r\n            return new Date(d1900.getTime() + (d - 2) * 86400000);\r\n        }\r\n        if (typeof date === 'string') {\r\n            date = new Date(date);\r\n            if (!isNaN(date)) {\r\n                return date;\r\n            }\r\n        }\r\n        return error.value;\r\n    };\r\n\r\n    exports.parseDateArray = function(arr) {\r\n        var len = arr.length;\r\n        var parsed;\r\n        while (len--) {\r\n            parsed = this.parseDate(arr[len]);\r\n            if (parsed === error.value) {\r\n                return parsed;\r\n            }\r\n            arr[len] = parsed;\r\n        }\r\n        return arr;\r\n    };\r\n\r\n    exports.anyIsError = function() {\r\n        var n = arguments.length;\r\n        while (n--) {\r\n            if (arguments[n] instanceof Error) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    exports.arrayValuesToNumbers = function(arr) {\r\n        var n = arr.length;\r\n        var el;\r\n        while (n--) {\r\n            el = arr[n];\r\n            if (typeof el === 'number') {\r\n                continue;\r\n            }\r\n            if (el === true) {\r\n                arr[n] = 1;\r\n                continue;\r\n            }\r\n            if (el === false) {\r\n                arr[n] = 0;\r\n                continue;\r\n            }\r\n            if (typeof el === 'string') {\r\n                var number = this.parseNumber(el);\r\n                if (number instanceof Error) {\r\n                    arr[n] = 0;\r\n                } else {\r\n                    arr[n] = number;\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    };\r\n\r\n    exports.rest = function(array, idx) {\r\n        idx = idx || 1;\r\n        if (!array || typeof array.slice !== 'function') {\r\n            return array;\r\n        }\r\n        return array.slice(idx);\r\n    };\r\n\r\n    exports.initial = function(array, idx) {\r\n        idx = idx || 1;\r\n        if (!array || typeof array.slice !== 'function') {\r\n            return array;\r\n        }\r\n        return array.slice(0, array.length - idx);\r\n    };\r\n\r\n    exports.arrayEach = function(array, iteratee) {\r\n        var index = -1, length = array.length;\r\n\r\n        while (++index < length) {\r\n            if (iteratee(array[index], index, array) === false) {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return array;\r\n    };\r\n\r\n    exports.transpose = function(matrix) {\r\n        if (!matrix) {\r\n            return error.value;\r\n        }\r\n\r\n        return matrix[0].map(function(col, i) {\r\n            return matrix.map(function(row) {\r\n                return row[i];\r\n            });\r\n        });\r\n    };\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods = {};\r\n\r\njexcel.methods.datetime = (function() {\r\n    var exports = {};\r\n\r\n    var d1900 = new Date(1900, 0, 1);\r\n    var WEEK_STARTS = [\r\n        undefined,\r\n        0,\r\n        1,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        undefined,\r\n        1,\r\n        2,\r\n        3,\r\n        4,\r\n        5,\r\n        6,\r\n        0\r\n    ];\r\n    var WEEK_TYPES = [\r\n        [],\r\n        [1, 2, 3, 4, 5, 6, 7],\r\n        [7, 1, 2, 3, 4, 5, 6],\r\n        [6, 0, 1, 2, 3, 4, 5],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [7, 1, 2, 3, 4, 5, 6],\r\n        [6, 7, 1, 2, 3, 4, 5],\r\n        [5, 6, 7, 1, 2, 3, 4],\r\n        [4, 5, 6, 7, 1, 2, 3],\r\n        [3, 4, 5, 6, 7, 1, 2],\r\n        [2, 3, 4, 5, 6, 7, 1],\r\n        [1, 2, 3, 4, 5, 6, 7]\r\n    ];\r\n    var WEEKEND_TYPES = [\r\n        [],\r\n        [6, 0],\r\n        [0, 1],\r\n        [1, 2],\r\n        [2, 3],\r\n        [3, 4],\r\n        [4, 5],\r\n        [5, 6],\r\n        undefined,\r\n        undefined,\r\n        undefined, [0, 0],\r\n        [1, 1],\r\n        [2, 2],\r\n        [3, 3],\r\n        [4, 4],\r\n        [5, 5],\r\n        [6, 6]\r\n    ];\r\n\r\n    exports.DATE = function(year, month, day) {\r\n        year = utils.parseNumber(year);\r\n        month = utils.parseNumber(month);\r\n        day = utils.parseNumber(day);\r\n        if (utils.anyIsError(year, month, day)) {\r\n            return error.value;\r\n        }\r\n        if (year < 0 || month < 0 || day < 0) {\r\n            return error.num;\r\n        }\r\n        var date = new Date(year, month - 1, day);\r\n        return date;\r\n    };\r\n\r\n    exports.DATEVALUE = function(date_text) {\r\n        if (typeof date_text !== 'string') {\r\n            return error.value;\r\n        }\r\n        var date = Date.parse(date_text);\r\n        if (isNaN(date)) {\r\n            return error.value;\r\n        }\r\n        if (date <= -2203891200000) {\r\n            return (date - d1900) / 86400000 + 1;\r\n        }\r\n        return (date - d1900) / 86400000 + 2;\r\n    };\r\n\r\n    exports.DAY = function(serial_number) {\r\n        var date = utils.parseDate(serial_number);\r\n        if (date instanceof Error) {\r\n            return date;\r\n        }\r\n        return date.getDate();\r\n    };\r\n\r\n    exports.DAYS = function(end_date, start_date) {\r\n        end_date = utils.parseDate(end_date);\r\n        start_date = utils.parseDate(start_date);\r\n        if (end_date instanceof Error) {\r\n            return end_date;\r\n        }\r\n        if (start_date instanceof Error) {\r\n            return start_date;\r\n        }\r\n        return serial(end_date) - serial(start_date);\r\n    };\r\n\r\n    exports.DAYS360 = function(start_date, end_date, method) {\r\n    };\r\n\r\n    exports.EDATE = function(start_date, months) {\r\n        start_date = utils.parseDate(start_date);\r\n        if (start_date instanceof Error) {\r\n            return start_date;\r\n        }\r\n        if (isNaN(months)) {\r\n            return error.value;\r\n        }\r\n        months = parseInt(months, 10);\r\n        start_date.setMonth(start_date.getMonth() + months);\r\n        return serial(start_date);\r\n    };\r\n\r\n    exports.EOMONTH = function(start_date, months) {\r\n        start_date = utils.parseDate(start_date);\r\n        if (start_date instanceof Error) {\r\n            return start_date;\r\n        }\r\n        if (isNaN(months)) {\r\n            return error.value;\r\n        }\r\n        months = parseInt(months, 10);\r\n        return serial(new Date(start_date.getFullYear(), start_date.getMonth() + months + 1, 0));\r\n    };\r\n\r\n    exports.HOUR = function(serial_number) {\r\n        serial_number = utils.parseDate(serial_number);\r\n        if (serial_number instanceof Error) {\r\n            return serial_number;\r\n        }\r\n        return serial_number.getHours();\r\n    };\r\n\r\n    exports.INTERVAL = function(second) {\r\n        if (typeof second !== 'number' && typeof second !== 'string') {\r\n            return error.value;\r\n        } else {\r\n            second = parseInt(second, 10);\r\n        }\r\n\r\n        var year  = Math.floor(second/946080000);\r\n        second    = second%946080000;\r\n        var month = Math.floor(second/2592000);\r\n        second    = second%2592000;\r\n        var day   = Math.floor(second/86400);\r\n        second    = second%86400;\r\n\r\n        var hour  = Math.floor(second/3600);\r\n        second    = second%3600;\r\n        var min   = Math.floor(second/60);\r\n        second    = second%60;\r\n        var sec   = second;\r\n\r\n        year  = (year  > 0) ? year  + 'Y' : '';\r\n        month = (month > 0) ? month + 'M' : '';\r\n        day   = (day   > 0) ? day   + 'D' : '';\r\n        hour  = (hour  > 0) ? hour  + 'H' : '';\r\n        min   = (min   > 0) ? min   + 'M' : '';\r\n        sec   = (sec   > 0) ? sec   + 'S' : '';\r\n\r\n        return 'P' + year + month + day + 'T' + hour + min + sec;\r\n    };\r\n\r\n    exports.ISOWEEKNUM = function(date) {\r\n        date = utils.parseDate(date);\r\n        if (date instanceof Error) {\r\n            return date;\r\n        }\r\n\r\n        date.setHours(0, 0, 0);\r\n        date.setDate(date.getDate() + 4 - (date.getDay() || 7));\r\n        var yearStart = new Date(date.getFullYear(), 0, 1);\r\n        return Math.ceil((((date - yearStart) / 86400000) + 1) / 7);\r\n    };\r\n\r\n    exports.MINUTE = function(serial_number) {\r\n        serial_number = utils.parseDate(serial_number);\r\n        if (serial_number instanceof Error) {\r\n            return serial_number;\r\n        }\r\n        return serial_number.getMinutes();\r\n    };\r\n\r\n    exports.MONTH = function(serial_number) {\r\n        serial_number = utils.parseDate(serial_number);\r\n        if (serial_number instanceof Error) {\r\n            return serial_number;\r\n        }\r\n        return serial_number.getMonth() + 1;\r\n    };\r\n\r\n    exports.NETWORKDAYS = function(start_date, end_date, holidays) {\r\n    };\r\n\r\n    exports.NETWORKDAYS.INTL = function(start_date, end_date, weekend, holidays) {\r\n    };\r\n\r\n    exports.NOW = function() {\r\n        return new Date();\r\n    };\r\n\r\n    exports.SECOND = function(serial_number) {\r\n        serial_number = utils.parseDate(serial_number);\r\n        if (serial_number instanceof Error) {\r\n            return serial_number;\r\n        }\r\n        return serial_number.getSeconds();\r\n    };\r\n\r\n    exports.TIME = function(hour, minute, second) {\r\n        hour = utils.parseNumber(hour);\r\n        minute = utils.parseNumber(minute);\r\n        second = utils.parseNumber(second);\r\n        if (utils.anyIsError(hour, minute, second)) {\r\n            return error.value;\r\n        }\r\n        if (hour < 0 || minute < 0 || second < 0) {\r\n            return error.num;\r\n        }\r\n        return (3600 * hour + 60 * minute + second) / 86400;\r\n    };\r\n\r\n    exports.TIMEVALUE = function(time_text) {\r\n        time_text = utils.parseDate(time_text);\r\n        if (time_text instanceof Error) {\r\n            return time_text;\r\n        }\r\n        return (3600 * time_text.getHours() + 60 * time_text.getMinutes() + time_text.getSeconds()) / 86400;\r\n    };\r\n\r\n    exports.TODAY = function() {\r\n        return new Date();\r\n    };\r\n\r\n    exports.WEEKDAY = function(serial_number, return_type) {\r\n        serial_number = utils.parseDate(serial_number);\r\n        if (serial_number instanceof Error) {\r\n            return serial_number;\r\n        }\r\n        if (return_type === undefined) {\r\n            return_type = 1;\r\n        }\r\n        var day = serial_number.getDay();\r\n        return WEEK_TYPES[return_type][day];\r\n    };\r\n\r\n    exports.WEEKNUM = function(serial_number, return_type) {\r\n    };\r\n\r\n    exports.WORKDAY = function(start_date, days, holidays) {\r\n    };\r\n\r\n    exports.WORKDAY.INTL = function(start_date, days, weekend, holidays) {\r\n    };\r\n\r\n    exports.YEAR = function(serial_number) {\r\n        serial_number = utils.parseDate(serial_number);\r\n        if (serial_number instanceof Error) {\r\n            return serial_number;\r\n        }\r\n        return serial_number.getFullYear();\r\n    };\r\n\r\n    function isLeapYear(year) {\r\n        return new Date(year, 1, 29).getMonth() === 1;\r\n    }\r\n\r\n    exports.YEARFRAC = function(start_date, end_date, basis) {\r\n    };\r\n\r\n    function serial(date) {\r\n        var addOn = (date > -2203891200000)?2:1;\r\n        return (date - d1900) / 86400000 + addOn;\r\n    }\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.database = (function() {\r\n    var exports = {};\r\n\r\n    function compact(array) {\r\n        if (!array) {\r\n            return array;\r\n        }\r\n        var result = [];\r\n        for (var i = 0; i < array.length; ++i) {\r\n            if (!array[i]) {\r\n                continue;\r\n            }\r\n            result.push(array[i]);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    exports.FINDFIELD = function(database, title) {\r\n        var index = null;\r\n        for (var i = 0; i < database.length; i++) {\r\n            if (database[i][0] === title) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Return error if the input field title is incorrect\r\n        if (index == null) {\r\n            return error.value;\r\n        }\r\n        return index;\r\n    };\r\n\r\n    function findResultIndex(database, criterias) {\r\n        var matches = {};\r\n        for (var i = 1; i < database[0].length; ++i) {\r\n            matches[i] = true;\r\n        }\r\n        var maxCriteriaLength = criterias[0].length;\r\n        for (i = 1; i < criterias.length; ++i) {\r\n            if (criterias[i].length > maxCriteriaLength) {\r\n                maxCriteriaLength = criterias[i].length;\r\n            }\r\n        }\r\n\r\n        for (var k = 1; k < database.length; ++k) {\r\n            for (var l = 1; l < database[k].length; ++l) {\r\n                var currentCriteriaResult = false;\r\n                var hasMatchingCriteria = false;\r\n                for (var j = 0; j < criterias.length; ++j) {\r\n                    var criteria = criterias[j];\r\n                    if (criteria.length < maxCriteriaLength) {\r\n                        continue;\r\n                    }\r\n\r\n                    var criteriaField = criteria[0];\r\n                    if (database[k][0] !== criteriaField) {\r\n                        continue;\r\n                    }\r\n                    hasMatchingCriteria = true;\r\n                    for (var p = 1; p < criteria.length; ++p) {\r\n                        currentCriteriaResult = currentCriteriaResult\r\n                                || eval(database[k][l] + criteria[p]); // jshint\r\n                                                                        // ignore:line\r\n                    }\r\n                }\r\n                if (hasMatchingCriteria) {\r\n                    matches[l] = matches[l] && currentCriteriaResult;\r\n                }\r\n            }\r\n        }\r\n\r\n        var result = [];\r\n        for (var n = 0; n < database[0].length; ++n) {\r\n            if (matches[n]) {\r\n                result.push(n - 1);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    // Database functions\r\n    exports.DAVERAGE = function(database, field, criteria) {\r\n        // Return error if field is not a number and not a string\r\n        if (isNaN(field) && (typeof field !== \"string\")) {\r\n            return error.value;\r\n        }\r\n        var resultIndexes = findResultIndex(database, criteria);\r\n        var targetFields = [];\r\n        if (typeof field === \"string\") {\r\n            var index = exports.FINDFIELD(database, field);\r\n            targetFields = utils.rest(database[index]);\r\n        } else {\r\n            targetFields = utils.rest(database[field]);\r\n        }\r\n        var sum = 0;\r\n        for (var i = 0; i < resultIndexes.length; i++) {\r\n            sum += targetFields[resultIndexes[i]];\r\n        }\r\n        return resultIndexes.length === 0 ? error.div0 : sum / resultIndexes.length;\r\n    };\r\n\r\n    exports.DCOUNT = function(database, field, criteria) {\r\n    };\r\n\r\n    exports.DCOUNTA = function(database, field, criteria) {\r\n    };\r\n\r\n    exports.DGET = function(database, field, criteria) {\r\n        // Return error if field is not a number and not a string\r\n        if (isNaN(field) && (typeof field !== \"string\")) {\r\n            return error.value;\r\n        }\r\n        var resultIndexes = findResultIndex(database, criteria);\r\n        var targetFields = [];\r\n        if (typeof field === \"string\") {\r\n            var index = exports.FINDFIELD(database, field);\r\n            targetFields = utils.rest(database[index]);\r\n        } else {\r\n            targetFields = utils.rest(database[field]);\r\n        }\r\n        // Return error if no record meets the criteria\r\n        if (resultIndexes.length === 0) {\r\n            return error.value;\r\n        }\r\n        // Returns the #NUM! error value because more than one record meets the\r\n        // criteria\r\n        if (resultIndexes.length > 1) {\r\n            return error.num;\r\n        }\r\n\r\n        return targetFields[resultIndexes[0]];\r\n    };\r\n\r\n    exports.DMAX = function(database, field, criteria) {\r\n        // Return error if field is not a number and not a string\r\n        if (isNaN(field) && (typeof field !== \"string\")) {\r\n            return error.value;\r\n        }\r\n        var resultIndexes = findResultIndex(database, criteria);\r\n        var targetFields = [];\r\n        if (typeof field === \"string\") {\r\n            var index = exports.FINDFIELD(database, field);\r\n            targetFields = utils.rest(database[index]);\r\n        } else {\r\n            targetFields = utils.rest(database[field]);\r\n        }\r\n        var maxValue = targetFields[resultIndexes[0]];\r\n        for (var i = 1; i < resultIndexes.length; i++) {\r\n            if (maxValue < targetFields[resultIndexes[i]]) {\r\n                maxValue = targetFields[resultIndexes[i]];\r\n            }\r\n        }\r\n        return maxValue;\r\n    };\r\n\r\n    exports.DMIN = function(database, field, criteria) {\r\n        // Return error if field is not a number and not a string\r\n        if (isNaN(field) && (typeof field !== \"string\")) {\r\n            return error.value;\r\n        }\r\n        var resultIndexes = findResultIndex(database, criteria);\r\n        var targetFields = [];\r\n        if (typeof field === \"string\") {\r\n            var index = exports.FINDFIELD(database, field);\r\n            targetFields = utils.rest(database[index]);\r\n        } else {\r\n            targetFields = utils.rest(database[field]);\r\n        }\r\n        var minValue = targetFields[resultIndexes[0]];\r\n        for (var i = 1; i < resultIndexes.length; i++) {\r\n            if (minValue > targetFields[resultIndexes[i]]) {\r\n                minValue = targetFields[resultIndexes[i]];\r\n            }\r\n        }\r\n        return minValue;\r\n    };\r\n\r\n    exports.DPRODUCT = function(database, field, criteria) {\r\n        // Return error if field is not a number and not a string\r\n        if (isNaN(field) && (typeof field !== \"string\")) {\r\n            return error.value;\r\n        }\r\n        var resultIndexes = findResultIndex(database, criteria);\r\n        var targetFields = [];\r\n        if (typeof field === \"string\") {\r\n            var index = exports.FINDFIELD(database, field);\r\n            targetFields = utils.rest(database[index]);\r\n        } else {\r\n            targetFields = utils.rest(database[field]);\r\n        }\r\n        var targetValues = [];\r\n        for (var i = 0; i < resultIndexes.length; i++) {\r\n            targetValues[i] = targetFields[resultIndexes[i]];\r\n        }\r\n        targetValues = compact(targetValues);\r\n        var result = 1;\r\n        for (i = 0; i < targetValues.length; i++) {\r\n            result *= targetValues[i];\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.DSTDEV = function(database, field, criteria) {\r\n    };\r\n\r\n    exports.DSTDEVP = function(database, field, criteria) {\r\n    };\r\n\r\n    exports.DSUM = function(database, field, criteria) {\r\n    };\r\n\r\n    exports.DVAR = function(database, field, criteria) {\r\n    };\r\n\r\n    exports.DVARP = function(database, field, criteria) {\r\n    };\r\n\r\n    exports.MATCH = function(lookupValue, lookupArray, matchType) {\r\n        if (!lookupValue && !lookupArray) {\r\n            return error.na;\r\n        }\r\n        if (arguments.length === 2) {\r\n            matchType = 1;\r\n        }\r\n        if (!(lookupArray instanceof Array)) {\r\n            return error.na;\r\n        }\r\n        if (matchType !== -1 && matchType !== 0 && matchType !== 1) {\r\n            return error.na;\r\n        }\r\n\r\n        var index;\r\n        var indexValue;\r\n\r\n        for (var idx = 0; idx < lookupArray.length; idx++) {\r\n            if (matchType === 1) {\r\n                if (lookupArray[idx] === lookupValue) {\r\n                    return idx + 1;\r\n                } else if (lookupArray[idx] < lookupValue) {\r\n                    if (!indexValue) {\r\n                        index = idx + 1;\r\n                        indexValue = lookupArray[idx];\r\n                    } else if (lookupArray[idx] > indexValue) {\r\n                        index = idx + 1;\r\n                        indexValue = lookupArray[idx];\r\n                    }\r\n                }\r\n            } else if (matchType === 0) {\r\n                if (typeof lookupValue === 'string') {\r\n                    lookupValue = lookupValue.replace(/\\?/g, '.');\r\n                    if (lookupArray[idx].toLowerCase().match(lookupValue.toLowerCase())) {\r\n                        return idx + 1;\r\n                    }\r\n                } else {\r\n                    if (lookupArray[idx] === lookupValue) {\r\n                        return idx + 1;\r\n                    }\r\n                }\r\n            } else if (matchType === -1) {\r\n                if (lookupArray[idx] === lookupValue) {\r\n                    return idx + 1;\r\n                } else if (lookupArray[idx] > lookupValue) {\r\n                    if (!indexValue) {\r\n                        index = idx + 1;\r\n                        indexValue = lookupArray[idx];\r\n                    } else if (lookupArray[idx] < indexValue) {\r\n                        index = idx + 1;\r\n                        indexValue = lookupArray[idx];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return index ? index : error.na;\r\n    };\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.engineering = (function() {\r\n    var exports = {};\r\n\r\n    function isValidBinaryNumber(number) {\r\n        return (/^[01]{1,10}$/).test(number);\r\n    }\r\n\r\n    exports.BESSELI = function(x, n) {\r\n    };\r\n\r\n    exports.BESSELJ = function(x, n) {\r\n    };\r\n\r\n    exports.BESSELK = function(x, n) {\r\n    };\r\n\r\n    exports.BESSELY = function(x, n) {\r\n    };\r\n\r\n    exports.BIN2DEC = function(number) {\r\n        // Return error if number is not binary or contains more than 10\r\n        // characters (10 digits)\r\n        if (!isValidBinaryNumber(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Convert binary number to decimal\r\n        var result = parseInt(number, 2);\r\n\r\n        // Handle negative numbers\r\n        var stringified = number.toString();\r\n        if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\r\n            return parseInt(stringified.substring(1), 2) - 512;\r\n        } else {\r\n            return result;\r\n        }\r\n    };\r\n\r\n    exports.BIN2HEX = function(number, places) {\r\n        // Return error if number is not binary or contains more than 10\r\n        // characters (10 digits)\r\n        if (!isValidBinaryNumber(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character hexadecimal number if number\r\n        // is negative\r\n        var stringified = number.toString();\r\n        if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\r\n            return (1099511627264 + parseInt(stringified.substring(1), 2)).toString(16);\r\n        }\r\n\r\n        // Convert binary number to hexadecimal\r\n        var result = parseInt(number, 2).toString(16);\r\n\r\n        // Return hexadecimal number using the minimum number of characters\r\n        // necessary if places is undefined\r\n        if (places === undefined) {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.BIN2OCT = function(number, places) {\r\n        // Return error if number is not binary or contains more than 10\r\n        // characters (10 digits)\r\n        if (!isValidBinaryNumber(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character octal number if number is\r\n        // negative\r\n        var stringified = number.toString();\r\n        if (stringified.length === 10 && stringified.substring(0, 1) === '1') {\r\n            return (1073741312 + parseInt(stringified.substring(1), 2)).toString(8);\r\n        }\r\n\r\n        // Convert binary number to octal\r\n        var result = parseInt(number, 2).toString(8);\r\n\r\n        // Return octal number using the minimum number of characters necessary\r\n        // if places is undefined\r\n        if (places === undefined) {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.BITAND = function(number1, number2) {\r\n        // Return error if either number is a non-numeric value\r\n        number1 = utils.parseNumber(number1);\r\n        number2 = utils.parseNumber(number2);\r\n        if (utils.anyIsError(number1, number2)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if either number is less than 0\r\n        if (number1 < 0 || number2 < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if either number is a non-integer\r\n        if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if either number is greater than (2^48)-1\r\n        if (number1 > 281474976710655 || number2 > 281474976710655) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return bitwise AND of two numbers\r\n        return number1 & number2;\r\n    };\r\n\r\n    exports.BITLSHIFT = function(number, shift) {\r\n        number = utils.parseNumber(number);\r\n        shift = utils.parseNumber(shift);\r\n        if (utils.anyIsError(number, shift)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if number is less than 0\r\n        if (number < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if number is a non-integer\r\n        if (Math.floor(number) !== number) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if number is greater than (2^48)-1\r\n        if (number > 281474976710655) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if the absolute value of shift is greater than 53\r\n        if (Math.abs(shift) > 53) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return number shifted by shift bits to the left or to the right if\r\n        // shift is negative\r\n        return (shift >= 0) ? number << shift : number >> -shift;\r\n    };\r\n\r\n    exports.BITOR = function(number1, number2) {\r\n        number1 = utils.parseNumber(number1);\r\n        number2 = utils.parseNumber(number2);\r\n        if (utils.anyIsError(number1, number2)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if either number is less than 0\r\n        if (number1 < 0 || number2 < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if either number is a non-integer\r\n        if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if either number is greater than (2^48)-1\r\n        if (number1 > 281474976710655 || number2 > 281474976710655) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return bitwise OR of two numbers\r\n        return number1 | number2;\r\n    };\r\n\r\n    exports.BITRSHIFT = function(number, shift) {\r\n        number = utils.parseNumber(number);\r\n        shift = utils.parseNumber(shift);\r\n        if (utils.anyIsError(number, shift)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if number is less than 0\r\n        if (number < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if number is a non-integer\r\n        if (Math.floor(number) !== number) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if number is greater than (2^48)-1\r\n        if (number > 281474976710655) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if the absolute value of shift is greater than 53\r\n        if (Math.abs(shift) > 53) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return number shifted by shift bits to the right or to the left if\r\n        // shift is negative\r\n        return (shift >= 0) ? number >> shift : number << -shift;\r\n    };\r\n\r\n    exports.BITXOR = function(number1, number2) {\r\n        number1 = utils.parseNumber(number1);\r\n        number2 = utils.parseNumber(number2);\r\n        if (utils.anyIsError(number1, number2)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if either number is less than 0\r\n        if (number1 < 0 || number2 < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if either number is a non-integer\r\n        if (Math.floor(number1) !== number1 || Math.floor(number2) !== number2) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if either number is greater than (2^48)-1\r\n        if (number1 > 281474976710655 || number2 > 281474976710655) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return bitwise XOR of two numbers\r\n        return number1 ^ number2;\r\n    };\r\n\r\n    exports.COMPLEX = function(real, imaginary, suffix) {\r\n        real = utils.parseNumber(real);\r\n        imaginary = utils.parseNumber(imaginary);\r\n        if (utils.anyIsError(real, imaginary)) {\r\n            return real;\r\n        }\r\n\r\n        // Set suffix\r\n        suffix = (suffix === undefined) ? 'i' : suffix;\r\n\r\n        // Return error if suffix is neither \"i\" nor \"j\"\r\n        if (suffix !== 'i' && suffix !== 'j') {\r\n            return error.value;\r\n        }\r\n\r\n        // Return complex number\r\n        if (real === 0 && imaginary === 0) {\r\n            return 0;\r\n        } else if (real === 0) {\r\n            return (imaginary === 1) ? suffix : imaginary.toString() + suffix;\r\n        } else if (imaginary === 0) {\r\n            return real.toString();\r\n        } else {\r\n            var sign = (imaginary > 0) ? '+' : '';\r\n            return real.toString() + sign + ((imaginary === 1) ? suffix : imaginary.toString() + suffix);\r\n        }\r\n    };\r\n\r\n    exports.CONVERT = function(number, from_unit, to_unit) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n\r\n        // List of units supported by CONVERT and units defined by the\r\n        // International System of Units\r\n        // [Name, Symbol, Alternate symbols, Quantity, ISU, CONVERT, Conversion\r\n        // ratio]\r\n        var units = [\r\n            [\"a.u. of action\", \"?\", null, \"action\", false, false, 1.05457168181818e-34],\r\n            [\"a.u. of charge\", \"e\", null, \"electric_charge\", false, false, 1.60217653141414e-19],\r\n            [\"a.u. of energy\", \"Eh\", null, \"energy\", false, false, 4.35974417757576e-18],\r\n            [\"a.u. of length\", \"a?\", null, \"length\", false, false, 5.29177210818182e-11],\r\n            [\"a.u. of mass\", \"m?\", null, \"mass\", false, false, 9.10938261616162e-31],\r\n            [\"a.u. of time\", \"?/Eh\", null, \"time\", false, false, 2.41888432650516e-17],\r\n            [\"admiralty knot\", \"admkn\", null, \"speed\", false, true, 0.514773333],\r\n            [\"ampere\", \"A\", null, \"electric_current\", true, false, 1],\r\n            [\"ampere per meter\", \"A/m\", null, \"magnetic_field_intensity\", true, false, 1],\r\n            [\"ngstrm\", \"\", [\"ang\"], \"length\", false, true, 1e-10],\r\n            [\"are\", \"ar\", null, \"area\", false, true, 100],\r\n            [\"astronomical unit\", \"ua\", null, \"length\", false, false, 1.49597870691667e-11],\r\n            [\"bar\", \"bar\", null, \"pressure\", false, false, 100000],\r\n            [\"barn\", \"b\", null, \"area\", false, false, 1e-28],\r\n            [\"becquerel\", \"Bq\", null, \"radioactivity\", true, false, 1],\r\n            [\"bit\", \"bit\", [\"b\"], \"information\", false, true, 1],\r\n            [\"btu\", \"BTU\", [\"btu\"], \"energy\", false, true, 1055.05585262],\r\n            [\"byte\", \"byte\", null, \"information\", false, true, 8],\r\n            [\"candela\", \"cd\", null, \"luminous_intensity\", true, false, 1],\r\n            [\"candela per square metre\", \"cd/m?\", null, \"luminance\", true, false, 1],\r\n            [\"coulomb\", \"C\", null, \"electric_charge\", true, false, 1],\r\n            [\"cubic ngstrm\", \"ang3\", [\"ang^3\"], \"volume\", false, true, 1e-30],\r\n            [\"cubic foot\", \"ft3\", [\"ft^3\"], \"volume\", false, true, 0.028316846592],\r\n            [\"cubic inch\", \"in3\", [\"in^3\"], \"volume\", false, true, 0.000016387064],\r\n            [\"cubic light-year\", \"ly3\", [\"ly^3\"], \"volume\", false, true, 8.46786664623715e-47],\r\n            [\"cubic metre\", \"m?\", null, \"volume\", true, true, 1],\r\n            [\"cubic mile\", \"mi3\", [\"mi^3\"], \"volume\", false, true, 4168181825.44058],\r\n            [\"cubic nautical mile\", \"Nmi3\", [\"Nmi^3\"], \"volume\", false, true, 6352182208],\r\n            [\"cubic Pica\", \"Pica3\", [\"Picapt3\", \"Pica^3\", \"Picapt^3\"], \"volume\", false, true, 7.58660370370369e-8],\r\n            [\"cubic yard\", \"yd3\", [\"yd^3\"], \"volume\", false, true, 0.764554857984],\r\n            [\"cup\", \"cup\", null, \"volume\", false, true, 0.0002365882365],\r\n            [\"dalton\", \"Da\", [\"u\"], \"mass\", false, false, 1.66053886282828e-27],\r\n            [\"day\", \"d\", [\"day\"], \"time\", false, true, 86400],\r\n            [\"degree\", \"\", null, \"angle\", false, false, 0.0174532925199433],\r\n            [\"degrees Rankine\", \"Rank\", null, \"temperature\", false, true, 0.555555555555556],\r\n            [\"dyne\", \"dyn\", [\"dy\"], \"force\", false, true, 0.00001],\r\n            [\"electronvolt\", \"eV\", [\"ev\"], \"energy\", false, true, 1.60217656514141],\r\n            [\"ell\", \"ell\", null, \"length\", false, true, 1.143],\r\n            [\"erg\", \"erg\", [\"e\"], \"energy\", false, true, 1e-7],\r\n            [\"farad\", \"F\", null, \"electric_capacitance\", true, false, 1],\r\n            [\"fluid ounce\", \"oz\", null, \"volume\", false, true, 0.0000295735295625],\r\n            [\"foot\", \"ft\", null, \"length\", false, true, 0.3048],\r\n            [\"foot-pound\", \"flb\", null, \"energy\", false, true, 1.3558179483314],\r\n            [\"gal\", \"Gal\", null, \"acceleration\", false, false, 0.01],\r\n            [\"gallon\", \"gal\", null, \"volume\", false, true, 0.003785411784],\r\n            [\"gauss\", \"G\", [\"ga\"], \"magnetic_flux_density\", false, true, 1],\r\n            [\"grain\", \"grain\", null, \"mass\", false, true, 0.0000647989],\r\n            [\"gram\", \"g\", null, \"mass\", false, true, 0.001],\r\n            [\"gray\", \"Gy\", null, \"absorbed_dose\", true, false, 1],\r\n            [\"gross registered ton\", \"GRT\", [\"regton\"], \"volume\", false, true, 2.8316846592],\r\n            [\"hectare\", \"ha\", null, \"area\", false, true, 10000],\r\n            [\"henry\", \"H\", null, \"inductance\", true, false, 1],\r\n            [\"hertz\", \"Hz\", null, \"frequency\", true, false, 1],\r\n            [\"horsepower\", \"HP\", [\"h\"], \"power\", false, true, 745.69987158227],\r\n            [\"horsepower-hour\", \"HPh\", [\"hh\", \"hph\"], \"energy\", false, true, 2684519.538],\r\n            [\"hour\", \"h\", [\"hr\"], \"time\", false, true, 3600],\r\n            [\"imperial gallon (U.K.)\", \"uk_gal\", null, \"volume\", false, true, 0.00454609],\r\n            [\"imperial hundredweight\", \"lcwt\", [\"uk_cwt\", \"hweight\"], \"mass\", false, true, 50.802345],\r\n            [\"imperial quart (U.K)\", \"uk_qt\", null, \"volume\", false, true, 0.0011365225],\r\n            [\"imperial ton\", \"brton\", [\"uk_ton\", \"LTON\"], \"mass\", false, true, 1016.046909],\r\n            [\"inch\", \"in\", null, \"length\", false, true, 0.0254],\r\n            [\"international acre\", \"uk_acre\", null, \"area\", false, true, 4046.8564224],\r\n            [\"IT calorie\", \"cal\", null, \"energy\", false, true, 4.1868],\r\n            [\"joule\", \"J\", null, \"energy\", true, true, 1],\r\n            [\"katal\", \"kat\", null, \"catalytic_activity\", true, false, 1],\r\n            [\"kelvin\", \"K\", [\"kel\"], \"temperature\", true, true, 1],\r\n            [\"kilogram\", \"kg\", null, \"mass\", true, true, 1],\r\n            [\"knot\", \"kn\", null, \"speed\", false, true, 0.514444444444444],\r\n            [\"light-year\", \"ly\", null, \"length\", false, true, 9460730472580800],\r\n            [\"litre\", \"L\", [\"l\", \"lt\"], \"volume\", false, true, 0.001],\r\n            [\"lumen\", \"lm\", null, \"luminous_flux\", true, false, 1],\r\n            [\"lux\", \"lx\", null, \"illuminance\", true, false, 1],\r\n            [\"maxwell\", \"Mx\", null, \"magnetic_flux\", false, false, 1e-18],\r\n            [\"measurement ton\", \"MTON\", null, \"volume\", false, true, 1.13267386368],\r\n            [\"meter per hour\", \"m/h\", [\"m/hr\"], \"speed\", false, true, 0.00027777777777778],\r\n            [\"meter per second\", \"m/s\", [\"m/sec\"], \"speed\", true, true, 1],\r\n            [\"meter per second squared\", \"m?s??\", null, \"acceleration\", true, false, 1],\r\n            [\"parsec\", \"pc\", [\"parsec\"], \"length\", false, true, 30856775814671900],\r\n            [\"meter squared per second\", \"m?/s\", null, \"kinematic_viscosity\", true, false, 1],\r\n            [\"metre\", \"m\", null, \"length\", true, true, 1],\r\n            [\"miles per hour\", \"mph\", null, \"speed\", false, true, 0.44704],\r\n            [\"millimetre of mercury\", \"mmHg\", null, \"pressure\", false, false, 133.322],\r\n            [\"minute\", \"?\", null, \"angle\", false, false, 0.000290888208665722],\r\n            [\"minute\", \"min\", [\"mn\"], \"time\", false, true, 60],\r\n            [\"modern teaspoon\", \"tspm\", null, \"volume\", false, true, 0.000005],\r\n            [\"mole\", \"mol\", null, \"amount_of_substance\", true, false, 1],\r\n            [\"morgen\", \"Morgen\", null, \"area\", false, true, 2500],\r\n            [\"n.u. of action\", \"?\", null, \"action\", false, false, 1.05457168181818e-34],\r\n            [\"n.u. of mass\", \"m?\", null, \"mass\", false, false, 9.10938261616162e-31],\r\n            [\"n.u. of speed\", \"c?\", null, \"speed\", false, false, 299792458],\r\n            [\"n.u. of time\", \"?/(me?c??)\", null, \"time\", false, false, 1.28808866778687e-21],\r\n            [\"nautical mile\", \"M\", [\"Nmi\"], \"length\", false, true, 1852],\r\n            [\"newton\", \"N\", null, \"force\", true, true, 1],\r\n            [\"rsted\", \"Oe \", null, \"magnetic_field_intensity\", false, false, 79.5774715459477],\r\n            [\"ohm\", \"\", null, \"electric_resistance\", true, false, 1],\r\n            [\"ounce mass\", \"ozm\", null, \"mass\", false, true, 0.028349523125],\r\n            [\"pascal\", \"Pa\", null, \"pressure\", true, false, 1],\r\n            [\"pascal second\", \"Pa?s\", null, \"dynamic_viscosity\", true, false, 1],\r\n            [\"pferdestrke\", \"PS\", null, \"power\", false, true, 735.49875],\r\n            [\"phot\", \"ph\", null, \"illuminance\", false, false, 0.0001],\r\n            [\"pica (1/6 inch)\", \"pica\", null, \"length\", false, true, 0.00035277777777778],\r\n            [\"pica (1/72 inch)\", \"Pica\", [\"Picapt\"], \"length\", false, true, 0.00423333333333333],\r\n            [\"poise\", \"P\", null, \"dynamic_viscosity\", false, false, 0.1],\r\n            [\"pond\", \"pond\", null, \"force\", false, true, 0.00980665],\r\n            [\"pound force\", \"lbf\", null, \"force\", false, true, 4.4482216152605],\r\n            [\"pound mass\", \"lbm\", null, \"mass\", false, true, 0.45359237],\r\n            [\"quart\", \"qt\", null, \"volume\", false, true, 0.000946352946],\r\n            [\"radian\", \"rad\", null, \"angle\", true, false, 1],\r\n            [\"second\", \"?\", null, \"angle\", false, false, 0.00000484813681109536],\r\n            [\"second\", \"s\", [\"sec\"], \"time\", true, true, 1],\r\n            [\"short hundredweight\", \"cwt\", [\"shweight\"], \"mass\", false, true, 45.359237],\r\n            [\"siemens\", \"S\", null, \"electrical_conductance\", true, false, 1],\r\n            [\"sievert\", \"Sv\", null, \"equivalent_dose\", true, false, 1],\r\n            [\"slug\", \"sg\", null, \"mass\", false, true, 14.59390294],\r\n            [\"square ngstrm\", \"ang2\", [\"ang^2\"], \"area\", false, true, 1e-20],\r\n            [\"square foot\", \"ft2\", [\"ft^2\"], \"area\", false, true, 0.09290304],\r\n            [\"square inch\", \"in2\", [\"in^2\"], \"area\", false, true, 0.00064516],\r\n            [\"square light-year\", \"ly2\", [\"ly^2\"], \"area\", false, true, 8.95054210748189e+31],\r\n            [\"square meter\", \"m?\", null, \"area\", true, true, 1],\r\n            [\"square mile\", \"mi2\", [\"mi^2\"], \"area\", false, true, 2589988.110336],\r\n            [\"square nautical mile\", \"Nmi2\", [\"Nmi^2\"], \"area\", false, true, 3429904],\r\n            [\"square Pica\", \"Pica2\", [\"Picapt2\", \"Pica^2\", \"Picapt^2\"], \"area\", false, true, 0.00001792111111111],\r\n            [\"square yard\", \"yd2\", [\"yd^2\"], \"area\", false, true, 0.83612736],\r\n            [\"statute mile\", \"mi\", null, \"length\", false, true, 1609.344],\r\n            [\"steradian\", \"sr\", null, \"solid_angle\", true, false, 1],\r\n            [\"stilb\", \"sb\", null, \"luminance\", false, false, 0.0001],\r\n            [\"stokes\", \"St\", null, \"kinematic_viscosity\", false, false, 0.0001],\r\n            [\"stone\", \"stone\", null, \"mass\", false, true, 6.35029318],\r\n            [\"tablespoon\", \"tbs\", null, \"volume\", false, true, 0.0000147868],\r\n            [\"teaspoon\", \"tsp\", null, \"volume\", false, true, 0.00000492892],\r\n            [\"tesla\", \"T\", null, \"magnetic_flux_density\", true, true, 1],\r\n            [\"thermodynamic calorie\", \"c\", null, \"energy\", false, true, 4.184],\r\n            [\"ton\", \"ton\", null, \"mass\", false, true, 907.18474],\r\n            [\"tonne\", \"t\", null, \"mass\", false, false, 1000],\r\n            [\"U.K. pint\", \"uk_pt\", null, \"volume\", false, true, 0.00056826125],\r\n            [\"U.S. bushel\", \"bushel\", null, \"volume\", false, true, 0.03523907],\r\n            [\"U.S. oil barrel\", \"barrel\", null, \"volume\", false, true, 0.158987295],\r\n            [\"U.S. pint\", \"pt\", [\"us_pt\"], \"volume\", false, true, 0.000473176473],\r\n            [\"U.S. survey mile\", \"survey_mi\", null, \"length\", false, true, 1609.347219],\r\n            [\"U.S. survey/statute acre\", \"us_acre\", null, \"area\", false, true, 4046.87261],\r\n            [\"volt\", \"V\", null, \"voltage\", true, false, 1],\r\n            [\"watt\", \"W\", null, \"power\", true, true, 1],\r\n            [\"watt-hour\", \"Wh\", [\"wh\"], \"energy\", false, true, 3600],\r\n            [\"weber\", \"Wb\", null, \"magnetic_flux\", true, false, 1],\r\n            [\"yard\", \"yd\", null, \"length\", false, true, 0.9144],\r\n            [\"year\", \"yr\", null, \"time\", false, true, 31557600]\r\n        ];\r\n\r\n        // Binary prefixes\r\n        // [Name, Prefix power of 2 value, Previx value, Abbreviation, Derived\r\n        // from]\r\n        var binary_prefixes = {\r\n            Yi: [\"yobi\", 80, 1208925819614629174706176, \"Yi\", \"yotta\"],\r\n            Zi: [\"zebi\", 70, 1180591620717411303424, \"Zi\", \"zetta\"],\r\n            Ei: [\"exbi\", 60, 1152921504606846976, \"Ei\", \"exa\"],\r\n            Pi: [\"pebi\", 50, 1125899906842624, \"Pi\", \"peta\"],\r\n            Ti: [\"tebi\", 40, 1099511627776, \"Ti\", \"tera\"],\r\n            Gi: [\"gibi\", 30, 1073741824, \"Gi\", \"giga\"],\r\n            Mi: [\"mebi\", 20, 1048576, \"Mi\", \"mega\"],\r\n            ki: [\"kibi\", 10, 1024, \"ki\", \"kilo\"]\r\n        };\r\n\r\n        // Unit prefixes\r\n        // [Name, Multiplier, Abbreviation]\r\n        var unit_prefixes = {\r\n            Y: [\"yotta\", 1e+24, \"Y\"],\r\n            Z: [\"zetta\", 1e+21, \"Z\"],\r\n            E: [\"exa\", 1e+18, \"E\"],\r\n            P: [\"peta\", 1e+15, \"P\"],\r\n            T: [\"tera\", 1e+12, \"T\"],\r\n            G: [\"giga\", 1e+09, \"G\"],\r\n            M: [\"mega\", 1e+06, \"M\"],\r\n            k: [\"kilo\", 1e+03, \"k\"],\r\n            h: [\"hecto\", 1e+02, \"h\"],\r\n            e: [\"dekao\", 1e+01, \"e\"],\r\n            d: [\"deci\", 1e-01, \"d\"],\r\n            c: [\"centi\", 1e-02, \"c\"],\r\n            m: [\"milli\", 1e-03, \"m\"],\r\n            u: [\"micro\", 1e-06, \"u\"],\r\n            n: [\"nano\", 1e-09, \"n\"],\r\n            p: [\"pico\", 1e-12, \"p\"],\r\n            f: [\"femto\", 1e-15, \"f\"],\r\n            a: [\"atto\", 1e-18, \"a\"],\r\n            z: [\"zepto\", 1e-21, \"z\"],\r\n            y: [\"yocto\", 1e-24, \"y\"]\r\n        };\r\n\r\n        // Initialize units and multipliers\r\n        var from = null;\r\n        var to = null;\r\n        var base_from_unit = from_unit;\r\n        var base_to_unit = to_unit;\r\n        var from_multiplier = 1;\r\n        var to_multiplier = 1;\r\n        var alt;\r\n\r\n        // Lookup from and to units\r\n        for (var i = 0; i < units.length; i++) {\r\n            alt = (units[i][2] === null) ? [] : units[i][2];\r\n            if (units[i][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {\r\n              from = units[i];\r\n            }\r\n            if (units[i][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {\r\n              to = units[i];\r\n            }\r\n        }\r\n\r\n        // Lookup from prefix\r\n        if (from === null) {\r\n            var from_binary_prefix = binary_prefixes[from_unit.substring(0, 2)];\r\n            var from_unit_prefix = unit_prefixes[from_unit.substring(0, 1)];\r\n\r\n            // Handle dekao unit prefix (only unit prefix with two characters)\r\n            if (from_unit.substring(0, 2) === 'da') {\r\n              from_unit_prefix = [\"dekao\", 1e+01, \"da\"];\r\n            }\r\n\r\n            // Handle binary prefixes first (so that 'Yi' is processed before\r\n            // 'Y')\r\n            if (from_binary_prefix) {\r\n              from_multiplier = from_binary_prefix[2];\r\n              base_from_unit = from_unit.substring(2);\r\n            } else if (from_unit_prefix) {\r\n              from_multiplier = from_unit_prefix[1];\r\n              base_from_unit = from_unit.substring(from_unit_prefix[2].length);\r\n            }\r\n\r\n            // Lookup from unit\r\n            for (var j = 0; j < units.length; j++) {\r\n              alt = (units[j][2] === null) ? [] : units[j][2];\r\n              if (units[j][1] === base_from_unit || alt.indexOf(base_from_unit) >= 0) {\r\n                  from = units[j];\r\n              }\r\n            }\r\n        }\r\n\r\n        // Lookup to prefix\r\n        if (to === null) {\r\n            var to_binary_prefix = binary_prefixes[to_unit.substring(0, 2)];\r\n            var to_unit_prefix = unit_prefixes[to_unit.substring(0, 1)];\r\n\r\n            // Handle dekao unit prefix (only unit prefix with two characters)\r\n            if (to_unit.substring(0, 2) === 'da') {\r\n              to_unit_prefix = [\"dekao\", 1e+01, \"da\"];\r\n            }\r\n\r\n            // Handle binary prefixes first (so that 'Yi' is processed before\r\n            // 'Y')\r\n            if (to_binary_prefix) {\r\n              to_multiplier = to_binary_prefix[2];\r\n              base_to_unit = to_unit.substring(2);\r\n            } else if (to_unit_prefix) {\r\n              to_multiplier = to_unit_prefix[1];\r\n              base_to_unit = to_unit.substring(to_unit_prefix[2].length);\r\n            }\r\n\r\n            // Lookup to unit\r\n            for (var k = 0; k < units.length; k++) {\r\n              alt = (units[k][2] === null) ? [] : units[k][2];\r\n              if (units[k][1] === base_to_unit || alt.indexOf(base_to_unit) >= 0) {\r\n                  to = units[k];\r\n              }\r\n            }\r\n        }\r\n\r\n        // Return error if a unit does not exist\r\n        if (from === null || to === null) {\r\n            return error.na;\r\n        }\r\n\r\n        // Return error if units represent different quantities\r\n        if (from[3] !== to[3]) {\r\n            return error.na;\r\n        }\r\n\r\n        // Return converted number\r\n        return number * from[6] * from_multiplier / (to[6] * to_multiplier);\r\n    };\r\n\r\n    exports.DEC2BIN = function(number, places) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n\r\n        // Return error if number is not decimal, is lower than -512, or is\r\n        // greater than 511\r\n        if (!/^-?[0-9]{1,3}$/.test(number) || number < -512 || number > 511) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character binary number if number is\r\n        // negative\r\n        if (number < 0) {\r\n            return '1' + REPT('0', 9 - (512 + number).toString(2).length) + (512 + number).toString(2);\r\n        }\r\n\r\n        // Convert decimal number to binary\r\n        var result = parseInt(number, 10).toString(2);\r\n\r\n        // Return binary number using the minimum number of characters necessary\r\n        // if places is undefined\r\n        if (typeof places === 'undefined') {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.DEC2HEX = function(number, places) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n\r\n        // Return error if number is not decimal, is lower than -549755813888,\r\n        // or is greater than 549755813887\r\n        if (!/^-?[0-9]{1,12}$/.test(number) || number < -549755813888 || number > 549755813887) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character hexadecimal number if number\r\n        // is negative\r\n        if (number < 0) {\r\n            return (1099511627776 + number).toString(16);\r\n        }\r\n\r\n        // Convert decimal number to hexadecimal\r\n        var result = parseInt(number, 10).toString(16);\r\n\r\n        // Return hexadecimal number using the minimum number of characters\r\n        // necessary if places is undefined\r\n        if (typeof places === 'undefined') {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.DEC2OCT = function(number, places) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n\r\n        // Return error if number is not decimal, is lower than -549755813888,\r\n        // or is greater than 549755813887\r\n        if (!/^-?[0-9]{1,9}$/.test(number) || number < -536870912 || number > 536870911) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character octal number if number is\r\n        // negative\r\n        if (number < 0) {\r\n            return (1073741824 + number).toString(8);\r\n        }\r\n\r\n        // Convert decimal number to octal\r\n        var result = parseInt(number, 10).toString(8);\r\n\r\n        // Return octal number using the minimum number of characters necessary\r\n        // if places is undefined\r\n        if (typeof places === 'undefined') {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.DELTA = function(number1, number2) {\r\n        // Set number2 to zero if undefined\r\n        number2 = (number2 === undefined) ? 0 : number2;\r\n        number1 = utils.parseNumber(number1);\r\n        number2 = utils.parseNumber(number2);\r\n        if (utils.anyIsError(number1, number2)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return delta\r\n        return (number1 === number2) ? 1 : 0;\r\n    };\r\n\r\n    exports.ERF = function(lower_bound, upper_bound) {\r\n    };\r\n\r\n    exports.ERF.PRECISE = function() {\r\n    };\r\n\r\n    exports.ERFC = function(x) {\r\n    };\r\n\r\n    exports.ERFC.PRECISE = function() {\r\n    };\r\n\r\n    exports.GESTEP = function(number, step) {\r\n        step = step || 0;\r\n        number = utils.parseNumber(number);\r\n        if (utils.anyIsError(step, number)) {\r\n            return number;\r\n        }\r\n\r\n        // Return delta\r\n        return (number >= step) ? 1 : 0;\r\n    };\r\n\r\n    exports.HEX2BIN = function(number, places) {\r\n        // Return error if number is not hexadecimal or contains more than ten\r\n        // characters (10 digits)\r\n        if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Check if number is negative\r\n        var negative = (number.length === 10 && number.substring(0, 1).toLowerCase() === 'f') ? true : false;\r\n\r\n        // Convert hexadecimal number to decimal\r\n        var decimal = (negative) ? parseInt(number, 16) - 1099511627776 : parseInt(number, 16);\r\n\r\n        // Return error if number is lower than -512 or greater than 511\r\n        if (decimal < -512 || decimal > 511) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character binary number if number is\r\n        // negative\r\n        if (negative) {\r\n            return '1' + REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);\r\n        }\r\n\r\n        // Convert decimal number to binary\r\n        var result = decimal.toString(2);\r\n\r\n        // Return binary number using the minimum number of characters necessary\r\n        // if places is undefined\r\n        if (places === undefined) {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.HEX2DEC = function(number) {\r\n        // Return error if number is not hexadecimal or contains more than ten\r\n        // characters (10 digits)\r\n        if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Convert hexadecimal number to decimal\r\n        var decimal = parseInt(number, 16);\r\n\r\n        // Return decimal number\r\n        return (decimal >= 549755813888) ? decimal - 1099511627776 : decimal;\r\n    };\r\n\r\n    exports.HEX2OCT = function(number, places) {\r\n        // Return error if number is not hexadecimal or contains more than ten\r\n        // characters (10 digits)\r\n        if (!/^[0-9A-Fa-f]{1,10}$/.test(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Convert hexadecimal number to decimal\r\n        var decimal = parseInt(number, 16);\r\n\r\n        // Return error if number is positive and greater than 0x1fffffff\r\n        // (536870911)\r\n        if (decimal > 536870911 && decimal < 1098974756864) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character octal number if number is\r\n        // negative\r\n        if (decimal >= 1098974756864) {\r\n            return (decimal - 1098437885952).toString(8);\r\n        }\r\n\r\n        // Convert decimal number to octal\r\n        var result = decimal.toString(8);\r\n\r\n        // Return octal number using the minimum number of characters necessary\r\n        // if places is undefined\r\n        if (places === undefined) {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.IMABS = function(inumber) {\r\n        // Lookup real and imaginary coefficients using exports.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        // Return error if either coefficient is not a number\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return absolute value of complex number\r\n        return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n    };\r\n\r\n    exports.IMAGINARY = function(inumber) {\r\n        if (inumber === undefined || inumber === true || inumber === false) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return 0 if inumber is equal to 0\r\n        if (inumber === 0 || inumber === '0') {\r\n            return 0;\r\n        }\r\n\r\n        // Handle special cases\r\n        if (['i', 'j'].indexOf(inumber) >= 0) {\r\n            return 1;\r\n        }\r\n\r\n        // Normalize imaginary coefficient\r\n        inumber = inumber.replace('+i', '+1i').replace('-i', '-1i').replace('+j', '+1j').replace('-j', '-1j');\r\n\r\n        // Lookup sign\r\n        var plus = inumber.indexOf('+');\r\n        var minus = inumber.indexOf('-');\r\n        if (plus === 0) {\r\n            plus = inumber.indexOf('+', 1);\r\n        }\r\n\r\n        if (minus === 0) {\r\n            minus = inumber.indexOf('-', 1);\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var last = inumber.substring(inumber.length - 1, inumber.length);\r\n        var unit = (last === 'i' || last === 'j');\r\n\r\n        if (plus >= 0 || minus >= 0) {\r\n            // Return error if imaginary unit is neither i nor j\r\n            if (!unit) {\r\n              return error.num;\r\n            }\r\n\r\n            // Return imaginary coefficient of complex number\r\n            if (plus >= 0) {\r\n              return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?\r\n                  error.num :\r\n                  Number(inumber.substring(plus + 1, inumber.length - 1));\r\n            } else {\r\n              return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?\r\n                  error.num :\r\n                  -Number(inumber.substring(minus + 1, inumber.length - 1));\r\n            }\r\n        } else {\r\n            if (unit) {\r\n              return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : inumber.substring(0, inumber.length - 1);\r\n            } else {\r\n              return (isNaN(inumber)) ? error.num : 0;\r\n            }\r\n        }\r\n    };\r\n\r\n    exports.IMARGUMENT = function(inumber) {\r\n        // Lookup real and imaginary coefficients using exports.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        // Return error if either coefficient is not a number\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if inumber is equal to zero\r\n        if (x === 0 && y === 0) {\r\n            return error.div0;\r\n        }\r\n\r\n        // Return PI/2 if x is equal to zero and y is positive\r\n        if (x === 0 && y > 0) {\r\n            return Math.PI / 2;\r\n        }\r\n\r\n        // Return -PI/2 if x is equal to zero and y is negative\r\n        if (x === 0 && y < 0) {\r\n            return -Math.PI / 2;\r\n        }\r\n\r\n        // Return zero if x is negative and y is equal to zero\r\n        if (y === 0 && x > 0) {\r\n            return 0;\r\n        }\r\n\r\n        // Return zero if x is negative and y is equal to zero\r\n        if (y === 0 && x < 0) {\r\n            return -Math.PI;\r\n        }\r\n\r\n        // Return argument of complex number\r\n        if (x > 0) {\r\n            return Math.atan(y / x);\r\n        } else if (x < 0 && y >= 0) {\r\n            return Math.atan(y / x) + Math.PI;\r\n        } else {\r\n            return Math.atan(y / x) - Math.PI;\r\n        }\r\n    };\r\n\r\n    exports.IMCONJUGATE = function(inumber) {\r\n        // Lookup real and imaginary coefficients using exports.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return conjugate of complex number\r\n        return (y !== 0) ? exports.COMPLEX(x, -y, unit) : inumber;\r\n    };\r\n\r\n    exports.IMCOS = function(inumber) {\r\n        // Lookup real and imaginary coefficients using exports.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return cosine of complex number\r\n        return exports.COMPLEX(Math.cos(x) * (Math.exp(y) + Math.exp(-y)) / 2, -Math.sin(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);\r\n    };\r\n\r\n    exports.IMCOSH = function(inumber) {\r\n        // Lookup real and imaginary coefficients using exports.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return hyperbolic cosine of complex number\r\n        return exports.COMPLEX(Math.cos(y) * (Math.exp(x) + Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) - Math.exp(-x)) / 2, unit);\r\n    };\r\n\r\n    exports.IMCOT = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return cotangent of complex number\r\n        return exports.IMDIV(exports.IMCOS(inumber), exports.IMSIN(inumber));\r\n    };\r\n\r\n    exports.IMDIV = function(inumber1, inumber2) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var a = exports.IMREAL(inumber1);\r\n        var b = exports.IMAGINARY(inumber1);\r\n        var c = exports.IMREAL(inumber2);\r\n        var d = exports.IMAGINARY(inumber2);\r\n\r\n        if (utils.anyIsError(a, b, c, d)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit1 = inumber1.substring(inumber1.length - 1);\r\n        var unit2 = inumber2.substring(inumber2.length - 1);\r\n        var unit = 'i';\r\n        if (unit1 === 'j') {\r\n            unit = 'j';\r\n        } else if (unit2 === 'j') {\r\n            unit = 'j';\r\n        }\r\n\r\n        // Return error if inumber2 is null\r\n        if (c === 0 && d === 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return exponential of complex number\r\n        var den = c * c + d * d;\r\n        return exports.COMPLEX((a * c + b * d) / den, (b * c - a * d) / den, unit);\r\n    };\r\n\r\n    exports.IMEXP = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return exponential of complex number\r\n        var e = Math.exp(x);\r\n        return exports.COMPLEX(e * Math.cos(y), e * Math.sin(y), unit);\r\n    };\r\n\r\n    exports.IMLN = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return exponential of complex number\r\n        return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)), Math.atan(y / x), unit);\r\n    };\r\n\r\n    exports.IMLOG10 = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return exponential of complex number\r\n        return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(10), Math.atan(y / x) / Math.log(10), unit);\r\n    };\r\n\r\n    exports.IMLOG2 = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return exponential of complex number\r\n        return exports.COMPLEX(Math.log(Math.sqrt(x * x + y * y)) / Math.log(2), Math.atan(y / x) / Math.log(2), unit);\r\n    };\r\n\r\n    exports.IMPOWER = function(inumber, number) {\r\n        number = utils.parseNumber(number);\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n        if (utils.anyIsError(number, x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Calculate power of modulus\r\n        var p = Math.pow(exports.IMABS(inumber), number);\r\n\r\n        // Calculate argument\r\n        var t = exports.IMARGUMENT(inumber);\r\n\r\n        // Return exponential of complex number\r\n        return exports.COMPLEX(p * Math.cos(number * t), p * Math.sin(number * t), unit);\r\n    };\r\n\r\n    exports.IMPRODUCT = function() {\r\n        // Initialize result\r\n        var result = arguments[0];\r\n\r\n        // Loop on all numbers\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            // Lookup coefficients of two complex numbers\r\n            var a = exports.IMREAL(result);\r\n            var b = exports.IMAGINARY(result);\r\n            var c = exports.IMREAL(arguments[i]);\r\n            var d = exports.IMAGINARY(arguments[i]);\r\n\r\n            if (utils.anyIsError(a, b, c, d)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Complute product of two complex numbers\r\n            result = exports.COMPLEX(a * c - b * d, a * d + b * c);\r\n        }\r\n\r\n        // Return product of complex numbers\r\n        return result;\r\n    };\r\n\r\n    exports.IMREAL = function(inumber) {\r\n        if (inumber === undefined || inumber === true || inumber === false) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return 0 if inumber is equal to 0\r\n        if (inumber === 0 || inumber === '0') {\r\n            return 0;\r\n        }\r\n\r\n        // Handle special cases\r\n        if (['i', '+i', '1i', '+1i', '-i', '-1i', 'j', '+j', '1j', '+1j', '-j', '-1j'].indexOf(inumber) >= 0) {\r\n            return 0;\r\n        }\r\n\r\n        // Lookup sign\r\n        var plus = inumber.indexOf('+');\r\n        var minus = inumber.indexOf('-');\r\n        if (plus === 0) {\r\n            plus = inumber.indexOf('+', 1);\r\n        }\r\n        if (minus === 0) {\r\n            minus = inumber.indexOf('-', 1);\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var last = inumber.substring(inumber.length - 1, inumber.length);\r\n        var unit = (last === 'i' || last === 'j');\r\n\r\n        if (plus >= 0 || minus >= 0) {\r\n            // Return error if imaginary unit is neither i nor j\r\n            if (!unit) {\r\n              return error.num;\r\n            }\r\n\r\n            // Return real coefficient of complex number\r\n            if (plus >= 0) {\r\n              return (isNaN(inumber.substring(0, plus)) || isNaN(inumber.substring(plus + 1, inumber.length - 1))) ?\r\n                  error.num :\r\n                  Number(inumber.substring(0, plus));\r\n            } else {\r\n              return (isNaN(inumber.substring(0, minus)) || isNaN(inumber.substring(minus + 1, inumber.length - 1))) ?\r\n                  error.num :\r\n                  Number(inumber.substring(0, minus));\r\n            }\r\n        } else {\r\n            if (unit) {\r\n              return (isNaN(inumber.substring(0, inumber.length - 1))) ? error.num : 0;\r\n            } else {\r\n              return (isNaN(inumber)) ? error.num : inumber;\r\n            }\r\n        }\r\n    };\r\n\r\n    exports.IMSEC = function(inumber) {\r\n        // Return error if inumber is a logical value\r\n        if (inumber === true || inumber === false) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return secant of complex number\r\n        return exports.IMDIV('1', exports.IMCOS(inumber));\r\n    };\r\n\r\n    exports.IMSECH = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return hyperbolic secant of complex number\r\n        return exports.IMDIV('1', exports.IMCOSH(inumber));\r\n    };\r\n\r\n    exports.IMSIN = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return sine of complex number\r\n        return exports.COMPLEX(Math.sin(x) * (Math.exp(y) + Math.exp(-y)) / 2, Math.cos(x) * (Math.exp(y) - Math.exp(-y)) / 2, unit);\r\n    };\r\n\r\n    exports.IMSINH = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Return hyperbolic sine of complex number\r\n        return exports.COMPLEX(Math.cos(y) * (Math.exp(x) - Math.exp(-x)) / 2, Math.sin(y) * (Math.exp(x) + Math.exp(-x)) / 2, unit);\r\n    };\r\n\r\n    exports.IMSQRT = function(inumber) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit = inumber.substring(inumber.length - 1);\r\n        unit = (unit === 'i' || unit === 'j') ? unit : 'i';\r\n\r\n        // Calculate power of modulus\r\n        var s = Math.sqrt(exports.IMABS(inumber));\r\n\r\n        // Calculate argument\r\n        var t = exports.IMARGUMENT(inumber);\r\n\r\n        // Return exponential of complex number\r\n        return exports.COMPLEX(s * Math.cos(t / 2), s * Math.sin(t / 2), unit);\r\n    };\r\n\r\n    exports.IMCSC = function (inumber) {\r\n        // Return error if inumber is a logical value\r\n        if (inumber === true || inumber === false) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        // Return error if either coefficient is not a number\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return cosecant of complex number\r\n        return exports.IMDIV('1', exports.IMSIN(inumber));\r\n    };\r\n\r\n    exports.IMCSCH = function (inumber) {\r\n        // Return error if inumber is a logical value\r\n        if (inumber === true || inumber === false) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        // Return error if either coefficient is not a number\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return hyperbolic cosecant of complex number\r\n        return exports.IMDIV('1', exports.IMSINH(inumber));\r\n    };\r\n\r\n    exports.IMSUB = function(inumber1, inumber2) {\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var a = this.IMREAL(inumber1);\r\n        var b = this.IMAGINARY(inumber1);\r\n        var c = this.IMREAL(inumber2);\r\n        var d = this.IMAGINARY(inumber2);\r\n\r\n        if (utils.anyIsError(a, b, c, d)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup imaginary unit\r\n        var unit1 = inumber1.substring(inumber1.length - 1);\r\n        var unit2 = inumber2.substring(inumber2.length - 1);\r\n        var unit = 'i';\r\n        if (unit1 === 'j') {\r\n            unit = 'j';\r\n        } else if (unit2 === 'j') {\r\n            unit = 'j';\r\n        }\r\n\r\n        // Return _ of two complex numbers\r\n        return this.COMPLEX(a - c, b - d, unit);\r\n    };\r\n\r\n    exports.IMSUM = function() {\r\n        var args = utils.flatten(arguments);\r\n\r\n        // Initialize result\r\n        var result = args[0];\r\n\r\n        // Loop on all numbers\r\n        for (var i = 1; i < args.length; i++) {\r\n            // Lookup coefficients of two complex numbers\r\n            var a = this.IMREAL(result);\r\n            var b = this.IMAGINARY(result);\r\n            var c = this.IMREAL(args[i]);\r\n            var d = this.IMAGINARY(args[i]);\r\n\r\n            if (utils.anyIsError(a, b, c, d)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Complute product of two complex numbers\r\n            result = this.COMPLEX(a + c, b + d);\r\n        }\r\n\r\n        // Return sum of complex numbers\r\n        return result;\r\n    };\r\n\r\n    exports.IMTAN = function(inumber) {\r\n        // Return error if inumber is a logical value\r\n        if (inumber === true || inumber === false) {\r\n            return error.value;\r\n        }\r\n\r\n        // Lookup real and imaginary coefficients using Formula.js\r\n        // [http://formulajs.org]\r\n        var x = exports.IMREAL(inumber);\r\n        var y = exports.IMAGINARY(inumber);\r\n\r\n        if (utils.anyIsError(x, y)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return tangent of complex number\r\n        return this.IMDIV(this.IMSIN(inumber), this.IMCOS(inumber));\r\n    };\r\n\r\n    exports.OCT2BIN = function(number, places) {\r\n        // Return error if number is not hexadecimal or contains more than ten\r\n        // characters (10 digits)\r\n        if (!/^[0-7]{1,10}$/.test(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Check if number is negative\r\n        var negative = (number.length === 10 && number.substring(0, 1) === '7') ? true : false;\r\n\r\n        // Convert octal number to decimal\r\n        var decimal = (negative) ? parseInt(number, 8) - 1073741824 : parseInt(number, 8);\r\n\r\n        // Return error if number is lower than -512 or greater than 511\r\n        if (decimal < -512 || decimal > 511) {\r\n            return error.num;\r\n        }\r\n\r\n        // Ignore places and return a 10-character binary number if number is\r\n        // negative\r\n        if (negative) {\r\n            return '1' + REPT('0', 9 - (512 + decimal).toString(2).length) + (512 + decimal).toString(2);\r\n        }\r\n\r\n        // Convert decimal number to binary\r\n        var result = decimal.toString(2);\r\n\r\n        // Return binary number using the minimum number of characters necessary\r\n        // if places is undefined\r\n        if (typeof places === 'undefined') {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    exports.OCT2DEC = function(number) {\r\n        // Return error if number is not octal or contains more than ten\r\n        // characters (10 digits)\r\n        if (!/^[0-7]{1,10}$/.test(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Convert octal number to decimal\r\n        var decimal = parseInt(number, 8);\r\n\r\n        // Return decimal number\r\n        return (decimal >= 536870912) ? decimal - 1073741824 : decimal;\r\n    };\r\n\r\n    exports.OCT2HEX = function(number, places) {\r\n        // Return error if number is not octal or contains more than ten\r\n        // characters (10 digits)\r\n        if (!/^[0-7]{1,10}$/.test(number)) {\r\n            return error.num;\r\n        }\r\n\r\n        // Convert octal number to decimal\r\n        var decimal = parseInt(number, 8);\r\n\r\n        // Ignore places and return a 10-character octal number if number is\r\n        // negative\r\n        if (decimal >= 536870912) {\r\n            return 'ff' + (decimal + 3221225472).toString(16);\r\n        }\r\n\r\n        // Convert decimal number to hexadecimal\r\n        var result = decimal.toString(16);\r\n\r\n        // Return hexadecimal number using the minimum number of characters\r\n        // necessary if places is undefined\r\n        if (places === undefined) {\r\n            return result;\r\n        } else {\r\n            // Return error if places is nonnumeric\r\n            if (isNaN(places)) {\r\n              return error.value;\r\n            }\r\n\r\n            // Return error if places is negative\r\n            if (places < 0) {\r\n              return error.num;\r\n            }\r\n\r\n            // Truncate places in case it is not an integer\r\n            places = Math.floor(places);\r\n\r\n            // Pad return value with leading 0s (zeros) if necessary (using\r\n            // Underscore.string)\r\n            return (places >= result.length) ? REPT('0', places - result.length) + result : error.num;\r\n        }\r\n    };\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.financial = (function() {\r\n    var exports = {};\r\n\r\n    function validDate(d) {\r\n        return d && d.getTime && !isNaN(d.getTime());\r\n    }\r\n\r\n    function ensureDate(d) {\r\n        return (d instanceof Date)?d:new Date(d);\r\n    }\r\n\r\n    exports.ACCRINT = function(issue, first, settlement, rate, par, frequency, basis) {\r\n        // Return error if either date is invalid\r\n        issue        = ensureDate(issue);\r\n        first        = ensureDate(first);\r\n        settlement = ensureDate(settlement);\r\n        if (!validDate(issue) || !validDate(first) || !validDate(settlement)) {\r\n            return '#VALUE!';\r\n        }\r\n\r\n        // Return error if either rate or par are lower than or equal to zero\r\n        if (rate <= 0 || par <= 0) {\r\n            return '#NUM!';\r\n        }\r\n\r\n        // Return error if frequency is neither 1, 2, or 4\r\n        if ([1, 2, 4].indexOf(frequency) === -1) {\r\n            return '#NUM!';\r\n        }\r\n\r\n        // Return error if basis is neither 0, 1, 2, 3, or 4\r\n        if ([0, 1, 2, 3, 4].indexOf(basis) === -1) {\r\n            return '#NUM!';\r\n        }\r\n\r\n        // Return error if settlement is before or equal to issue\r\n        if (settlement <= issue) {\r\n            return '#NUM!';\r\n        }\r\n\r\n        // Set default values\r\n        par   = par   || 0;\r\n        basis = basis || 0;\r\n\r\n        // Compute accrued interest\r\n        return par * rate * YEARFRAC(issue, settlement, basis);\r\n    };\r\n\r\n    exports.ACCRINTM = null;\r\n\r\n    exports.AMORDEGRC = null;\r\n\r\n    exports.AMORLINC = null;\r\n\r\n    exports.COUPDAYBS = null;\r\n\r\n    exports.COUPDAYS = null;\r\n\r\n    exports.COUPDAYSNC = null;\r\n\r\n    exports.COUPNCD = null;\r\n\r\n    exports.COUPNUM = null;\r\n\r\n    exports.COUPPCD = null;\r\n\r\n    exports.CUMIPMT = function(rate, periods, value, start, end, type) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n        // Credits: Hannes Stiebitzhofer for the translations of function and\r\n            // variable names\r\n        // Requires exports.FV() and exports.PMT() from exports.js\r\n            // [http://stoic.com/exports/]\r\n\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        value = utils.parseNumber(value);\r\n        if (utils.anyIsError(rate, periods, value)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if either rate, periods, or value are lower than or\r\n            // equal to zero\r\n        if (rate <= 0 || periods <= 0 || value <= 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if start < 1, end < 1, or start > end\r\n        if (start < 1 || end < 1 || start > end) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if type is neither 0 nor 1\r\n        if (type !== 0 && type !== 1) {\r\n            return error.num;\r\n        }\r\n\r\n        // Compute cumulative interest\r\n        var payment = exports.PMT(rate, periods, value, 0, type);\r\n        var interest = 0;\r\n\r\n        if (start === 1) {\r\n            if (type === 0) {\r\n                interest = -value;\r\n                start++;\r\n            }\r\n        }\r\n\r\n        for (var i = start; i <= end; i++) {\r\n            if (type === 1) {\r\n                interest += exports.FV(rate, i - 2, payment, value, 1) - payment;\r\n            } else {\r\n                interest += exports.FV(rate, i - 1, payment, value, 0);\r\n            }\r\n        }\r\n        interest *= rate;\r\n\r\n        // Return cumulative interest\r\n        return interest;\r\n    };\r\n\r\n    exports.CUMPRINC = function(rate, periods, value, start, end, type) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n        // Credits: Hannes Stiebitzhofer for the translations of function and\r\n            // variable names\r\n\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        value = utils.parseNumber(value);\r\n        if (utils.anyIsError(rate, periods, value)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if either rate, periods, or value are lower than or\r\n            // equal to zero\r\n        if (rate <= 0 || periods <= 0 || value <= 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if start < 1, end < 1, or start > end\r\n        if (start < 1 || end < 1 || start > end) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if type is neither 0 nor 1\r\n        if (type !== 0 && type !== 1) {\r\n            return error.num;\r\n        }\r\n\r\n        // Compute cumulative principal\r\n        var payment = exports.PMT(rate, periods, value, 0, type);\r\n        var principal = 0;\r\n        if (start === 1) {\r\n            if (type === 0) {\r\n                principal = payment + value * rate;\r\n            } else {\r\n                principal = payment;\r\n            }\r\n            start++;\r\n        }\r\n        for (var i = start; i <= end; i++) {\r\n            if (type > 0) {\r\n                principal += payment - (exports.FV(rate, i - 2, payment, value, 1) - payment) * rate;\r\n            } else {\r\n                principal += payment - exports.FV(rate, i - 1, payment, value, 0) * rate;\r\n            }\r\n        }\r\n\r\n        // Return cumulative principal\r\n        return principal;\r\n    };\r\n\r\n    exports.DB = function(cost, salvage, life, period, month) {\r\n        // Initialize month\r\n        month = (month === undefined) ? 12 : month;\r\n\r\n        cost = utils.parseNumber(cost);\r\n        salvage = utils.parseNumber(salvage);\r\n        life = utils.parseNumber(life);\r\n        period = utils.parseNumber(period);\r\n        month = utils.parseNumber(month);\r\n        if (utils.anyIsError(cost, salvage, life, period, month)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if any of the parameters is negative\r\n        if (cost < 0 || salvage < 0 || life < 0 || period < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if month is not an integer between 1 and 12\r\n        if ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].indexOf(month) === -1) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if period is greater than life\r\n        if (period > life) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return 0 (zero) if salvage is greater than or equal to cost\r\n        if (salvage >= cost) {\r\n            return 0;\r\n        }\r\n\r\n        // Rate is rounded to three decimals places\r\n        var rate = (1 - Math.pow(salvage / cost, 1 / life)).toFixed(3);\r\n\r\n        // Compute initial depreciation\r\n        var initial = cost * rate * month / 12;\r\n\r\n        // Compute total depreciation\r\n        var total = initial;\r\n        var current = 0;\r\n        var ceiling = (period === life) ? life - 1 : period;\r\n        for (var i = 2; i <= ceiling; i++) {\r\n            current = (cost - total) * rate;\r\n            total += current;\r\n        }\r\n\r\n        // Depreciation for the first and last periods are special cases\r\n        if (period === 1) {\r\n            // First period\r\n            return initial;\r\n        } else if (period === life) {\r\n            // Last period\r\n            return (cost - total) * rate;\r\n        } else {\r\n            return current;\r\n        }\r\n    };\r\n\r\n    exports.DDB = function(cost, salvage, life, period, factor) {\r\n        // Initialize factor\r\n        factor = (factor === undefined) ? 2 : factor;\r\n\r\n        cost = utils.parseNumber(cost);\r\n        salvage = utils.parseNumber(salvage);\r\n        life = utils.parseNumber(life);\r\n        period = utils.parseNumber(period);\r\n        factor = utils.parseNumber(factor);\r\n        if (utils.anyIsError(cost, salvage, life, period, factor)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if any of the parameters is negative or if factor is\r\n            // null\r\n        if (cost < 0 || salvage < 0 || life < 0 || period < 0 || factor <= 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if period is greater than life\r\n        if (period > life) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return 0 (zero) if salvage is greater than or equal to cost\r\n        if (salvage >= cost) {\r\n            return 0;\r\n        }\r\n\r\n        // Compute depreciation\r\n        var total = 0;\r\n        var current = 0;\r\n        for (var i = 1; i <= period; i++) {\r\n            current = Math.min((cost - total) * (factor / life), (cost - salvage - total));\r\n            total += current;\r\n        }\r\n\r\n        // Return depreciation\r\n        return current;\r\n    };\r\n\r\n    exports.DISC = null;\r\n\r\n    exports.DOLLARDE = function(dollar, fraction) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n\r\n        dollar = utils.parseNumber(dollar);\r\n        fraction = utils.parseNumber(fraction);\r\n        if (utils.anyIsError(dollar, fraction)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if fraction is negative\r\n        if (fraction < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if fraction is greater than or equal to 0 and less than\r\n            // 1\r\n        if (fraction >= 0 && fraction < 1) {\r\n            return error.div0;\r\n        }\r\n\r\n        // Truncate fraction if it is not an integer\r\n        fraction = parseInt(fraction, 10);\r\n\r\n        // Compute integer part\r\n        var result = parseInt(dollar, 10);\r\n\r\n        // Add decimal part\r\n        result += (dollar % 1) * Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN10)) / fraction;\r\n\r\n        // Round result\r\n        var power = Math.pow(10, Math.ceil(Math.log(fraction) / Math.LN2) + 1);\r\n        result = Math.round(result * power) / power;\r\n\r\n        // Return converted dollar price\r\n        return result;\r\n    };\r\n\r\n    exports.DOLLARFR = function(dollar, fraction) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n\r\n        dollar = utils.parseNumber(dollar);\r\n        fraction = utils.parseNumber(fraction);\r\n        if (utils.anyIsError(dollar, fraction)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if fraction is negative\r\n        if (fraction < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if fraction is greater than or equal to 0 and less than\r\n            // 1\r\n        if (fraction >= 0 && fraction < 1) {\r\n            return error.div0;\r\n        }\r\n\r\n        // Truncate fraction if it is not an integer\r\n        fraction = parseInt(fraction, 10);\r\n\r\n        // Compute integer part\r\n        var result = parseInt(dollar, 10);\r\n\r\n        // Add decimal part\r\n        result += (dollar % 1) * Math.pow(10, -Math.ceil(Math.log(fraction) / Math.LN10)) * fraction;\r\n\r\n        // Return converted dollar price\r\n        return result;\r\n    };\r\n\r\n    exports.DURATION = null;\r\n\r\n    exports.EFFECT = function(rate, periods) {\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        if (utils.anyIsError(rate, periods)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if rate <=0 or periods < 1\r\n        if (rate <= 0 || periods < 1) {\r\n            return error.num;\r\n        }\r\n\r\n        // Truncate periods if it is not an integer\r\n        periods = parseInt(periods, 10);\r\n\r\n        // Return effective annual interest rate\r\n        return Math.pow(1 + rate / periods, periods) - 1;\r\n    };\r\n\r\n    exports.FV = function(rate, periods, payment, value, type) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n\r\n        value = value || 0;\r\n        type = type || 0;\r\n\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        payment = utils.parseNumber(payment);\r\n        value = utils.parseNumber(value);\r\n        type = utils.parseNumber(type);\r\n        if (utils.anyIsError(rate, periods, payment, value, type)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return future value\r\n        var result;\r\n        if (rate === 0) {\r\n            result = value + payment * periods;\r\n        } else {\r\n            var term = Math.pow(1 + rate, periods);\r\n            if (type === 1) {\r\n                result = value * term + payment * (1 + rate) * (term - 1) / rate;\r\n            } else {\r\n                result = value * term + payment * (term - 1) / rate;\r\n            }\r\n        }\r\n        return -result;\r\n    };\r\n\r\n    exports.FVSCHEDULE = function(principal, schedule) {\r\n        principal = utils.parseNumber(principal);\r\n        schedule = utils.parseNumberArray(utils.flatten(schedule));\r\n        if (utils.anyIsError(principal, schedule)) {\r\n            return error.value;\r\n        }\r\n\r\n        var n = schedule.length;\r\n        var future = principal;\r\n\r\n        // Apply all interests in schedule\r\n        for (var i = 0; i < n; i++) {\r\n            // Apply scheduled interest\r\n            future *= 1 + schedule[i];\r\n        }\r\n\r\n        // Return future value\r\n        return future;\r\n    };\r\n\r\n    exports.INTRATE = null;\r\n\r\n    exports.IPMT = function(rate, period, periods, present, future, type) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n\r\n        future = future || 0;\r\n        type = type || 0;\r\n\r\n        rate = utils.parseNumber(rate);\r\n        period = utils.parseNumber(period);\r\n        periods = utils.parseNumber(periods);\r\n        present = utils.parseNumber(present);\r\n        future = utils.parseNumber(future);\r\n        type = utils.parseNumber(type);\r\n        if (utils.anyIsError(rate, period, periods, present, future, type)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Compute payment\r\n        var payment = exports.PMT(rate, periods, present, future, type);\r\n\r\n        // Compute interest\r\n        var interest;\r\n        if (period === 1) {\r\n            if (type === 1) {\r\n                interest = 0;\r\n            } else {\r\n                interest = -present;\r\n            }\r\n        } else {\r\n            if (type === 1) {\r\n                interest = exports.FV(rate, period - 2, payment, present, 1) - payment;\r\n            } else {\r\n                interest = exports.FV(rate, period - 1, payment, present, 0);\r\n            }\r\n        }\r\n\r\n        // Return interest\r\n        return interest * rate;\r\n    };\r\n\r\n    exports.IRR = function(values, guess) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n\r\n        guess = guess || 0;\r\n\r\n        values = utils.parseNumberArray(utils.flatten(values));\r\n        guess = utils.parseNumber(guess);\r\n        if (utils.anyIsError(values, guess)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Calculates the resulting amount\r\n        var irrResult = function(values, dates, rate) {\r\n            var r = rate + 1;\r\n            var result = values[0];\r\n            for (var i = 1; i < values.length; i++) {\r\n                result += values[i] / Math.pow(r, (dates[i] - dates[0]) / 365);\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // Calculates the first derivation\r\n        var irrResultDeriv = function(values, dates, rate) {\r\n            var r = rate + 1;\r\n            var result = 0;\r\n            for (var i = 1; i < values.length; i++) {\r\n                var frac = (dates[i] - dates[0]) / 365;\r\n                result -= frac * values[i] / Math.pow(r, frac + 1);\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // Initialize dates and check that values contains at least one positive\r\n            // value and one negative value\r\n        var dates = [];\r\n        var positive = false;\r\n        var negative = false;\r\n        for (var i = 0; i < values.length; i++) {\r\n            dates[i] = (i === 0) ? 0 : dates[i - 1] + 365;\r\n            if (values[i] > 0) {\r\n                positive = true;\r\n            }\r\n            if (values[i] < 0) {\r\n                negative = true;\r\n            }\r\n        }\r\n\r\n        // Return error if values does not contain at least one positive value\r\n            // and one negative value\r\n        if (!positive || !negative) {\r\n            return error.num;\r\n        }\r\n\r\n        // Initialize guess and resultRate\r\n        guess = (guess === undefined) ? 0.1 : guess;\r\n        var resultRate = guess;\r\n\r\n        // Set maximum epsilon for end of iteration\r\n        var epsMax = 1e-10;\r\n\r\n        // Implement Newton's method\r\n        var newRate, epsRate, resultValue;\r\n        var contLoop = true;\r\n        do {\r\n            resultValue = irrResult(values, dates, resultRate);\r\n            newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);\r\n            epsRate = Math.abs(newRate - resultRate);\r\n            resultRate = newRate;\r\n            contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);\r\n        } while (contLoop);\r\n\r\n        // Return internal rate of return\r\n        return resultRate;\r\n    };\r\n\r\n    exports.ISPMT = function(rate, period, periods, value) {\r\n        rate = utils.parseNumber(rate);\r\n        period = utils.parseNumber(period);\r\n        periods = utils.parseNumber(periods);\r\n        value = utils.parseNumber(value);\r\n        if (utils.anyIsError(rate, period, periods, value)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return interest\r\n        return value * rate * (period / periods - 1);\r\n    };\r\n\r\n    exports.MDURATION = null;\r\n\r\n    exports.MIRR = function(values, finance_rate, reinvest_rate) {\r\n        values = utils.parseNumberArray(utils.flatten(values));\r\n        finance_rate = utils.parseNumber(finance_rate);\r\n        reinvest_rate = utils.parseNumber(reinvest_rate);\r\n        if (utils.anyIsError(values, finance_rate, reinvest_rate)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Initialize number of values\r\n        var n = values.length;\r\n\r\n        // Lookup payments (negative values) and incomes (positive values)\r\n        var payments = [];\r\n        var incomes = [];\r\n        for (var i = 0; i < n; i++) {\r\n            if (values[i] < 0) {\r\n                payments.push(values[i]);\r\n            } else {\r\n                incomes.push(values[i]);\r\n            }\r\n        }\r\n\r\n        // Return modified internal rate of return\r\n        var num = -exports.NPV(reinvest_rate, incomes) * Math.pow(1 + reinvest_rate, n - 1);\r\n        var den = exports.NPV(finance_rate, payments) * (1 + finance_rate);\r\n        return Math.pow(num / den, 1 / (n - 1)) - 1;\r\n    };\r\n\r\n    exports.NOMINAL = function(rate, periods) {\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        if (utils.anyIsError(rate, periods)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if rate <=0 or periods < 1\r\n        if (rate <= 0 || periods < 1) {\r\n            return error.num;\r\n        }\r\n\r\n        // Truncate periods if it is not an integer\r\n        periods = parseInt(periods, 10);\r\n\r\n        // Return nominal annual interest rate\r\n        return (Math.pow(rate + 1, 1 / periods) - 1) * periods;\r\n    };\r\n\r\n    exports.NPER = function(rate, payment, present, future, type) {\r\n        type = (type === undefined) ? 0 : type;\r\n        future = (future === undefined) ? 0 : future;\r\n\r\n        rate = utils.parseNumber(rate);\r\n        payment = utils.parseNumber(payment);\r\n        present = utils.parseNumber(present);\r\n        future = utils.parseNumber(future);\r\n        type = utils.parseNumber(type);\r\n        if (utils.anyIsError(rate, payment, present, future, type)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return number of periods\r\n        var num = payment * (1 + rate * type) - future * rate;\r\n        var den = (present * rate + payment * (1 + rate * type));\r\n        return Math.log(num / den) / Math.log(1 + rate);\r\n    };\r\n\r\n    exports.NPV = function() {\r\n        var args = utils.parseNumberArray(utils.flatten(arguments));\r\n        if (args instanceof Error) {\r\n            return args;\r\n        }\r\n\r\n        // Lookup rate\r\n        var rate = args[0];\r\n\r\n        // Initialize net present value\r\n        var value = 0;\r\n\r\n        // Loop on all values\r\n        for (var j = 1; j < args.length; j++) {\r\n            value += args[j] / Math.pow(1 + rate, j);\r\n        }\r\n\r\n        // Return net present value\r\n        return value;\r\n    };\r\n\r\n    exports.ODDFPRICE = null;\r\n\r\n    exports.ODDFYIELD = null;\r\n\r\n    exports.ODDLPRICE = null;\r\n\r\n    exports.ODDLYIELD = null;\r\n\r\n    exports.PDURATION = function(rate, present, future) {\r\n        rate = utils.parseNumber(rate);\r\n        present = utils.parseNumber(present);\r\n        future = utils.parseNumber(future);\r\n        if (utils.anyIsError(rate, present, future)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if rate <=0\r\n        if (rate <= 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return number of periods\r\n        return (Math.log(future) - Math.log(present)) / Math.log(1 + rate);\r\n    };\r\n\r\n    exports.PMT = function(rate, periods, present, future, type) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n\r\n        future = future || 0;\r\n        type = type || 0;\r\n\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        present = utils.parseNumber(present);\r\n        future = utils.parseNumber(future);\r\n        type = utils.parseNumber(type);\r\n        if (utils.anyIsError(rate, periods, present, future, type)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return payment\r\n        var result;\r\n        if (rate === 0) {\r\n            result = (present + future) / periods;\r\n        } else {\r\n            var term = Math.pow(1 + rate, periods);\r\n            if (type === 1) {\r\n                result = (future * rate / (term - 1) + present * rate / (1 - 1 / term)) / (1 + rate);\r\n            } else {\r\n                result = future * rate / (term - 1) + present * rate / (1 - 1 / term);\r\n            }\r\n        }\r\n        return -result;\r\n    };\r\n\r\n    exports.PPMT = function(rate, period, periods, present, future, type) {\r\n        future = future || 0;\r\n        type = type || 0;\r\n\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        present = utils.parseNumber(present);\r\n        future = utils.parseNumber(future);\r\n        type = utils.parseNumber(type);\r\n        if (utils.anyIsError(rate, periods, present, future, type)) {\r\n            return error.value;\r\n        }\r\n\r\n        return exports.PMT(rate, periods, present, future, type) - exports.IPMT(rate, period, periods, present, future, type);\r\n    };\r\n\r\n    exports.PRICE = null;\r\n\r\n    exports.PRICEDISC = null;\r\n\r\n    exports.PRICEMAT = null;\r\n\r\n    exports.PV = function(rate, periods, payment, future, type) {\r\n        future = future || 0;\r\n        type = type || 0;\r\n\r\n        rate = utils.parseNumber(rate);\r\n        periods = utils.parseNumber(periods);\r\n        payment = utils.parseNumber(payment);\r\n        future = utils.parseNumber(future);\r\n        type = utils.parseNumber(type);\r\n        if (utils.anyIsError(rate, periods, payment, future, type)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return present value\r\n        if (rate === 0) {\r\n            return -payment * periods - future;\r\n        } else {\r\n            return (((1 - Math.pow(1 + rate, periods)) / rate) * payment * (1 + rate * type) - future) / Math.pow(1 + rate, periods);\r\n        }\r\n    };\r\n\r\n    exports.RATE = function(periods, payment, present, future, type, guess) {\r\n        // Credits: rabugento\r\n\r\n        guess = (guess === undefined) ? 0.01 : guess;\r\n        future = (future === undefined) ? 0 : future;\r\n        type = (type === undefined) ? 0 : type;\r\n\r\n        periods = utils.parseNumber(periods);\r\n        payment = utils.parseNumber(payment);\r\n        present = utils.parseNumber(present);\r\n        future = utils.parseNumber(future);\r\n        type = utils.parseNumber(type);\r\n        guess = utils.parseNumber(guess);\r\n        if (utils.anyIsError(periods, payment, present, future, type, guess)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Set maximum epsilon for end of iteration\r\n        var epsMax = 1e-6;\r\n\r\n        // Set maximum number of iterations\r\n        var iterMax = 100;\r\n        var iter = 0;\r\n        var close = false;\r\n        var rate = guess;\r\n\r\n        while (iter < iterMax && !close) {\r\n            var t1 = Math.pow(rate + 1, periods);\r\n            var t2 = Math.pow(rate + 1, periods - 1);\r\n\r\n            var f1 = future + t1 * present + payment * (t1 - 1) * (rate * type + 1) / rate;\r\n            var f2 = periods * t2 * present - payment * (t1 - 1) *(rate * type + 1) / Math.pow(rate,2);\r\n            var f3 = periods * payment * t2 * (rate * type + 1) / rate + payment * (t1 - 1) * type / rate;\r\n\r\n            var newRate = rate - f1 / (f2 + f3);\r\n\r\n            if (Math.abs(newRate - rate) < epsMax) close = true;\r\n            iter++\r\n            rate = newRate;\r\n        }\r\n\r\n        if (!close) return Number.NaN + rate;\r\n        return rate;\r\n    };\r\n\r\n    // TODO\r\n    exports.RECEIVED = null;\r\n\r\n    exports.RRI = function(periods, present, future) {\r\n        periods = utils.parseNumber(periods);\r\n        present = utils.parseNumber(present);\r\n        future = utils.parseNumber(future);\r\n        if (utils.anyIsError(periods, present, future)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if periods or present is equal to 0 (zero)\r\n        if (periods === 0 || present === 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return equivalent interest rate\r\n        return Math.pow(future / present, 1 / periods) - 1;\r\n    };\r\n\r\n    exports.SLN = function(cost, salvage, life) {\r\n        cost = utils.parseNumber(cost);\r\n        salvage = utils.parseNumber(salvage);\r\n        life = utils.parseNumber(life);\r\n        if (utils.anyIsError(cost, salvage, life)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if life equal to 0 (zero)\r\n        if (life === 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return straight-line depreciation\r\n        return (cost - salvage) / life;\r\n    };\r\n\r\n    exports.SYD = function(cost, salvage, life, period) {\r\n        // Return error if any of the parameters is not a number\r\n        cost = utils.parseNumber(cost);\r\n        salvage = utils.parseNumber(salvage);\r\n        life = utils.parseNumber(life);\r\n        period = utils.parseNumber(period);\r\n        if (utils.anyIsError(cost, salvage, life, period)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if life equal to 0 (zero)\r\n        if (life === 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if period is lower than 1 or greater than life\r\n        if (period < 1 || period > life) {\r\n            return error.num;\r\n        }\r\n\r\n        // Truncate period if it is not an integer\r\n        period = parseInt(period, 10);\r\n\r\n        // Return straight-line depreciation\r\n        return ((cost - salvage) * (life - period + 1) * 2) / (life * (life + 1));\r\n    };\r\n\r\n    exports.TBILLEQ = function(settlement, maturity, discount) {\r\n        settlement = utils.parseDate(settlement);\r\n        maturity = utils.parseDate(maturity);\r\n        discount = utils.parseNumber(discount);\r\n        if (utils.anyIsError(settlement, maturity, discount)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if discount is lower than or equal to zero\r\n        if (discount <= 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if settlement is greater than maturity\r\n        if (settlement > maturity) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if maturity is more than one year after settlement\r\n        if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return bond-equivalent yield\r\n        return (365 * discount) / (360 - discount * DAYS360(settlement, maturity, false));\r\n    };\r\n\r\n    exports.TBILLPRICE = function(settlement, maturity, discount) {\r\n        settlement = utils.parseDate(settlement);\r\n        maturity = utils.parseDate(maturity);\r\n        discount = utils.parseNumber(discount);\r\n        if (utils.anyIsError(settlement, maturity, discount)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if discount is lower than or equal to zero\r\n        if (discount <= 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if settlement is greater than maturity\r\n        if (settlement > maturity) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if maturity is more than one year after settlement\r\n        if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return bond-equivalent yield\r\n        return 100 * (1 - discount * DAYS360(settlement, maturity, false) / 360);\r\n    };\r\n\r\n    exports.TBILLYIELD = function(settlement, maturity, price) {\r\n        settlement = utils.parseDate(settlement);\r\n        maturity = utils.parseDate(maturity);\r\n        price = utils.parseNumber(price);\r\n        if (utils.anyIsError(settlement, maturity, price)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Return error if price is lower than or equal to zero\r\n        if (price <= 0) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if settlement is greater than maturity\r\n        if (settlement > maturity) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return error if maturity is more than one year after settlement\r\n        if (maturity - settlement > 365 * 24 * 60 * 60 * 1000) {\r\n            return error.num;\r\n        }\r\n\r\n        // Return bond-equivalent yield\r\n        return (100 - price) * 360 / (price * DAYS360(settlement, maturity, false));\r\n    };\r\n\r\n    exports.VDB = null;\r\n\r\n    exports.XIRR = function(values, dates, guess) {\r\n        // Credits: algorithm inspired by Apache OpenOffice\r\n\r\n        values = utils.parseNumberArray(utils.flatten(values));\r\n        dates = utils.parseDateArray(utils.flatten(dates));\r\n        guess = utils.parseNumber(guess);\r\n        if (utils.anyIsError(values, dates, guess)) {\r\n            return error.value;\r\n        }\r\n\r\n        // Calculates the resulting amount\r\n        var irrResult = function(values, dates, rate) {\r\n            var r = rate + 1;\r\n            var result = values[0];\r\n            for (var i = 1; i < values.length; i++) {\r\n                result += values[i] / Math.pow(r, DAYS(dates[i], dates[0]) / 365);\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // Calculates the first derivation\r\n        var irrResultDeriv = function(values, dates, rate) {\r\n            var r = rate + 1;\r\n            var result = 0;\r\n            for (var i = 1; i < values.length; i++) {\r\n                var frac = DAYS(dates[i], dates[0]) / 365;\r\n                result -= frac * values[i] / Math.pow(r, frac + 1);\r\n            }\r\n            return result;\r\n        };\r\n\r\n        // Check that values contains at least one positive value and one\r\n            // negative value\r\n        var positive = false;\r\n        var negative = false;\r\n        for (var i = 0; i < values.length; i++) {\r\n            if (values[i] > 0) {\r\n                positive = true;\r\n            }\r\n            if (values[i] < 0) {\r\n                negative = true;\r\n            }\r\n        }\r\n\r\n        // Return error if values does not contain at least one positive value\r\n            // and one negative value\r\n        if (!positive || !negative) {\r\n            return error.num;\r\n        }\r\n\r\n        // Initialize guess and resultRate\r\n        guess = guess || 0.1;\r\n        var resultRate = guess;\r\n\r\n        // Set maximum epsilon for end of iteration\r\n        var epsMax = 1e-10;\r\n\r\n        // Implement Newton's method\r\n        var newRate, epsRate, resultValue;\r\n        var contLoop = true;\r\n        do {\r\n            resultValue = irrResult(values, dates, resultRate);\r\n            newRate = resultRate - resultValue / irrResultDeriv(values, dates, resultRate);\r\n            epsRate = Math.abs(newRate - resultRate);\r\n            resultRate = newRate;\r\n            contLoop = (epsRate > epsMax) && (Math.abs(resultValue) > epsMax);\r\n        } while (contLoop);\r\n\r\n        // Return internal rate of return\r\n        return resultRate;\r\n    };\r\n\r\n    exports.XNPV = function(rate, values, dates) {\r\n        rate = utils.parseNumber(rate);\r\n        values = utils.parseNumberArray(utils.flatten(values));\r\n        dates = utils.parseDateArray(utils.flatten(dates));\r\n        if (utils.anyIsError(rate, values, dates)) {\r\n            return error.value;\r\n        }\r\n\r\n        var result = 0;\r\n        for (var i = 0; i < values.length; i++) {\r\n            result += values[i] / Math.pow(1 + rate, DAYS(dates[i], dates[0]) / 365);\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.YIELD = null;\r\n\r\n    exports.YIELDDISC = null;\r\n\r\n    exports.YIELDMAT = null;\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.information = (function() {\r\n    var exports = {};\r\n    exports.CELL = null;\r\n\r\n    exports.ERROR = {};\r\n    exports.ERROR.TYPE = function(error_val) {\r\n        switch (error_val) {\r\n            case error.nil: return 1;\r\n            case error.div0: return 2;\r\n            case error.value: return 3;\r\n            case error.ref: return 4;\r\n            case error.name: return 5;\r\n            case error.num: return 6;\r\n            case error.na: return 7;\r\n            case error.data: return 8;\r\n        }\r\n        return error.na;\r\n    };\r\n\r\n    exports.INFO = null;\r\n\r\n    exports.ISBLANK = function(value) {\r\n        return value === null;\r\n    };\r\n\r\n    exports.ISBINARY = function (number) {\r\n        return (/^[01]{1,10}$/).test(number);\r\n    };\r\n\r\n    exports.ISERR = function(value) {\r\n        return ([error.value, error.ref, error.div0, error.num, error.name, error.nil]).indexOf(value) >= 0 ||\r\n            (typeof value === 'number' && (isNaN(value) || !isFinite(value)));\r\n    };\r\n\r\n    exports.ISERROR = function(value) {\r\n        return exports.ISERR(value) || value === error.na;\r\n    };\r\n\r\n    exports.ISEVEN = function(number) {\r\n        return (Math.floor(Math.abs(number)) & 1) ? false : true;\r\n    };\r\n\r\n    // TODO\r\n    exports.ISFORMULA = null;\r\n\r\n    exports.ISLOGICAL = function(value) {\r\n        return value === true || value === false;\r\n    };\r\n\r\n    exports.ISNA = function(value) {\r\n        return value === error.na;\r\n    };\r\n\r\n    exports.ISNONTEXT = function(value) {\r\n        return typeof(value) !== 'string';\r\n    };\r\n\r\n    exports.ISNUMBER = function(value) {\r\n        return typeof(value) === 'number' && !isNaN(value) && isFinite(value);\r\n    };\r\n\r\n    exports.ISODD = function(number) {\r\n        return (Math.floor(Math.abs(number)) & 1) ? true : false;\r\n    };\r\n\r\n    exports.ISREF = null;\r\n\r\n    exports.ISTEXT = function(value) {\r\n        return typeof(value) === 'string';\r\n    };\r\n\r\n    exports.N = function(value) {\r\n        if (this.ISNUMBER(value)) {\r\n            return value;\r\n        }\r\n        if (value instanceof Date) {\r\n            return value.getTime();\r\n        }\r\n        if (value === true) {\r\n            return 1;\r\n        }\r\n        if (value === false) {\r\n            return 0;\r\n        }\r\n        if (this.ISERROR(value)) {\r\n            return value;\r\n        }\r\n        return 0;\r\n    };\r\n\r\n    exports.NA = function() {\r\n        return error.na;\r\n    };\r\n\r\n    exports.SHEET = null;\r\n\r\n    exports.SHEETS = null;\r\n\r\n    exports.TYPE = function(value) {\r\n        if (this.ISNUMBER(value)) {\r\n            return 1;\r\n        }\r\n        if (this.ISTEXT(value)) {\r\n            return 2;\r\n        }\r\n        if (this.ISLOGICAL(value)) {\r\n            return 4;\r\n        }\r\n        if (this.ISERROR(value)) {\r\n            return 16;\r\n        }\r\n        if (Array.isArray(value)) {\r\n            return 64;\r\n        }\r\n    };\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.logical = (function() {\r\n    var exports = {};\r\n\r\n    exports.AND = function() {\r\n        var args = utils.flatten(arguments);\r\n        var result = true;\r\n        for (var i = 0; i < args.length; i++) {\r\n            if (!args[i]) {\r\n                result = false;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.CHOOSE = function() {\r\n        if (arguments.length < 2) {\r\n            return error.na;\r\n        }\r\n\r\n        var index = arguments[0];\r\n        if (index < 1 || index > 254) {\r\n            return error.value;\r\n        }\r\n\r\n        if (arguments.length < index + 1) {\r\n            return error.value;\r\n        }\r\n\r\n        return arguments[index];\r\n    };\r\n\r\n    exports.FALSE = function() {\r\n        return false;\r\n    };\r\n\r\n    exports.IF = function(test, then_value, otherwise_value) {\r\n        return test ? then_value : otherwise_value;\r\n    };\r\n\r\n    exports.IFERROR = function(value, valueIfError) {\r\n        if (ISERROR(value)) {\r\n            return valueIfError;\r\n        }\r\n        return value;\r\n    };\r\n\r\n    exports.IFNA = function(value, value_if_na) {\r\n        return value === error.na ? value_if_na : value;\r\n    };\r\n\r\n    exports.NOT = function(logical) {\r\n        return !logical;\r\n    };\r\n\r\n    exports.OR = function() {\r\n        var args = utils.flatten(arguments);\r\n        var result = false;\r\n        for (var i = 0; i < args.length; i++) {\r\n            if (args[i]) {\r\n                result = true;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.TRUE = function() {\r\n        return true;\r\n    };\r\n\r\n    exports.XOR = function() {\r\n        var args = utils.flatten(arguments);\r\n        var result = 0;\r\n        for (var i = 0; i < args.length; i++) {\r\n            if (args[i]) {\r\n                result++;\r\n            }\r\n        }\r\n        return (Math.floor(Math.abs(result)) & 1) ? true : false;\r\n    };\r\n\r\n    exports.SWITCH = function() {\r\n        var result;\r\n        if (arguments.length > 0)  {\r\n            var targetValue = arguments[0];\r\n            var argc = arguments.length - 1;\r\n            var switchCount = Math.floor(argc / 2);\r\n            var switchSatisfied = false;\r\n            var defaultClause = argc % 2 === 0 ? null : arguments[arguments.length - 1];\r\n\r\n            if (switchCount) {\r\n                for (var index = 0; index < switchCount; index++) {\r\n                    if (targetValue === arguments[index * 2 + 1]) {\r\n                      result = arguments[index * 2 + 2];\r\n                      switchSatisfied = true;\r\n                      break;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (!switchSatisfied && defaultClause) {\r\n                result = defaultClause;\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.math = (function() {\r\n    var exports = {};\r\n\r\n    exports.ABS = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.abs(utils.parseNumber(number));\r\n    };\r\n\r\n    exports.ACOS = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.acos(number);\r\n    };\r\n\r\n    exports.ACOSH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.log(number + Math.sqrt(number * number - 1));\r\n    };\r\n\r\n    exports.ACOT = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.atan(1 / number);\r\n    };\r\n\r\n    exports.ACOTH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return 0.5 * Math.log((number + 1) / (number - 1));\r\n    };\r\n\r\n    exports.AGGREGATE = null\r\n\r\n    exports.ARABIC = function(text) {\r\n        // Credits: Rafa? Kukawski\r\n        if (!/^M*(?:D?C{0,3}|C[MD])(?:L?X{0,3}|X[CL])(?:V?I{0,3}|I[XV])$/.test(text)) {\r\n            return error.value;\r\n        }\r\n        var r = 0;\r\n        text.replace(/[MDLV]|C[MD]?|X[CL]?|I[XV]?/g, function(i) {\r\n            r += {\r\n                M: 1000,\r\n                CM: 900,\r\n                D: 500,\r\n                CD: 400,\r\n                C: 100,\r\n                XC: 90,\r\n                L: 50,\r\n                XL: 40,\r\n                X: 10,\r\n                IX: 9,\r\n                V: 5,\r\n                IV: 4,\r\n                I: 1\r\n            }[i];\r\n        });\r\n        return r;\r\n    };\r\n\r\n    exports.ASIN = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.asin(number);\r\n    };\r\n\r\n    exports.ASINH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.log(number + Math.sqrt(number * number + 1));\r\n    };\r\n\r\n    exports.ATAN = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.atan(number);\r\n    };\r\n\r\n    exports.ATAN2 = function(number_x, number_y) {\r\n        number_x = utils.parseNumber(number_x);\r\n        number_y = utils.parseNumber(number_y);\r\n        if (utils.anyIsError(number_x, number_y)) {\r\n            return error.value;\r\n        }\r\n        return Math.atan2(number_x, number_y);\r\n    };\r\n\r\n    exports.ATANH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.log((1 + number) / (1 - number)) / 2;\r\n    };\r\n\r\n    exports.BASE = function(number, radix, min_length) {\r\n        min_length = min_length || 0;\r\n\r\n        number = utils.parseNumber(number);\r\n        radix = utils.parseNumber(radix);\r\n        min_length = utils.parseNumber(min_length);\r\n        if (utils.anyIsError(number, radix, min_length)) {\r\n            return error.value;\r\n        }\r\n        min_length = (min_length === undefined) ? 0 : min_length;\r\n        var result = number.toString(radix);\r\n        return new Array(Math.max(min_length + 1 - result.length, 0)).join('0') + result;\r\n    };\r\n\r\n    exports.CEILING = function(number, significance, mode) {\r\n        significance = (significance === undefined) ? 1 : significance;\r\n        mode = (mode === undefined) ? 0 : mode;\r\n\r\n        number = utils.parseNumber(number);\r\n        significance = utils.parseNumber(significance);\r\n        mode = utils.parseNumber(mode);\r\n        if (utils.anyIsError(number, significance, mode)) {\r\n            return error.value;\r\n        }\r\n        if (significance === 0) {\r\n            return 0;\r\n        }\r\n\r\n        significance = Math.abs(significance);\r\n        if (number >= 0) {\r\n            return Math.ceil(number / significance) * significance;\r\n        } else {\r\n            if (mode === 0) {\r\n                return -1 * Math.floor(Math.abs(number) / significance) * significance;\r\n            } else {\r\n                return -1 * Math.ceil(Math.abs(number) / significance) * significance;\r\n            }\r\n        }\r\n    };\r\n\r\n    exports.CEILING.MATH = exports.CEILING;\r\n\r\n    exports.CEILING.PRECISE = exports.CEILING;\r\n\r\n    exports.COMBIN = function(number, number_chosen) {\r\n        number = utils.parseNumber(number);\r\n        number_chosen = utils.parseNumber(number_chosen);\r\n        if (utils.anyIsError(number, number_chosen)) {\r\n            return error.value;\r\n        }\r\n        return exports.FACT(number) / (exports.FACT(number_chosen) * exports.FACT(number - number_chosen));\r\n    };\r\n\r\n    exports.COMBINA = function(number, number_chosen) {\r\n        number = utils.parseNumber(number);\r\n        number_chosen = utils.parseNumber(number_chosen);\r\n        if (utils.anyIsError(number, number_chosen)) {\r\n            return error.value;\r\n        }\r\n        return (number === 0 && number_chosen === 0) ? 1 : exports.COMBIN(number + number_chosen - 1, number - 1);\r\n    };\r\n\r\n    exports.COS = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.cos(number);\r\n    };\r\n\r\n    exports.COSH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return (Math.exp(number) + Math.exp(-number)) / 2;\r\n    };\r\n\r\n    exports.COT = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return 1 / Math.tan(number);\r\n    };\r\n\r\n    exports.COTH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        var e2 = Math.exp(2 * number);\r\n        return (e2 + 1) / (e2 - 1);\r\n    };\r\n\r\n    exports.CSC = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return 1 / Math.sin(number);\r\n    };\r\n\r\n    exports.CSCH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return 2 / (Math.exp(number) - Math.exp(-number));\r\n    };\r\n\r\n    exports.DECIMAL = function(number, radix) {\r\n        if (arguments.length < 1) {\r\n            return error.value;\r\n        }\r\n\r\n\r\n        return parseInt(number, radix);\r\n    };\r\n\r\n    exports.DEGREES = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return number * 180 / Math.PI;\r\n    };\r\n\r\n    exports.EVEN = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return exports.CEILING(number, -2, -1);\r\n    };\r\n\r\n    exports.EXP = Math.exp;\r\n\r\n    var MEMOIZED_FACT = [];\r\n    exports.FACT = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        var n = Math.floor(number);\r\n        if (n === 0 || n === 1) {\r\n            return 1;\r\n        } else if (MEMOIZED_FACT[n] > 0) {\r\n            return MEMOIZED_FACT[n];\r\n        } else {\r\n            MEMOIZED_FACT[n] = exports.FACT(n - 1) * n;\r\n            return MEMOIZED_FACT[n];\r\n        }\r\n    };\r\n\r\n    exports.FACTDOUBLE = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        var n = Math.floor(number);\r\n        if (n <= 0) {\r\n            return 1;\r\n        } else {\r\n            return n * exports.FACTDOUBLE(n - 2);\r\n        }\r\n    };\r\n\r\n    exports.FLOOR = function(number, significance, mode) {\r\n        significance = (significance === undefined) ? 1 : significance;\r\n        mode = (mode === undefined) ? 0 : mode;\r\n\r\n        number = utils.parseNumber(number);\r\n        significance = utils.parseNumber(significance);\r\n        mode = utils.parseNumber(mode);\r\n        if (utils.anyIsError(number, significance, mode)) {\r\n            return error.value;\r\n        }\r\n        if (significance === 0) {\r\n            return 0;\r\n        }\r\n\r\n        significance = Math.abs(significance);\r\n        if (number >= 0) {\r\n            return Math.floor(number / significance) * significance;\r\n        } else {\r\n            if (mode === 0) {\r\n                return -1 * Math.ceil(Math.abs(number) / significance) * significance;\r\n            } else {\r\n                return -1 * Math.floor(Math.abs(number) / significance) * significance;\r\n            }\r\n        }\r\n    };\r\n\r\n    exports.FLOOR.MATH = exports.FLOOR;\r\n\r\n    exports.GCD = null;\r\n\r\n    exports.INT = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.floor(number);\r\n    };\r\n\r\n    exports.LCM = function() {\r\n        // Credits: Jonas Raoni Soares Silva\r\n        var o = utils.parseNumberArray(utils.flatten(arguments));\r\n        if (o instanceof Error) {\r\n            return o;\r\n        }\r\n        for (var i, j, n, d, r = 1;\r\n            (n = o.pop()) !== undefined;) {\r\n            while (n > 1) {\r\n                if (n % 2) {\r\n                    for (i = 3, j = Math.floor(Math.sqrt(n)); i <= j && n % i; i += 2) {\r\n                      //empty\r\n                    }\r\n                    d = (i <= j) ? i : n;\r\n                } else {\r\n                    d = 2;\r\n                }\r\n                for (n /= d, r *= d, i = o.length; i;\r\n                    (o[--i] % d) === 0 && (o[i] /= d) === 1 && o.splice(i, 1)) {\r\n                    //empty\r\n                }\r\n            }\r\n        }\r\n        return r;\r\n    };\r\n\r\n    exports.LN = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.log(number);\r\n    };\r\n\r\n    exports.LOG = function(number, base) {\r\n        number = utils.parseNumber(number);\r\n        base = (base === undefined) ? 10 : utils.parseNumber(base);\r\n\r\n        if (utils.anyIsError(number, base)) {\r\n            return error.value;\r\n        }\r\n\r\n        return Math.log(number) / Math.log(base);\r\n    };\r\n\r\n    exports.LOG10 = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.log(number) / Math.log(10);\r\n    };\r\n\r\n    exports.MDETERM = null;\r\n\r\n    exports.MINVERSE = null;\r\n\r\n    exports.MMULT = null;\r\n\r\n    exports.MOD = function(dividend, divisor) {\r\n        dividend = utils.parseNumber(dividend);\r\n        divisor = utils.parseNumber(divisor);\r\n        if (utils.anyIsError(dividend, divisor)) {\r\n            return error.value;\r\n        }\r\n        if (divisor === 0) {\r\n            return error.div0;\r\n        }\r\n        var modulus = Math.abs(dividend % divisor);\r\n        return (divisor > 0) ? modulus : -modulus;\r\n    };\r\n\r\n    exports.MROUND = function(number, multiple) {\r\n        number = utils.parseNumber(number);\r\n        multiple = utils.parseNumber(multiple);\r\n        if (utils.anyIsError(number, multiple)) {\r\n            return error.value;\r\n        }\r\n        if (number * multiple < 0) {\r\n            return error.num;\r\n        }\r\n\r\n        return Math.round(number / multiple) * multiple;\r\n    };\r\n\r\n    exports.MULTINOMIAL = function() {\r\n        var args = utils.parseNumberArray(utils.flatten(arguments));\r\n        if (args instanceof Error) {\r\n            return args;\r\n        }\r\n        var sum = 0;\r\n        var divisor = 1;\r\n        for (var i = 0; i < args.length; i++) {\r\n            sum += args[i];\r\n            divisor *= exports.FACT(args[i]);\r\n        }\r\n        return exports.FACT(sum) / divisor;\r\n    };\r\n\r\n    exports.MUNIT = null;\r\n\r\n    exports.ODD = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        var temp = Math.ceil(Math.abs(number));\r\n        temp = (temp & 1) ? temp : temp + 1;\r\n        return (number > 0) ? temp : -temp;\r\n    };\r\n\r\n    exports.PI = function() {\r\n        return Math.PI;\r\n    };\r\n\r\n    exports.POWER = function(number, power) {\r\n        number = utils.parseNumber(number);\r\n        power = utils.parseNumber(power);\r\n        if (utils.anyIsError(number, power)) {\r\n            return error.value;\r\n        }\r\n        var result = Math.pow(number, power);\r\n        if (isNaN(result)) {\r\n            return error.num;\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    exports.PRODUCT = function() {\r\n        var args = utils.parseNumberArray(utils.flatten(arguments));\r\n        if (args instanceof Error) {\r\n            return args;\r\n        }\r\n        var result = 1;\r\n        for (var i = 0; i < args.length; i++) {\r\n            result *= args[i];\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.QUOTIENT = function(numerator, denominator) {\r\n        numerator = utils.parseNumber(numerator);\r\n        denominator = utils.parseNumber(denominator);\r\n        if (utils.anyIsError(numerator, denominator)) {\r\n            return error.value;\r\n        }\r\n        return parseInt(numerator / denominator, 10);\r\n    };\r\n\r\n    exports.RADIANS = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return number * Math.PI / 180;\r\n    };\r\n\r\n    exports.RAND = function() {\r\n        return Math.random();\r\n    };\r\n\r\n    exports.RANDBETWEEN = function(bottom, top) {\r\n        bottom = utils.parseNumber(bottom);\r\n        top = utils.parseNumber(top);\r\n        if (utils.anyIsError(bottom, top)) {\r\n            return error.value;\r\n        }\r\n        // Creative Commons Attribution 3.0 License\r\n        // Copyright (c) 2012 eqcode\r\n        return bottom + Math.ceil((top - bottom + 1) * Math.random()) - 1;\r\n    };\r\n\r\n    exports.ROMAN = null;\r\n\r\n    exports.ROUND = function(number, digits) {\r\n        number = utils.parseNumber(number);\r\n        digits = utils.parseNumber(digits);\r\n        if (utils.anyIsError(number, digits)) {\r\n            return error.value;\r\n        }\r\n        return Math.round(number * Math.pow(10, digits)) / Math.pow(10, digits);\r\n    };\r\n\r\n    exports.ROUNDDOWN = function(number, digits) {\r\n        number = utils.parseNumber(number);\r\n        digits = utils.parseNumber(digits);\r\n        if (utils.anyIsError(number, digits)) {\r\n            return error.value;\r\n        }\r\n        var sign = (number > 0) ? 1 : -1;\r\n        return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\r\n    };\r\n\r\n    exports.ROUNDUP = function(number, digits) {\r\n        number = utils.parseNumber(number);\r\n        digits = utils.parseNumber(digits);\r\n        if (utils.anyIsError(number, digits)) {\r\n            return error.value;\r\n        }\r\n        var sign = (number > 0) ? 1 : -1;\r\n        return sign * (Math.ceil(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\r\n    };\r\n\r\n    exports.SEC = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return 1 / Math.cos(number);\r\n    };\r\n\r\n    exports.SECH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return 2 / (Math.exp(number) + Math.exp(-number));\r\n    };\r\n\r\n    exports.SERIESSUM = function(x, n, m, coefficients) {\r\n        x = utils.parseNumber(x);\r\n        n = utils.parseNumber(n);\r\n        m = utils.parseNumber(m);\r\n        coefficients = utils.parseNumberArray(coefficients);\r\n        if (utils.anyIsError(x, n, m, coefficients)) {\r\n            return error.value;\r\n        }\r\n        var result = coefficients[0] * Math.pow(x, n);\r\n        for (var i = 1; i < coefficients.length; i++) {\r\n            result += coefficients[i] * Math.pow(x, n + i * m);\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.SIGN = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        if (number < 0) {\r\n            return -1;\r\n        } else if (number === 0) {\r\n            return 0;\r\n        } else {\r\n            return 1;\r\n        }\r\n    };\r\n\r\n    exports.SIN = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.sin(number);\r\n    };\r\n\r\n    exports.SINH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return (Math.exp(number) - Math.exp(-number)) / 2;\r\n    };\r\n\r\n    exports.SQRT = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        if (number < 0) {\r\n            return error.num;\r\n        }\r\n        return Math.sqrt(number);\r\n    };\r\n\r\n    exports.SQRTPI = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.sqrt(number * Math.PI);\r\n    };\r\n\r\n    exports.SUBTOTAL = null;\r\n\r\n    exports.ADD = function (num1, num2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        num1 = utils.parseNumber(num1);\r\n        num2 = utils.parseNumber(num2);\r\n        if (utils.anyIsError(num1, num2)) {\r\n            return error.value;\r\n        }\r\n\r\n        return num1 + num2;\r\n    };\r\n\r\n    exports.MINUS = function (num1, num2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        num1 = utils.parseNumber(num1);\r\n        num2 = utils.parseNumber(num2);\r\n        if (utils.anyIsError(num1, num2)) {\r\n            return error.value;\r\n        }\r\n\r\n        return num1 - num2;\r\n    };\r\n\r\n    exports.DIVIDE = function (dividend, divisor) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        dividend = utils.parseNumber(dividend);\r\n        divisor = utils.parseNumber(divisor);\r\n        if (utils.anyIsError(dividend, divisor)) {\r\n            return error.value;\r\n        }\r\n\r\n        if (divisor === 0) {\r\n            return error.div0;\r\n        }\r\n\r\n        return dividend / divisor;\r\n    };\r\n\r\n    exports.MULTIPLY = function (factor1, factor2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        factor1 = utils.parseNumber(factor1);\r\n        factor2 = utils.parseNumber(factor2);\r\n        if (utils.anyIsError(factor1, factor2)) {\r\n            return error.value;\r\n        }\r\n\r\n        return factor1 * factor2;\r\n    };\r\n\r\n    exports.GTE = function (num1, num2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        num1 = utils.parseNumber(num1);\r\n        num2 = utils.parseNumber(num2);\r\n        if (utils.anyIsError(num1, num2)) {\r\n            return error.error;\r\n        }\r\n\r\n        return num1 >= num2;\r\n    };\r\n\r\n    exports.LT = function (num1, num2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        num1 = utils.parseNumber(num1);\r\n        num2 = utils.parseNumber(num2);\r\n        if (utils.anyIsError(num1, num2)) {\r\n            return error.error;\r\n        }\r\n\r\n        return num1 < num2;\r\n    };\r\n\r\n    exports.LTE = function (num1, num2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        num1 = utils.parseNumber(num1);\r\n        num2 = utils.parseNumber(num2);\r\n        if (utils.anyIsError(num1, num2)) {\r\n            return error.error;\r\n        }\r\n\r\n        return num1 <= num2;\r\n    };\r\n\r\n    exports.EQ = function (value1, value2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        return value1 === value2;\r\n    };\r\n\r\n    exports.NE = function (value1, value2) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        return value1 !== value2;\r\n    };\r\n\r\n    exports.POW = function (base, exponent) {\r\n        if (arguments.length !== 2) {\r\n            return error.na;\r\n        }\r\n\r\n        base = utils.parseNumber(base);\r\n        exponent = utils.parseNumber(exponent);\r\n        if (utils.anyIsError(base, exponent)) {\r\n            return error.error;\r\n        }\r\n\r\n        return exports.POWER(base, exponent);\r\n    };\r\n\r\n    exports.SUM = function() {\r\n        var result = 0;\r\n        var argsKeys = Object.keys(arguments);\r\n        for (var i = 0; i < argsKeys.length; ++i) {\r\n            var elt = arguments[argsKeys[i]];\r\n            if (typeof elt === 'number') {\r\n                result += elt;\r\n            } else if (typeof elt === 'string') {\r\n                var parsed = parseFloat(elt);\r\n                !isNaN(parsed) && (result += parsed);\r\n            } else if (Array.isArray(elt)) {\r\n                result += exports.SUM.apply(null, elt);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.SUMIF = function(range, criteria) {\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        if (range instanceof Error) {\r\n            return range;\r\n        }\r\n        var result = 0;\r\n        for (var i = 0; i < range.length; i++) {\r\n            result += (eval(range[i] + criteria)) ? range[i] : 0; // jshint ignore:line\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.SUMIFS = function() {\r\n        var args = utils.argsToArray(arguments);\r\n        var range = utils.parseNumberArray(utils.flatten(args.shift()));\r\n        if (range instanceof Error) {\r\n            return range;\r\n        }\r\n        var criteria = args;\r\n\r\n        var n_range_elements = range.length;\r\n        var n_criterias = criteria.length;\r\n\r\n        var result = 0;\r\n        for (var i = 0; i < n_range_elements; i++) {\r\n            var el = range[i];\r\n            var condition = '';\r\n            for (var c = 0; c < n_criterias; c++) {\r\n                condition += el + criteria[c];\r\n                if (c !== n_criterias - 1) {\r\n                    condition += '&&';\r\n                }\r\n            }\r\n            if (eval(condition)) { // jshint ignore:line\r\n                result += el;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.SUMPRODUCT = null;\r\n\r\n    exports.SUMSQ = function() {\r\n        var numbers = utils.parseNumberArray(utils.flatten(arguments));\r\n        if (numbers instanceof Error) {\r\n            return numbers;\r\n        }\r\n        var result = 0;\r\n        var length = numbers.length;\r\n        for (var i = 0; i < length; i++) {\r\n            result += (ISNUMBER(numbers[i])) ? numbers[i] * numbers[i] : 0;\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.SUMX2MY2 = function(array_x, array_y) {\r\n        array_x = utils.parseNumberArray(utils.flatten(array_x));\r\n        array_y = utils.parseNumberArray(utils.flatten(array_y));\r\n        if (utils.anyIsError(array_x, array_y)) {\r\n            return error.value;\r\n        }\r\n        var result = 0;\r\n        for (var i = 0; i < array_x.length; i++) {\r\n            result += array_x[i] * array_x[i] - array_y[i] * array_y[i];\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.SUMX2PY2 = function(array_x, array_y) {\r\n        array_x = utils.parseNumberArray(utils.flatten(array_x));\r\n        array_y = utils.parseNumberArray(utils.flatten(array_y));\r\n        if (utils.anyIsError(array_x, array_y)) {\r\n            return error.value;\r\n        }\r\n        var result = 0;\r\n        array_x = utils.parseNumberArray(utils.flatten(array_x));\r\n        array_y = utils.parseNumberArray(utils.flatten(array_y));\r\n        for (var i = 0; i < array_x.length; i++) {\r\n            result += array_x[i] * array_x[i] + array_y[i] * array_y[i];\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.SUMXMY2 = function(array_x, array_y) {\r\n        array_x = utils.parseNumberArray(utils.flatten(array_x));\r\n        array_y = utils.parseNumberArray(utils.flatten(array_y));\r\n        if (utils.anyIsError(array_x, array_y)) {\r\n            return error.value;\r\n        }\r\n        var result = 0;\r\n        array_x = utils.flatten(array_x);\r\n        array_y = utils.flatten(array_y);\r\n        for (var i = 0; i < array_x.length; i++) {\r\n            result += Math.pow(array_x[i] - array_y[i], 2);\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.TAN = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return Math.tan(number);\r\n    };\r\n\r\n    exports.TANH = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        var e2 = Math.exp(2 * number);\r\n        return (e2 - 1) / (e2 + 1);\r\n    };\r\n\r\n    exports.TRUNC = function(number, digits) {\r\n        digits = (digits === undefined) ? 0 : digits;\r\n        number = utils.parseNumber(number);\r\n        digits = utils.parseNumber(digits);\r\n        if (utils.anyIsError(number, digits)) {\r\n            return error.value;\r\n        }\r\n        var sign = (number > 0) ? 1 : -1;\r\n        return sign * (Math.floor(Math.abs(number) * Math.pow(10, digits))) / Math.pow(10, digits);\r\n    };\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.misc = (function() {\r\n    var exports = {};\r\n\r\n    exports.UNIQUE = function () {\r\n        var result = [];\r\n        for (var i = 0; i < arguments.length; ++i) {\r\n            var hasElement = false;\r\n            var element = arguments[i];\r\n\r\n            // Check if we've already seen this element.\r\n            for (var j = 0; j < result.length; ++j) {\r\n                hasElement = result[j] === element;\r\n                if (hasElement) { break; }\r\n            }\r\n\r\n            // If we did not find it, add it to the result.\r\n            if (!hasElement) {\r\n                result.push(element);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.FLATTEN = utils.flatten;\r\n\r\n    exports.ARGS2ARRAY = function () {\r\n        return Array.prototype.slice.call(arguments, 0);\r\n    };\r\n\r\n    exports.REFERENCE = function (context, reference) {\r\n        try {\r\n            var path = reference.split('.');\r\n            var result = context;\r\n            for (var i = 0; i < path.length; ++i) {\r\n                var step = path[i];\r\n                if (step[step.length - 1] === ']') {\r\n                    var opening = step.indexOf('[');\r\n                    var index = step.substring(opening + 1, step.length - 1);\r\n                    result = result[step.substring(0, opening)][index];\r\n                } else {\r\n                    result = result[step];\r\n                }\r\n            }\r\n            return result;\r\n        } catch (error) {}\r\n    };\r\n\r\n    exports.JOIN = function (array, separator) {\r\n        return array.join(separator);\r\n    };\r\n\r\n    exports.NUMBERS = function () {\r\n        var possibleNumbers = utils.flatten(arguments);\r\n        return possibleNumbers.filter(function (el) {\r\n            return typeof el === 'number';\r\n        });\r\n    };\r\n\r\n    exports.NUMERAL = null;\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.text = (function() {\r\n    var exports = {};\r\n\r\n    exports.ASC = null;\r\n\r\n    exports.BAHTTEXT = null;\r\n\r\n    exports.CHAR = function(number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return String.fromCharCode(number);\r\n    };\r\n\r\n    exports.CLEAN = function(text) {\r\n        text = text || '';\r\n        var re = /[\\0-\\x1F]/g;\r\n        return text.replace(re, \"\");\r\n    };\r\n\r\n    exports.CODE = function(text) {\r\n        text = text || '';\r\n        return text.charCodeAt(0);\r\n    };\r\n\r\n    exports.CONCATENATE = function() {\r\n        var args = utils.flatten(arguments);\r\n\r\n        var trueFound = 0;\r\n        while ((trueFound = args.indexOf(true)) > -1) {\r\n            args[trueFound] = 'TRUE';\r\n        }\r\n\r\n        var falseFound = 0;\r\n        while ((falseFound = args.indexOf(false)) > -1) {\r\n            args[falseFound] = 'FALSE';\r\n        }\r\n\r\n        return args.join('');\r\n    };\r\n\r\n    exports.DBCS = null;\r\n\r\n    exports.DOLLAR = null;\r\n\r\n    exports.EXACT = function(text1, text2) {\r\n        return text1 === text2;\r\n    };\r\n\r\n    exports.FIND = function(find_text, within_text, position) {\r\n        position = (position === undefined) ? 0 : position;\r\n        return within_text ? within_text.indexOf(find_text, position - 1) + 1 : null;\r\n    };\r\n\r\n    exports.FIXED = null;\r\n\r\n    exports.HTML2TEXT = function (value) {\r\n        var result = '';\r\n\r\n        if (value) {\r\n            if (value instanceof Array) {\r\n                value.forEach(function (line) {\r\n                    if (result !== '') {\r\n                      result += '\\n';\r\n                    }\r\n                    result += (line.replace(/<(?:.|\\n)*?>/gm, ''));\r\n                });\r\n            } else {\r\n                result = value.replace(/<(?:.|\\n)*?>/gm, '');\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    exports.LEFT = function(text, number) {\r\n        number = (number === undefined) ? 1 : number;\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error || typeof text !== 'string') {\r\n            return error.value;\r\n        }\r\n        return text ? text.substring(0, number) : null;\r\n    };\r\n\r\n    exports.LEN = function(text) {\r\n        if (arguments.length === 0) {\r\n            return error.error;\r\n        }\r\n\r\n        if (typeof text === 'string') {\r\n            return text ? text.length : 0;\r\n        }\r\n\r\n        if (text.length) {\r\n            return text.length;\r\n        }\r\n\r\n        return error.value;\r\n    };\r\n\r\n    exports.LOWER = function(text) {\r\n        if (typeof text !== 'string') {\r\n            return error.value;\r\n        }\r\n        return text ? text.toLowerCase() : text;\r\n    };\r\n\r\n    exports.MID = function(text, start, number) {\r\n        start = utils.parseNumber(start);\r\n        number = utils.parseNumber(number);\r\n        if (utils.anyIsError(start, number) || typeof text !== 'string') {\r\n            return number;\r\n        }\r\n\r\n        var begin = start - 1;\r\n        var end = begin + number;\r\n\r\n        return text.substring(begin, end);\r\n    };\r\n\r\n    exports.NUMBERVALUE = null;\r\n\r\n    exports.PRONETIC = null;\r\n\r\n    exports.PROPER = function(text) {\r\n        if (text === undefined || text.length === 0) {\r\n            return error.value;\r\n        }\r\n        if (text === true) {\r\n            text = 'TRUE';\r\n        }\r\n        if (text === false) {\r\n            text = 'FALSE';\r\n        }\r\n        if (isNaN(text) && typeof text === 'number') {\r\n            return error.value;\r\n        }\r\n        if (typeof text === 'number') {\r\n            text = '' + text;\r\n        }\r\n\r\n        return text.replace(/\\w\\S*/g, function(txt) {\r\n            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\r\n        });\r\n    };\r\n\r\n    exports.REGEXEXTRACT = function (text, regular_expression) {\r\n        var match = text.match(new RegExp(regular_expression));\r\n        return match ? (match[match.length > 1 ? match.length - 1 : 0]) : null;\r\n    };\r\n\r\n    exports.REGEXMATCH = function (text, regular_expression, full) {\r\n        var match = text.match(new RegExp(regular_expression));\r\n        return full ? match : !!match;\r\n    };\r\n\r\n    exports.REGEXREPLACE = function (text, regular_expression, replacement) {\r\n        return text.replace(new RegExp(regular_expression), replacement);\r\n    };\r\n\r\n    exports.REPLACE = function(text, position, length, new_text) {\r\n        position = utils.parseNumber(position);\r\n        length = utils.parseNumber(length);\r\n        if (utils.anyIsError(position, length) ||\r\n            typeof text !== 'string' ||\r\n            typeof new_text !== 'string') {\r\n            return error.value;\r\n        }\r\n        return text.substr(0, position - 1) + new_text + text.substr(position - 1 + length);\r\n    };\r\n\r\n    exports.REPT = function(text, number) {\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return new Array(number + 1).join(text);\r\n    };\r\n\r\n    exports.RIGHT = function(text, number) {\r\n        number = (number === undefined) ? 1 : number;\r\n        number = utils.parseNumber(number);\r\n        if (number instanceof Error) {\r\n            return number;\r\n        }\r\n        return text ? text.substring(text.length - number) : null;\r\n    };\r\n\r\n    exports.SEARCH = function(find_text, within_text, position) {\r\n        var foundAt;\r\n        if (typeof find_text !== 'string' || typeof within_text !== 'string') {\r\n            return error.value;\r\n        }\r\n        position = (position === undefined) ? 0 : position;\r\n        foundAt = within_text.toLowerCase().indexOf(find_text.toLowerCase(), position - 1)+1;\r\n        return (foundAt === 0)?error.value:foundAt;\r\n    };\r\n\r\n    exports.SPLIT = function (text, separator) {\r\n        return text.split(separator);\r\n    };\r\n\r\n    exports.SUBSTITUTE = function(text, old_text, new_text, occurrence) {\r\n        if (!text || !old_text || !new_text) {\r\n            return text;\r\n        } else if (occurrence === undefined) {\r\n            return text.replace(new RegExp(old_text, 'g'), new_text);\r\n        } else {\r\n            var index = 0;\r\n            var i = 0;\r\n            while (text.indexOf(old_text, index) > 0) {\r\n                index = text.indexOf(old_text, index + 1);\r\n                i++;\r\n                if (i === occurrence) {\r\n                    return text.substring(0, index) + new_text + text.substring(index + old_text.length);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    exports.T = function(value) {\r\n        return (typeof value === \"string\") ? value : '';\r\n    };\r\n\r\n    exports.TEXT = null;\r\n\r\n    exports.TRIM = function(text) {\r\n        if (typeof text !== 'string') {\r\n            return error.value;\r\n        }\r\n        return text.replace(/ +/g, ' ').trim();\r\n    };\r\n\r\n    exports.UNICHAR = exports.CHAR;\r\n\r\n    exports.UNICODE = exports.CODE;\r\n\r\n    exports.UPPER = function(text) {\r\n        if (typeof text !== 'string') {\r\n            return error.value;\r\n        }\r\n        return text.toUpperCase();\r\n    };\r\n\r\n    exports.VALUE = null;\r\n\r\n    return exports;\r\n})();\r\n\r\njexcel.methods.stats = (function() {\r\n    var exports = {};\r\n\r\n    var SQRT2PI = 2.5066282746310002;\r\n\r\n    exports.AVEDEV = null;\r\n\r\n    exports.AVERAGE = function() {\r\n        var range = utils.numbers(utils.flatten(arguments));\r\n        var n = range.length;\r\n        var sum = 0;\r\n        var count = 0;\r\n        for (var i = 0; i < n; i++) {\r\n            sum += range[i];\r\n            count += 1;\r\n        }\r\n        return sum / count;\r\n    };\r\n\r\n    exports.AVERAGEA = function() {\r\n        var range = utils.flatten(arguments);\r\n        var n = range.length;\r\n        var sum = 0;\r\n        var count = 0;\r\n        for (var i = 0; i < n; i++) {\r\n            var el = range[i];\r\n            if (typeof el === 'number') {\r\n                sum += el;\r\n            }\r\n            if (el === true) {\r\n                sum++;\r\n            }\r\n            if (el !== null) {\r\n                count++;\r\n            }\r\n        }\r\n        return sum / count;\r\n    };\r\n\r\n    exports.AVERAGEIF = function(range, criteria, average_range) {\r\n        average_range = average_range || range;\r\n        range = utils.flatten(range);\r\n        average_range = utils.parseNumberArray(utils.flatten(average_range));\r\n        if (average_range instanceof Error) {\r\n            return average_range;\r\n        }\r\n        var average_count = 0;\r\n        var result = 0;\r\n        for (var i = 0; i < range.length; i++) {\r\n            if (eval(range[i] + criteria)) { // jshint ignore:line\r\n                result += average_range[i];\r\n                average_count++;\r\n            }\r\n        }\r\n        return result / average_count;\r\n    };\r\n\r\n    exports.AVERAGEIFS = null;\r\n\r\n    exports.COUNT = function() {\r\n        return utils.numbers(utils.flatten(arguments)).length;\r\n    };\r\n\r\n    exports.COUNTA = function() {\r\n        var range = utils.flatten(arguments);\r\n        return range.length - exports.COUNTBLANK(range);\r\n    };\r\n\r\n    exports.COUNTIN = function (range, value) {\r\n        var result = 0;\r\n        for (var i = 0; i < range.length; i++) {\r\n            if (range[i] === value) {\r\n                result++;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.COUNTBLANK = function() {\r\n        var range = utils.flatten(arguments);\r\n        var blanks = 0;\r\n        var element;\r\n        for (var i = 0; i < range.length; i++) {\r\n            element = range[i];\r\n            if (element === null || element === '') {\r\n                blanks++;\r\n            }\r\n        }\r\n        return blanks;\r\n    };\r\n\r\n    exports.COUNTIF = function(range, criteria) {\r\n        range = utils.flatten(range);\r\n        if (!/[<>=!]/.test(criteria)) {\r\n            criteria = '==\"' + criteria + '\"';\r\n        }\r\n        var matches = 0;\r\n        for (var i = 0; i < range.length; i++) {\r\n            if (typeof range[i] !== 'string') {\r\n                if (eval(range[i] + criteria)) { // jshint ignore:line\r\n                    matches++;\r\n                }\r\n            } else {\r\n                if (eval('\"' + range[i] + '\"' + criteria)) { // jshint ignore:line\r\n                    matches++;\r\n                }\r\n            }\r\n        }\r\n        return matches;\r\n    };\r\n\r\n    exports.COUNTIFS = function() {\r\n        var args = utils.argsToArray(arguments);\r\n        var results = new Array(utils.flatten(args[0]).length);\r\n        for (var i = 0; i < results.length; i++) {\r\n            results[i] = true;\r\n        }\r\n        for (i = 0; i < args.length; i += 2) {\r\n            var range = utils.flatten(args[i]);\r\n            var criteria = args[i + 1];\r\n            if (!/[<>=!]/.test(criteria)) {\r\n                criteria = '==\"' + criteria + '\"';\r\n            }\r\n            for (var j = 0; j < range.length; j++) {\r\n                if (typeof range[j] !== 'string') {\r\n                    results[j] = results[j] && eval(range[j] + criteria); // jshint ignore:line\r\n                } else {\r\n                    results[j] = results[j] && eval('\"' + range[j] + '\"' + criteria); // jshint ignore:line\r\n                }\r\n            }\r\n        }\r\n        var result = 0;\r\n        for (i = 0; i < results.length; i++) {\r\n            if (results[i]) {\r\n                result++;\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.COUNTUNIQUE = function () {\r\n        return UNIQUE.apply(null, utils.flatten(arguments)).length;\r\n    };\r\n\r\n    exports.FISHER = function(x) {\r\n        x = utils.parseNumber(x);\r\n        if (x instanceof Error) {\r\n            return x;\r\n        }\r\n        return Math.log((1 + x) / (1 - x)) / 2;\r\n    };\r\n\r\n    exports.FISHERINV = function(y) {\r\n        y = utils.parseNumber(y);\r\n        if (y instanceof Error) {\r\n            return y;\r\n        }\r\n        var e2y = Math.exp(2 * y);\r\n        return (e2y - 1) / (e2y + 1);\r\n    };\r\n\r\n    exports.FREQUENCY = function(data, bins) {\r\n        data = utils.parseNumberArray(utils.flatten(data));\r\n        bins = utils.parseNumberArray(utils.flatten(bins));\r\n        if (utils.anyIsError(data, bins)) {\r\n            return error.value;\r\n        }\r\n        var n = data.length;\r\n        var b = bins.length;\r\n        var r = [];\r\n        for (var i = 0; i <= b; i++) {\r\n            r[i] = 0;\r\n            for (var j = 0; j < n; j++) {\r\n                if (i === 0) {\r\n                    if (data[j] <= bins[0]) {\r\n                        r[0] += 1;\r\n                    }\r\n                } else if (i < b) {\r\n                    if (data[j] > bins[i - 1] && data[j] <= bins[i]) {\r\n                        r[i] += 1;\r\n                    }\r\n                } else if (i === b) {\r\n                    if (data[j] > bins[b - 1]) {\r\n                        r[b] += 1;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return r;\r\n    };\r\n\r\n    exports.LARGE = function(range, k) {\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        k = utils.parseNumber(k);\r\n        if (utils.anyIsError(range, k)) {\r\n            return range;\r\n        }\r\n        return range.sort(function(a, b) {\r\n            return b - a;\r\n        })[k - 1];\r\n    };\r\n\r\n    exports.MAX = function() {\r\n        var range = utils.numbers(utils.flatten(arguments));\r\n        return (range.length === 0) ? 0 : Math.max.apply(Math, range);\r\n    };\r\n\r\n    exports.MAXA = function() {\r\n        var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\r\n        return (range.length === 0) ? 0 : Math.max.apply(Math, range);\r\n    };\r\n\r\n    exports.MIN = function() {\r\n        var range = utils.numbers(utils.flatten(arguments));\r\n        return (range.length === 0) ? 0 : Math.min.apply(Math, range);\r\n    };\r\n\r\n    exports.MINA = function() {\r\n        var range = utils.arrayValuesToNumbers(utils.flatten(arguments));\r\n        return (range.length === 0) ? 0 : Math.min.apply(Math, range);\r\n    };\r\n\r\n    exports.MODE = {};\r\n\r\n    exports.MODE.MULT = function() {\r\n        // Credits: Ronan\r\n        var range = utils.parseNumberArray(utils.flatten(arguments));\r\n        if (range instanceof Error) {\r\n            return range;\r\n        }\r\n        var n = range.length;\r\n        var count = {};\r\n        var maxItems = [];\r\n        var max = 0;\r\n        var currentItem;\r\n\r\n        for (var i = 0; i < n; i++) {\r\n            currentItem = range[i];\r\n            count[currentItem] = count[currentItem] ? count[currentItem] + 1 : 1;\r\n            if (count[currentItem] > max) {\r\n                max = count[currentItem];\r\n                maxItems = [];\r\n            }\r\n            if (count[currentItem] === max) {\r\n                maxItems[maxItems.length] = currentItem;\r\n            }\r\n        }\r\n        return maxItems;\r\n    };\r\n\r\n    exports.MODE.SNGL = function() {\r\n        var range = utils.parseNumberArray(utils.flatten(arguments));\r\n        if (range instanceof Error) {\r\n            return range;\r\n        }\r\n        return exports.MODE.MULT(range).sort(function(a, b) {\r\n            return a - b;\r\n        })[0];\r\n    };\r\n\r\n    exports.PERCENTILE = {};\r\n\r\n    exports.PERCENTILE.EXC = function(array, k) {\r\n        array = utils.parseNumberArray(utils.flatten(array));\r\n        k = utils.parseNumber(k);\r\n        if (utils.anyIsError(array, k)) {\r\n            return error.value;\r\n        }\r\n        array = array.sort(function(a, b) {\r\n            {\r\n                return a - b;\r\n            }\r\n        });\r\n        var n = array.length;\r\n        if (k < 1 / (n + 1) || k > 1 - 1 / (n + 1)) {\r\n            return error.num;\r\n        }\r\n        var l = k * (n + 1) - 1;\r\n        var fl = Math.floor(l);\r\n        return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));\r\n    };\r\n\r\n    exports.PERCENTILE.INC = function(array, k) {\r\n        array = utils.parseNumberArray(utils.flatten(array));\r\n        k = utils.parseNumber(k);\r\n        if (utils.anyIsError(array, k)) {\r\n            return error.value;\r\n        }\r\n        array = array.sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n        var n = array.length;\r\n        var l = k * (n - 1);\r\n        var fl = Math.floor(l);\r\n        return utils.cleanFloat((l === fl) ? array[l] : array[fl] + (l - fl) * (array[fl + 1] - array[fl]));\r\n    };\r\n\r\n    exports.PERCENTRANK = {};\r\n\r\n    exports.PERCENTRANK.EXC = function(array, x, significance) {\r\n        significance = (significance === undefined) ? 3 : significance;\r\n        array = utils.parseNumberArray(utils.flatten(array));\r\n        x = utils.parseNumber(x);\r\n        significance = utils.parseNumber(significance);\r\n        if (utils.anyIsError(array, x, significance)) {\r\n            return error.value;\r\n        }\r\n        array = array.sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n        var uniques = UNIQUE.apply(null, array);\r\n        var n = array.length;\r\n        var m = uniques.length;\r\n        var power = Math.pow(10, significance);\r\n        var result = 0;\r\n        var match = false;\r\n        var i = 0;\r\n        while (!match && i < m) {\r\n            if (x === uniques[i]) {\r\n                result = (array.indexOf(uniques[i]) + 1) / (n + 1);\r\n                match = true;\r\n            } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {\r\n                result = (array.indexOf(uniques[i]) + 1 + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n + 1);\r\n                match = true;\r\n            }\r\n            i++;\r\n        }\r\n        return Math.floor(result * power) / power;\r\n    };\r\n\r\n    exports.PERCENTRANK.INC = function(array, x, significance) {\r\n        significance = (significance === undefined) ? 3 : significance;\r\n        array = utils.parseNumberArray(utils.flatten(array));\r\n        x = utils.parseNumber(x);\r\n        significance = utils.parseNumber(significance);\r\n        if (utils.anyIsError(array, x, significance)) {\r\n            return error.value;\r\n        }\r\n        array = array.sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n        var uniques = UNIQUE.apply(null, array);\r\n        var n = array.length;\r\n        var m = uniques.length;\r\n        var power = Math.pow(10, significance);\r\n        var result = 0;\r\n        var match = false;\r\n        var i = 0;\r\n        while (!match && i < m) {\r\n            if (x === uniques[i]) {\r\n                result = array.indexOf(uniques[i]) / (n - 1);\r\n                match = true;\r\n            } else if (x >= uniques[i] && (x < uniques[i + 1] || i === m - 1)) {\r\n                result = (array.indexOf(uniques[i]) + (x - uniques[i]) / (uniques[i + 1] - uniques[i])) / (n - 1);\r\n                match = true;\r\n            }\r\n            i++;\r\n        }\r\n        return Math.floor(result * power) / power;\r\n    };\r\n\r\n    exports.PERMUT = function(number, number_chosen) {\r\n        number = utils.parseNumber(number);\r\n        number_chosen = utils.parseNumber(number_chosen);\r\n        if (utils.anyIsError(number, number_chosen)) {\r\n            return error.value;\r\n        }\r\n        return FACT(number) / FACT(number - number_chosen);\r\n    };\r\n\r\n    exports.PERMUTATIONA = function(number, number_chosen) {\r\n        number = utils.parseNumber(number);\r\n        number_chosen = utils.parseNumber(number_chosen);\r\n        if (utils.anyIsError(number, number_chosen)) {\r\n            return error.value;\r\n        }\r\n        return Math.pow(number, number_chosen);\r\n    };\r\n\r\n    exports.PHI = function(x) {\r\n        x = utils.parseNumber(x);\r\n        if (x instanceof Error) {\r\n            return error.value;\r\n        }\r\n        return Math.exp(-0.5 * x * x) / SQRT2PI;\r\n    };\r\n\r\n    exports.PROB = function(range, probability, lower, upper) {\r\n        if (lower === undefined) {\r\n            return 0;\r\n        }\r\n        upper = (upper === undefined) ? lower : upper;\r\n\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        probability = utils.parseNumberArray(utils.flatten(probability));\r\n        lower = utils.parseNumber(lower);\r\n        upper = utils.parseNumber(upper);\r\n        if (utils.anyIsError(range, probability, lower, upper)) {\r\n            return error.value;\r\n        }\r\n\r\n        if (lower === upper) {\r\n            return (range.indexOf(lower) >= 0) ? probability[range.indexOf(lower)] : 0;\r\n        }\r\n\r\n        var sorted = range.sort(function(a, b) {\r\n            return a - b;\r\n        });\r\n        var n = sorted.length;\r\n        var result = 0;\r\n        for (var i = 0; i < n; i++) {\r\n            if (sorted[i] >= lower && sorted[i] <= upper) {\r\n                result += probability[range.indexOf(sorted[i])];\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    exports.QUARTILE = {};\r\n\r\n    exports.QUARTILE.EXC = function(range, quart) {\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        quart = utils.parseNumber(quart);\r\n        if (utils.anyIsError(range, quart)) {\r\n            return error.value;\r\n        }\r\n        switch (quart) {\r\n            case 1:\r\n                return exports.PERCENTILE.EXC(range, 0.25);\r\n            case 2:\r\n                return exports.PERCENTILE.EXC(range, 0.5);\r\n            case 3:\r\n                return exports.PERCENTILE.EXC(range, 0.75);\r\n            default:\r\n                return error.num;\r\n        }\r\n    };\r\n\r\n    exports.QUARTILE.INC = function(range, quart) {\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        quart = utils.parseNumber(quart);\r\n        if (utils.anyIsError(range, quart)) {\r\n            return error.value;\r\n        }\r\n        switch (quart) {\r\n            case 1:\r\n                return exports.PERCENTILE.INC(range, 0.25);\r\n            case 2:\r\n                return exports.PERCENTILE.INC(range, 0.5);\r\n            case 3:\r\n                return exports.PERCENTILE.INC(range, 0.75);\r\n            default:\r\n                return error.num;\r\n        }\r\n    };\r\n\r\n    exports.RANK = {};\r\n\r\n    exports.RANK.AVG = function(number, range, order) {\r\n        number = utils.parseNumber(number);\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        if (utils.anyIsError(number, range)) {\r\n            return error.value;\r\n        }\r\n        range = utils.flatten(range);\r\n        order = order || false;\r\n        var sort = (order) ? function(a, b) {\r\n            return a - b;\r\n        } : function(a, b) {\r\n            return b - a;\r\n        };\r\n        range = range.sort(sort);\r\n\r\n        var length = range.length;\r\n        var count = 0;\r\n        for (var i = 0; i < length; i++) {\r\n            if (range[i] === number) {\r\n                count++;\r\n            }\r\n        }\r\n\r\n        return (count > 1) ? (2 * range.indexOf(number) + count + 1) / 2 : range.indexOf(number) + 1;\r\n    };\r\n\r\n    exports.RANK.EQ = function(number, range, order) {\r\n        number = utils.parseNumber(number);\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        if (utils.anyIsError(number, range)) {\r\n            return error.value;\r\n        }\r\n        order = order || false;\r\n        var sort = (order) ? function(a, b) {\r\n            return a - b;\r\n        } : function(a, b) {\r\n            return b - a;\r\n        };\r\n        range = range.sort(sort);\r\n        return range.indexOf(number) + 1;\r\n    };\r\n\r\n    exports.RSQ = function(data_x, data_y) { // no need to flatten here, PEARSON will take care of that\r\n        data_x = utils.parseNumberArray(utils.flatten(data_x));\r\n        data_y = utils.parseNumberArray(utils.flatten(data_y));\r\n        if (utils.anyIsError(data_x, data_y)) {\r\n            return error.value;\r\n        }\r\n        return Math.pow(exports.PEARSON(data_x, data_y), 2);\r\n    };\r\n\r\n    exports.SMALL = function(range, k) {\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        k = utils.parseNumber(k);\r\n        if (utils.anyIsError(range, k)) {\r\n            return range;\r\n        }\r\n        return range.sort(function(a, b) {\r\n            return a - b;\r\n        })[k - 1];\r\n    };\r\n\r\n    exports.STANDARDIZE = function(x, mean, sd) {\r\n        x = utils.parseNumber(x);\r\n        mean = utils.parseNumber(mean);\r\n        sd = utils.parseNumber(sd);\r\n        if (utils.anyIsError(x, mean, sd)) {\r\n            return error.value;\r\n        }\r\n        return (x - mean) / sd;\r\n    };\r\n\r\n    exports.STDEV = {};\r\n\r\n    exports.STDEV.P = function() {\r\n        var v = exports.VAR.P.apply(this, arguments);\r\n        return Math.sqrt(v);\r\n    };\r\n\r\n    exports.STDEV.S = function() {\r\n        var v = exports.VAR.S.apply(this, arguments);\r\n        return Math.sqrt(v);\r\n    };\r\n\r\n    exports.STDEVA = function() {\r\n        var v = exports.VARA.apply(this, arguments);\r\n        return Math.sqrt(v);\r\n    };\r\n\r\n    exports.STDEVPA = function() {\r\n        var v = exports.VARPA.apply(this, arguments);\r\n        return Math.sqrt(v);\r\n    };\r\n\r\n    exports.VAR = {};\r\n\r\n    exports.VAR.P = function() {\r\n        var range = utils.numbers(utils.flatten(arguments));\r\n        var n = range.length;\r\n        var sigma = 0;\r\n        var mean = exports.AVERAGE(range);\r\n        for (var i = 0; i < n; i++) {\r\n            sigma += Math.pow(range[i] - mean, 2);\r\n        }\r\n        return sigma / n;\r\n    };\r\n\r\n    exports.VAR.S = function() {\r\n        var range = utils.numbers(utils.flatten(arguments));\r\n        var n = range.length;\r\n        var sigma = 0;\r\n        var mean = exports.AVERAGE(range);\r\n        for (var i = 0; i < n; i++) {\r\n            sigma += Math.pow(range[i] - mean, 2);\r\n        }\r\n        return sigma / (n - 1);\r\n    };\r\n\r\n    exports.VARA = function() {\r\n        var range = utils.flatten(arguments);\r\n        var n = range.length;\r\n        var sigma = 0;\r\n        var count = 0;\r\n        var mean = exports.AVERAGEA(range);\r\n        for (var i = 0; i < n; i++) {\r\n            var el = range[i];\r\n            if (typeof el === 'number') {\r\n                sigma += Math.pow(el - mean, 2);\r\n            } else if (el === true) {\r\n                sigma += Math.pow(1 - mean, 2);\r\n            } else {\r\n                sigma += Math.pow(0 - mean, 2);\r\n            }\r\n\r\n            if (el !== null) {\r\n                count++;\r\n            }\r\n        }\r\n        return sigma / (count - 1);\r\n    };\r\n\r\n    exports.VARPA = function() {\r\n        var range = utils.flatten(arguments);\r\n        var n = range.length;\r\n        var sigma = 0;\r\n        var count = 0;\r\n        var mean = exports.AVERAGEA(range);\r\n        for (var i = 0; i < n; i++) {\r\n            var el = range[i];\r\n            if (typeof el === 'number') {\r\n                sigma += Math.pow(el - mean, 2);\r\n            } else if (el === true) {\r\n                sigma += Math.pow(1 - mean, 2);\r\n            } else {\r\n                sigma += Math.pow(0 - mean, 2);\r\n            }\r\n\r\n            if (el !== null) {\r\n                count++;\r\n            }\r\n        }\r\n        return sigma / count;\r\n    };\r\n\r\n    exports.WEIBULL = {};\r\n\r\n    exports.WEIBULL.DIST = function(x, alpha, beta, cumulative) {\r\n        x = utils.parseNumber(x);\r\n        alpha = utils.parseNumber(alpha);\r\n        beta = utils.parseNumber(beta);\r\n        if (utils.anyIsError(x, alpha, beta)) {\r\n            return error.value;\r\n        }\r\n        return (cumulative) ? 1 - Math.exp(-Math.pow(x / beta, alpha)) : Math.pow(x, alpha - 1) * Math.exp(-Math.pow(x / beta, alpha)) * alpha / Math.pow(beta, alpha);\r\n    };\r\n\r\n    exports.Z = {};\r\n\r\n    exports.Z.TEST = function(range, x, sd) {\r\n        range = utils.parseNumberArray(utils.flatten(range));\r\n        x = utils.parseNumber(x);\r\n        if (utils.anyIsError(range, x)) {\r\n            return error.value;\r\n        }\r\n\r\n        sd = sd || exports.STDEV.S(range);\r\n        var n = range.length;\r\n        return 1 - exports.NORM.S.DIST((exports.AVERAGE(range) - x) / (sd / Math.sqrt(n)), true);\r\n    };\r\n\r\n    return exports;\r\n})();\r\n\r\nfor (var i = 0; i < Object.keys(jexcel.methods).length; i++) {\r\n    var methods = jexcel.methods[Object.keys(jexcel.methods)[i]];\r\n    for (var j = 0; j < Object.keys(methods).length; j++) {\r\n        if (typeof(methods[Object.keys(methods)[j]]) == 'function') {\r\n            window[Object.keys(methods)[j]] = methods[Object.keys(methods)[j]];\r\n        } else {\r\n            window[Object.keys(methods)[j]] = function() {\r\n                return Object.keys(methods)[j] + 'Not implemented';\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n    return jexcel;\r\n\r\n})));","// Styles\nimport './VFileInput.sass'\n\n// Extensions\nimport VTextField from '../VTextField'\n\n// Components\nimport { VChip } from '../VChip'\n\n// Types\nimport { PropValidator } from 'vue/types/options'\n\n// Utilities\nimport { deepEqual, humanReadableFileSize, wrapInArray } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\nimport { mergeStyles } from '../../util/mergeData'\n\nexport default VTextField.extend({\n  name: 'v-file-input',\n\n  model: {\n    prop: 'value',\n    event: 'change',\n  },\n\n  props: {\n    chips: Boolean,\n    clearable: {\n      type: Boolean,\n      default: true,\n    },\n    counterSizeString: {\n      type: String,\n      default: '$vuetify.fileInput.counterSize',\n    },\n    counterString: {\n      type: String,\n      default: '$vuetify.fileInput.counter',\n    },\n    hideInput: Boolean,\n    placeholder: String,\n    prependIcon: {\n      type: String,\n      default: '$file',\n    },\n    readonly: {\n      type: Boolean,\n      default: false,\n    },\n    showSize: {\n      type: [Boolean, Number],\n      default: false,\n      validator: (v: boolean | number) => {\n        return (\n          typeof v === 'boolean' ||\n          [1000, 1024].includes(v)\n        )\n      },\n    } as PropValidator<boolean | 1000 | 1024>,\n    smallChips: Boolean,\n    truncateLength: {\n      type: [Number, String],\n      default: 22,\n    },\n    type: {\n      type: String,\n      default: 'file',\n    },\n    value: {\n      default: undefined,\n      validator: val => {\n        return wrapInArray(val).every(v => v != null && typeof v === 'object')\n      },\n    } as PropValidator<File | File[]>,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VTextField.options.computed.classes.call(this),\n        'v-file-input': true,\n      }\n    },\n    computedCounterValue (): string {\n      const fileCount = (this.isMultiple && this.lazyValue)\n        ? this.lazyValue.length\n        : (this.lazyValue instanceof File) ? 1 : 0\n\n      if (!this.showSize) return this.$vuetify.lang.t(this.counterString, fileCount)\n\n      const bytes = this.internalArrayValue.reduce((bytes: number, { size = 0 }: File) => {\n        return bytes + size\n      }, 0)\n\n      return this.$vuetify.lang.t(\n        this.counterSizeString,\n        fileCount,\n        humanReadableFileSize(bytes, this.base === 1024)\n      )\n    },\n    internalArrayValue (): File[] {\n      return wrapInArray(this.internalValue)\n    },\n    internalValue: {\n      get (): File[] {\n        return this.lazyValue\n      },\n      set (val: File | File[]) {\n        this.lazyValue = val\n        this.$emit('change', this.lazyValue)\n      },\n    },\n    isDirty (): boolean {\n      return this.internalArrayValue.length > 0\n    },\n    isLabelActive (): boolean {\n      return this.isDirty\n    },\n    isMultiple (): boolean {\n      return this.$attrs.hasOwnProperty('multiple')\n    },\n    text (): string[] {\n      if (!this.isDirty) return [this.placeholder]\n\n      return this.internalArrayValue.map((file: File) => {\n        const {\n          name = '',\n          size = 0,\n        } = file\n\n        const truncatedText = this.truncateText(name)\n\n        return !this.showSize\n          ? truncatedText\n          : `${truncatedText} (${humanReadableFileSize(size, this.base === 1024)})`\n      })\n    },\n    base (): 1000 | 1024 | undefined {\n      return typeof this.showSize !== 'boolean' ? this.showSize : undefined\n    },\n    hasChips (): boolean {\n      return this.chips || this.smallChips\n    },\n  },\n\n  watch: {\n    readonly: {\n      handler (v) {\n        if (v === true) consoleError('readonly is not supported on <v-file-input>', this)\n      },\n      immediate: true,\n    },\n    value (v) {\n      const value = this.isMultiple ? v : v ? [v] : []\n      if (!deepEqual(value, this.$refs.input.files)) {\n        // When the input value is changed programatically, clear the\n        // internal input's value so that the `onInput` handler\n        // can be triggered again if the user re-selects the exact\n        // same file(s). Ideally, `input.files` should be\n        // manipulated directly but that property is readonly.\n        this.$refs.input.value = ''\n      }\n    },\n  },\n\n  methods: {\n    clearableCallback () {\n      this.internalValue = this.isMultiple ? [] : undefined\n      this.$refs.input.value = ''\n    },\n    genChips () {\n      if (!this.isDirty) return []\n\n      return this.text.map((text, index) => this.$createElement(VChip, {\n        props: { small: this.smallChips },\n        on: {\n          'click:close': () => {\n            const internalValue = this.internalValue\n            internalValue.splice(index, 1)\n            this.internalValue = internalValue // Trigger the watcher\n          },\n        },\n      }, [text]))\n    },\n    genControl () {\n      const render = VTextField.options.methods.genControl.call(this)\n\n      if (this.hideInput) {\n        render.data!.style = mergeStyles(\n          render.data!.style,\n          { display: 'none' }\n        )\n      }\n\n      return render\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      // We should not be setting value\n      // programmatically on the input\n      // when it is using type=\"file\"\n      delete input.data!.domProps!.value\n\n      // This solves an issue in Safari where\n      // nothing happens when adding a file\n      // do to the input event not firing\n      // https://github.com/vuetifyjs/vuetify/issues/7941\n      delete input.data!.on!.input\n      input.data!.on!.change = this.onInput\n\n      return [this.genSelections(), input]\n    },\n    genPrependSlot () {\n      if (!this.prependIcon) return null\n\n      const icon = this.genIcon('prepend', () => {\n        this.$refs.input.click()\n      })\n\n      return this.genSlot('prepend', 'outer', [icon])\n    },\n    genSelectionText (): string[] {\n      const length = this.text.length\n\n      if (length < 2) return this.text\n      if (this.showSize && !this.counter) return [this.computedCounterValue]\n      return [this.$vuetify.lang.t(this.counterString, length)]\n    },\n    genSelections () {\n      const children = []\n\n      if (this.isDirty && this.$scopedSlots.selection) {\n        this.internalArrayValue.forEach((file: File, index: number) => {\n          if (!this.$scopedSlots.selection) return\n\n          children.push(\n            this.$scopedSlots.selection({\n              text: this.text[index],\n              file,\n              index,\n            })\n          )\n        })\n      } else {\n        children.push(this.hasChips && this.isDirty ? this.genChips() : this.genSelectionText())\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-file-input__text',\n        class: {\n          'v-file-input__text--placeholder': this.placeholder && !this.isDirty,\n          'v-file-input__text--chips': this.hasChips && !this.$scopedSlots.selection,\n        },\n      }, children)\n    },\n    genTextFieldSlot () {\n      const node = VTextField.options.methods.genTextFieldSlot.call(this)\n\n      node.data!.on = {\n        ...(node.data!.on || {}),\n        click: () => this.$refs.input.click(),\n      }\n\n      return node\n    },\n    onInput (e: Event) {\n      const files = [...(e.target as HTMLInputElement).files || []]\n\n      this.internalValue = this.isMultiple ? files : files[0]\n\n      // Set initialValue here otherwise isFocused\n      // watcher in VTextField will emit a change\n      // event whenever the component is blurred\n      this.initialValue = this.internalValue\n    },\n    onKeyDown (e: KeyboardEvent) {\n      this.$emit('keydown', e)\n    },\n    truncateText (str: string) {\n      if (str.length < Number(this.truncateLength)) return str\n      const charsKeepOneSide = Math.floor((Number(this.truncateLength) - 1) / 2)\n      return `${str.slice(0, charsKeepOneSide)}${str.slice(str.length - charsKeepOneSide)}`\n    },\n  },\n})\n","import VTextField from './VTextField'\n\nexport { VTextField }\nexport default VTextField\n","import VMenu from './VMenu'\n\nexport { VMenu }\nexport default VMenu\n","import VChip from './VChip'\n\nexport { VChip }\nexport default VChip\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","\r\n/**\r\n * (c) jSuites Javascript Web Components (v2.8)\r\n *\r\n * Author: Paul Hodel <paul.hodel@gmail.com>\r\n * Website: https://bossanova.uk/jsuites/\r\n * Description: Create amazing web based applications.\r\n *\r\n * MIT License\r\n *\r\n */\r\n;(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n    typeof define === 'function' && define.amd ? define(factory) :\r\n    global.jSuites = factory();\r\n}(this, (function () {\r\n\r\n    'use strict';\r\n\r\nvar jSuites = function(options) {\n    var obj = {}\n\n    obj.init = function() {\n        // Find root element\n        var app = document.querySelector('.japp');\n\n        // Root element\n        if (app) {\n            obj.el = app;\n        } else {\n            obj.el = document.body;\n        }\n\n        // Loading modules\n        var modules = document.querySelectorAll('[data-autoload]');\n        for (var i = 0; i < modules.length; i++) {\n            var m = modules[i].getAttribute('data-autoload');\n            if (typeof(window[m]) == 'function') {\n                window[m](modules[i]);\n            }\n        }\n    }\n\n    obj.guid = function() {\n        var guid = '';\n        for (var i = 0; i < 32; i++) {\n            guid += Math.floor(Math.random()*0xF).toString(0xF);\n        }\n        return guid;\n    }\n\n    obj.getWindowWidth = function() {\n        var w = window,\n        d = document,\n        e = d.documentElement,\n        g = d.getElementsByTagName('body')[0],\n        x = w.innerWidth || e.clientWidth || g.clientWidth;\n        return x;\n    }\n\n    obj.getWindowHeight = function() {\n        var w = window,\n        d = document,\n        e = d.documentElement,\n        g = d.getElementsByTagName('body')[0],\n        y = w.innerHeight|| e.clientHeight|| g.clientHeight;\n        return  y;\n    }\n\n    obj.getPosition = function(e) {\n        if (e.changedTouches && e.changedTouches[0]) {\n            var x = e.changedTouches[0].pageX;\n            var y = e.changedTouches[0].pageY;\n        } else {\n            var x = (window.Event) ? e.pageX : e.clientX + (document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft);\n            var y = (window.Event) ? e.pageY : e.clientY + (document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop);\n        }\n\n        return [ x, y ];\n    }\n\n    obj.click = function(el) {\n        if (el.click) {\n            el.click();\n        } else {\n            var evt = new MouseEvent('click', {\n                bubbles: true,\n                cancelable: true,\n                view: window\n            });\n            el.dispatchEvent(evt);\n        }\n    }\n\n    obj.getElement = function(element, className) {\n        var foundElement = false;\n\n        function path (element) {\n            if (element.className) {\n                if (element.classList.contains(className)) {\n                    foundElement = element;\n                }\n            }\n\n            if (element.parentNode) {\n                path(element.parentNode);\n            }\n        }\n\n        path(element);\n\n        return foundElement;\n    }\n\n    obj.getLinkElement = function(element) {\n        var targetElement = false;\n\n        function path (element) {\n            if ((element.tagName == 'A' || element.tagName == 'DIV') && element.getAttribute('data-href')) {\n                targetElement = element;\n            }\n\n            if (element.parentNode) {\n                path(element.parentNode);\n            }\n        }\n\n        path(element);\n\n        return targetElement;\n    }\n\n    obj.getFormElements = function(formObject) {\n        var ret = {};\n\n        if (formObject) {\n            var elements = formObject.querySelectorAll(\"input, select, textarea\");\n        } else {\n            var elements = document.querySelectorAll(\"input, select, textarea\");\n        }\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var name = element.name;\n            var value = element.value;\n\n            if (name) {\n                ret[name] = value;\n            }\n        }\n\n        return ret;\n    }\n\n    obj.exists = function(url, __callback) {\n        var http = new XMLHttpRequest();\n        http.open('HEAD', url, false);\n        http.send();\n        if (http.status) {\n            __callback(http.status);\n        }\n    }\n\n    obj.getFiles = function(element) {\n        if (! element) {\n            console.error('No element defined in the arguments of your method');\n        }\n\n        // Get attachments\n        var files = element.querySelectorAll('.jfile');\n\n        if (files.length > 0) {\n            var data = [];\n            for (var i = 0; i < files.length; i++) {\n                var file = {};\n\n                var src = files[i].getAttribute('src');\n\n                if (files[i].classList.contains('jremove')) {\n                    file.remove = 1;\n                } else {\n                    if (src.substr(0,4) == 'data') {\n                        file.content = src.substr(src.indexOf(',') + 1);\n                        file.extension = files[i].getAttribute('data-extension');\n                    } else {\n                        file.file = src;\n                        file.extension = files[i].getAttribute('data-extension');\n                        if (! file.extension) {\n                            file.extension =  src.substr(src.lastIndexOf('.') + 1);\n                        }\n                        if (jSuites.files[file.file]) {\n                            file.content = jSuites.files[file.file];\n                        }\n                    }\n\n                    // Optional file information\n                    if (files[i].getAttribute('data-name')) {\n                        file.name = files[i].getAttribute('data-name');\n                    }\n\n                    if (files[i].getAttribute('data-file')) {\n                        file.file = files[i].getAttribute('data-file');\n                    }\n\n                    if (files[i].getAttribute('data-size')) {\n                        file.size = files[i].getAttribute('data-size');\n                    }\n\n                    if (files[i].getAttribute('data-date')) {\n                        file.date = files[i].getAttribute('data-date');\n                    }\n\n                    if (files[i].getAttribute('data-cover')) {\n                        file.cover = files[i].getAttribute('data-cover');\n                    }\n                }\n\n                // TODO SMALL thumbs?\n\n                data[i] = file;\n            }\n\n            return data;\n        }\n    }\n\n    obj.ajax = function(options) {\n        if (! options.data) {\n            options.data = {};\n        }\n\n        if (options.type) {\n            options.method = options.type;\n        }\n\n        if (options.data) {\n            var data = [];\n            var keys = Object.keys(options.data);\n\n            if (keys.length) {\n                for (var i = 0; i < keys.length; i++) {\n                    if (typeof(options.data[keys[i]]) == 'object') {\n                        var o = options.data[keys[i]];\n                        for (var j = 0; j < o.length; j++) {\n                            if (typeof(o[j]) == 'string') {\n                                data.push(keys[i] + '[' + j + ']=' + encodeURIComponent(o[j]));\n                            } else {\n                                var prop = Object.keys(o[j]);\n                                for (var z = 0; z < prop.length; z++) {\n                                    data.push(keys[i] + '[' + j + '][' + prop[z] + ']=' + encodeURIComponent(o[j][prop[z]]));\n                                }\n                            }\n                        }\n                    } else {\n                        data.push(keys[i] + '=' + encodeURIComponent(options.data[keys[i]]));\n                    }\n                }\n            }\n\n            if (options.method == 'GET' && data.length > 0) {\n                if (options.url.indexOf('?') < 0) {\n                    options.url += '?';\n                }\n                options.url += data.join('&');\n            }\n        }\n\n        var httpRequest = new XMLHttpRequest();\n        httpRequest.open(options.method, options.url, true);\n        httpRequest.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n        if (options.method == 'POST') {\n            httpRequest.setRequestHeader('Accept', 'application/json');\n            httpRequest.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        } else {\n            if (options.dataType == 'json') {\n                httpRequest.setRequestHeader('Content-Type', 'text/json');\n            }\n        }\n\n        // No cache\n        if (options.cache != true) {\n            httpRequest.setRequestHeader('pragma', 'no-cache');\n            httpRequest.setRequestHeader('cache-control', 'no-cache');\n        }\n\n        // Authentication\n        if (options.withCredentials == true) {\n            httpRequest.withCredentials = true\n        }\n\n        // Before send\n        if (typeof(options.beforeSend) == 'function') {\n            options.beforeSend(httpRequest);\n        }\n\n        httpRequest.onload = function() {\n            if (httpRequest.status === 200) {\n                if (options.dataType == 'json') {\n                    try {\n                        var result = JSON.parse(httpRequest.responseText);\n\n                        if (options.success && typeof(options.success) == 'function') {\n                            options.success(result);\n                        }\n                    } catch(err) {\n                        if (options.error && typeof(options.error) == 'function') {\n                            options.error(result);\n                        }\n                    }\n                } else {\n                    var result = httpRequest.responseText;\n\n                    if (options.success && typeof(options.success) == 'function') {\n                        options.success(result);\n                    }\n                }\n            } else {\n                if (options.error && typeof(options.error) == 'function') {\n                    options.error(httpRequest.responseText);\n                }\n            }\n\n            // Global complete method\n            if (obj.ajax.requests && obj.ajax.requests.length) {\n                // Get index of this request in the container\n                var index = obj.ajax.requests.indexOf(httpRequest)\n                // Remove from the ajax requests container\n                obj.ajax.requests.splice(index, 1);\n                // Last one?\n                if (! obj.ajax.requests.length) {\n                    if (options.complete && typeof(options.complete) == 'function') {\n                        options.complete(result);\n                    }\n                }\n            }\n        }\n\n        if (data) {\n            httpRequest.send(data.join('&'));\n        } else {\n            httpRequest.send();\n        }\n\n        obj.ajax.requests.push(httpRequest);\n\n        return httpRequest;\n    }\n\n    obj.ajax.requests = [];\n\n    obj.slideLeft = function(element, direction, done) {\n        if (direction == true) {\n            element.classList.add('slide-left-in');\n            setTimeout(function() {\n                element.classList.remove('slide-left-in');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 400);\n        } else {\n            element.classList.add('slide-left-out');\n            setTimeout(function() {\n                element.classList.remove('slide-left-out');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 400);\n        }\n    }\n\n    obj.slideRight = function(element, direction, done) {\n        if (direction == true) {\n            element.classList.add('slide-right-in');\n            setTimeout(function() {\n                element.classList.remove('slide-right-in');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 400);\n        } else {\n            element.classList.add('slide-right-out');\n            setTimeout(function() {\n                element.classList.remove('slide-right-out');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 400);\n        }\n    }\n\n    obj.slideTop = function(element, direction, done) {\n        if (direction == true) {\n            element.classList.add('slide-top-in');\n            setTimeout(function() {\n                element.classList.remove('slide-top-in');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 400);\n        } else {\n            element.classList.add('slide-top-out');\n            setTimeout(function() {\n                element.classList.remove('slide-top-out');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 400);\n        }\n    }\n\n    obj.slideBottom = function(element, direction, done) {\n        if (direction == true) {\n            element.classList.add('slide-bottom-in');\n            setTimeout(function() {\n                element.classList.remove('slide-bottom-in');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 400);\n        } else {\n            element.classList.add('slide-bottom-out');\n            setTimeout(function() {\n                element.classList.remove('slide-bottom-out');\n                if (typeof(done) == 'function') {\n                    done();\n                }\n            }, 100);\n        }\n    }\n\n    obj.fadeIn = function(element, done) {\n        element.classList.add('fade-in');\n        setTimeout(function() {\n            element.classList.remove('fade-in');\n            if (typeof(done) == 'function') {\n                done();\n            }\n        }, 2000);\n    }\n\n    obj.fadeOut = function(element, done) {\n        element.classList.add('fade-out');\n        setTimeout(function() {\n            element.classList.remove('fade-out');\n            if (typeof(done) == 'function') {\n                done();\n            }\n        }, 1000);\n    }\n\n    obj.keyDownControls = function(e) {\n        if (e.which == 27) {\n            var nodes = document.querySelectorAll('.jslider');\n            if (nodes.length > 0) {\n                for (var i = 0; i < nodes.length; i++) {\n                    nodes[i].slider.close();\n                }\n            }\n\n            if (document.querySelector('.jdialog')) {\n                jSuites.dialog.close();\n            }\n        } else if (e.which == 13) {\n            if (document.querySelector('.jdialog')) {\n                if (typeof(jSuites.dialog.options.onconfirm) == 'function') {\n                    jSuites.dialog.options.onconfirm();\n                }\n                jSuites.dialog.close();\n            }\n        }\n\n        // Verify mask\n        if (jSuites.mask) {\n            jSuites.mask.apply(e);\n        }\n    }\n\n    var actionUpControl = function(e) {\n        var element = null;\n        if (element = jSuites.getLinkElement(e.target)) {\n            var link = element.getAttribute('data-href');\n            if (link == '#back') {\n                window.history.back();\n            } else if (link == '#panel') {\n                jSuites.panel();\n            } else {\n                jSuites.pages(link);\n            }\n        }\n    }\n\n    var controlSwipeLeft = function(e) {\n        var element = jSuites.getElement(e.target, 'option');\n\n        if (element && element.querySelector('.option-actions')) {\n            element.scrollTo({\n                left: 100,\n                behavior: 'smooth'\n            });\n        } else {\n            var element = jSuites.getElement(e.target, 'jcalendar');\n            if (element && jSuites.calendar.current) {\n                jSuites.calendar.current.prev();\n            } else {\n                if (jSuites.panel) {\n                    var element = jSuites.panel.get();\n                    if (element) {\n                        if (element.style.display != 'none') {\n                            jSuites.panel.close();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    var controlSwipeRight = function(e) {\n        var element = jSuites.getElement(e.target, 'option');\n        if (element && element.querySelector('.option-actions')) {\n            element.scrollTo({\n                left: 0,\n                behavior: 'smooth'\n            });\n        } else {\n            var element = jSuites.getElement(e.target, 'jcalendar');\n            if (element && jSuites.calendar.current) {\n                jSuites.calendar.current.next();\n            } else {\n                if (jSuites.panel) {\n                    var element = jSuites.panel.get();\n                    if (element) {\n                        if (element.style.display == 'none') {\n                            jSuites.panel();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    var actionOverControl = function(e) {\n        // Tooltip\n        if (jSuites.tooltip) {\n            jSuites.tooltip(e);\n        }\n    }\n\n    var actionOutControl = function(e) {\n        // Tooltip\n        if (jSuites.tooltip) {\n            jSuites.tooltip.hide();\n        }\n    }\n\n    // Create page container\n    document.addEventListener('swipeleft', controlSwipeLeft);\n    document.addEventListener('swiperight', controlSwipeRight);\n    document.addEventListener('keydown', obj.keyDownControls);\n\n    if ('ontouchend' in document.documentElement === true) {\n        document.addEventListener('touchend', actionUpControl);\n    } else {\n        document.addEventListener('mouseup', actionUpControl);\n    }\n\n    // Onmouseover\n    document.addEventListener('mouseover', actionOverControl);\n    document.addEventListener('mouseout', actionOutControl);\n    document.addEventListener('DOMContentLoaded', function() {\n        obj.init();\n    });\n\n    // Pop state control\n    window.onpopstate = function(e) {\n        if (e.state && e.state.route) {\n            if (jSuites.pages.get(e.state.route)) {\n                jSuites.pages(e.state.route, { ignoreHistory:true });\n            }\n        }\n    }\n\n    return obj;\n}();\n\njSuites.files = [];\r\n\r\njSuites.calendar = (function(el, options) {\n    var obj = {};\n    obj.options = {};\n\n    // Global container\n    if (! jSuites.calendar.current) {\n        jSuites.calendar.current = null;\n    }\n\n    // Default configuration\n    var defaults = {\n        // Data\n        data: null,\n        // Inline or not\n        type: null,\n        // Restrictions\n        validRange: null,\n        // Starting weekday - 0 for sunday, 6 for saturday\n        startingDay: null, \n        // Date format\n        format: 'DD/MM/YYYY',\n        // Allow keyboard date entry\n        readonly: true,\n        // Today is default\n        today: false,\n        // Show timepicker\n        time: false,\n        // Show the reset button\n        resetButton: true,\n        // Placeholder\n        placeholder: '',\n        // Translations can be done here\n        months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        weekdays: ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\n        weekdays_short: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n        // Value\n        value: null,\n        // Events\n        onclose: null,\n        onchange: null,\n        // Fullscreen (this is automatic set for screensize < 800)\n        fullscreen: false,\n        // Internal mode controller\n        mode: null,\n        position: null,\n        // Create the calendar closed as default\n        opened: false,\n    };\n\n    // Loop through our object\n    for (var property in defaults) {\n        if (options && options.hasOwnProperty(property)) {\n            obj.options[property] = options[property];\n        } else {\n            obj.options[property] = defaults[property];\n        }\n    }\n\n    // Value\n    if (! obj.options.value) {\n        if (el.tagName == 'INPUT' && el.value) {\n            obj.options.value = el.value;\n        }\n    }\n\n    // Make sure use upper case in the format\n    obj.options.format = obj.options.format.toUpperCase();\n\n    if (obj.options.value) {\n        var date = obj.options.value.split(' ');\n        var time = date[1];\n        var date = date[0].split('-');\n        var y = parseInt(date[0]);\n        var m = parseInt(date[1]);\n        var d = parseInt(date[2]);\n\n        if (time) {\n            var time = time.split(':');\n            var h = parseInt(time[0]);\n            var i = parseInt(time[1]);\n        } else {\n            var h = 0;\n            var i = 0;\n        }\n    } else {\n        var date = new Date();\n        var y = date.getFullYear();\n        var m = date.getMonth() + 1;\n        var d = date.getDate();\n        var h = date.getHours();\n        var i = date.getMinutes();\n    }\n\n    // Current value\n    obj.date = [ y, m, d, h, i, 0 ];\n\n    // Two digits\n    var two = function(value) {\n        value = '' + value;\n        if (value.length == 1) {\n            value = '0' + value;\n        }\n        return value;\n    }\n\n    // Calendar elements\n    var calendarReset = document.createElement('div');\n    calendarReset.className = 'jcalendar-reset';\n    calendarReset.innerHTML = 'Reset';\n\n    var calendarConfirm = document.createElement('div');\n    calendarConfirm.className = 'jcalendar-confirm';\n    calendarConfirm.innerHTML = 'Done';\n\n    var calendarControls = document.createElement('div');\n    calendarControls.className = 'jcalendar-controls'\n    if (obj.options.resetButton) {\n        calendarControls.appendChild(calendarReset);\n    }\n    calendarControls.appendChild(calendarConfirm);\n\n    var calendarContainer = document.createElement('div');\n    calendarContainer.className = 'jcalendar-container';\n\n    var calendarContent = document.createElement('div');\n    calendarContent.className = 'jcalendar-content';\n    calendarContent.appendChild(calendarControls);\n    calendarContainer.appendChild(calendarContent);\n\n    // Table container\n    var calendarTableContainer = document.createElement('div');\n    calendarTableContainer.className = 'jcalendar-table';\n    calendarContent.appendChild(calendarTableContainer);\n\n    // Main element\n    if (el.tagName == 'INPUT') {\n        var calendar = document.createElement('div');\n    } else {\n        var calendar = el;\n    }\n    calendar.className = 'jcalendar';\n    calendar.appendChild(calendarContainer);\n\n    // Previous button\n    var calendarHeaderPrev = document.createElement('td');\n    calendarHeaderPrev.setAttribute('colspan', '2');\n    calendarHeaderPrev.className = 'jcalendar-prev';\n\n    // Header with year and month\n    var calendarLabelYear = document.createElement('span');\n    calendarLabelYear.className = 'jcalendar-year';\n\n    var calendarLabelMonth = document.createElement('span');\n    calendarLabelMonth.className = 'jcalendar-month';\n\n    var calendarHeaderTitle = document.createElement('td');\n    calendarHeaderTitle.className = 'jcalendar-header';\n    calendarHeaderTitle.setAttribute('colspan', '3');\n    calendarHeaderTitle.appendChild(calendarLabelMonth);\n    calendarHeaderTitle.appendChild(calendarLabelYear);\n\n    var calendarHeaderNext = document.createElement('td');\n    calendarHeaderNext.setAttribute('colspan', '2');\n    calendarHeaderNext.className = 'jcalendar-next';\n\n    var calendarHeaderRow = document.createElement('tr');\n    calendarHeaderRow.appendChild(calendarHeaderPrev);\n    calendarHeaderRow.appendChild(calendarHeaderTitle);\n    calendarHeaderRow.appendChild(calendarHeaderNext);\n\n    var calendarHeader = document.createElement('thead');\n    calendarHeader.appendChild(calendarHeaderRow);\n\n    var calendarBody = document.createElement('tbody');\n    var calendarFooter = document.createElement('tfoot');\n\n    // Calendar table\n    var calendarTable = document.createElement('table');\n    calendarTable.setAttribute('cellpadding', '0');\n    calendarTable.setAttribute('cellspacing', '0');\n    calendarTable.appendChild(calendarHeader);\n    calendarTable.appendChild(calendarBody);\n    calendarTable.appendChild(calendarFooter);\n    calendarTableContainer.appendChild(calendarTable);\n\n    var calendarSelectHour = document.createElement('select');\n    calendarSelectHour.className = 'jcalendar-select';\n    calendarSelectHour.onchange = function() {\n        obj.date[3] = this.value; \n    }\n\n    for (var i = 0; i < 24; i++) {\n        var element = document.createElement('option');\n        element.value = i;\n        element.innerHTML = two(i);\n        calendarSelectHour.appendChild(element);\n    }\n\n    var calendarSelectMin = document.createElement('select');\n    calendarSelectMin.className = 'jcalendar-select';\n    calendarSelectMin.onchange = function() {\n        obj.date[4] = this.value; \n    }\n\n    for (var i = 0; i < 60; i++) {\n        var element = document.createElement('option');\n        element.value = i;\n        element.innerHTML = two(i);\n        calendarSelectMin.appendChild(element);\n    }\n\n    // Footer controls\n    var calendarControlsFooter = document.createElement('div');\n    calendarControlsFooter.className = 'jcalendar-controls';\n\n    var calendarControlsTime = document.createElement('div');\n    calendarControlsTime.className = 'jcalendar-time';\n    calendarControlsTime.style.maxWidth = '140px';\n    calendarControlsTime.appendChild(calendarSelectHour);\n    calendarControlsTime.appendChild(calendarSelectMin);\n\n    var calendarControlsUpdateButton = document.createElement('input');\n    calendarControlsUpdateButton.setAttribute('type', 'button');\n    calendarControlsUpdateButton.className = 'jcalendar-update';\n    calendarControlsUpdateButton.value = 'Update';\n\n    var calendarControlsUpdate = document.createElement('div');\n    calendarControlsUpdate.style.flexGrow = '10';\n    calendarControlsUpdate.appendChild(calendarControlsUpdateButton);\n    calendarControlsFooter.appendChild(calendarControlsTime);\n    calendarControlsFooter.appendChild(calendarControlsUpdate);\n    calendarContent.appendChild(calendarControlsFooter);\n\n    var calendarBackdrop = document.createElement('div');\n    calendarBackdrop.className = 'jcalendar-backdrop';\n    calendar.appendChild(calendarBackdrop);\n\n    // Update actions button\n    var updateActions = function() {\n        var currentDay = calendar.querySelector('.jcalendar-selected');\n\n        if (currentDay && currentDay.classList.contains('jcalendar-disabled')) {\n            calendarControlsUpdateButton.setAttribute('disabled', 'disabled');\n            calendarSelectHour.setAttribute('disabled', 'disabled');\n            calendarSelectMin.setAttribute('disabled', 'disabled');\n        } else {\n            calendarControlsUpdateButton.removeAttribute('disabled');\n            calendarSelectHour.removeAttribute('disabled');\n            calendarSelectMin.removeAttribute('disabled');\n        }\n    }\n\n    // Methods\n    obj.open = function (value) {\n        if (! calendar.classList.contains('jcalendar-focus')) {\n            if (jSuites.calendar.current) {\n                jSuites.calendar.current.close();\n            }\n            // Current\n            jSuites.calendar.current = obj;\n            // Show calendar\n            calendar.classList.add('jcalendar-focus');\n            // Get days\n            obj.getDays();\n            // Hour\n            if (obj.options.time) {\n                calendarSelectHour.value = obj.date[3];\n                calendarSelectMin.value = obj.date[4];\n            }\n\n            // Get the position of the corner helper\n            if (jSuites.getWindowWidth() < 800 || obj.options.fullscreen) {\n                // Full\n                calendar.classList.add('jcalendar-fullsize');\n                // Animation\n                jSuites.slideBottom(calendarContent, 1);\n            } else {\n                const rect = el.getBoundingClientRect();\n                const rectContent = calendarContent.getBoundingClientRect();\n\n                if (obj.options.position) {\n                    calendarContainer.style.position = 'fixed';\n                    if (window.innerHeight < rect.bottom + rectContent.height) {\n                        calendarContainer.style.top = (rect.top - (rectContent.height + 2)) + 'px';\n                    } else {\n                        calendarContainer.style.top = (rect.top + rect.height + 2) + 'px';\n                    }\n                    calendarContainer.style.left = rect.left + 'px';\n                } else {\n                    if (window.innerHeight < rect.bottom + rectContent.height) {\n                        calendarContainer.style.bottom = (1 * rect.height + rectContent.height + 2) + 'px';\n                    } else {\n                        calendarContainer.style.top = 2 + 'px'; \n                    }\n                }\n            }\n        }\n    }\n\n    obj.close = function (ignoreEvents, update) {\n        if (jSuites.calendar.current) {\n            // Current\n            jSuites.calendar.current = null;\n\n            if (update !== false) {\n                var element = calendar.querySelector('.jcalendar-selected');\n\n                if (typeof(update) == 'string') {\n                    var value = update;\n                } else if (element && element.classList.contains('jcalendar-disabled')) {\n                    var value = obj.options.value\n                } else {\n                    var value = obj.getValue();\n                }\n\n                obj.setValue(value);\n            }\n\n            // Events\n            if (! ignoreEvents && typeof(obj.options.onclose) == 'function') {\n                obj.options.onclose(el);\n            }\n\n            // Hide\n            calendar.classList.remove('jcalendar-focus');\n        }\n\n        return obj.options.value;\n    }\n\n    obj.prev = function() {\n        // Check if the visualization is the days picker or years picker\n        if (obj.options.mode == 'years') {\n            obj.date[0] = obj.date[0] - 12;\n\n            // Update picker table of days\n            obj.getYears();\n        } else {\n            // Go to the previous month\n            if (obj.date[1] < 2) {\n                obj.date[0] = obj.date[0] - 1;\n                obj.date[1] = 12;\n            } else {\n                obj.date[1] = obj.date[1] - 1;\n            }\n\n            // Update picker table of days\n            obj.getDays();\n        }\n    }\n\n    obj.next = function() {\n        // Check if the visualization is the days picker or years picker\n        if (obj.options.mode == 'years') {\n            obj.date[0] = parseInt(obj.date[0]) + 12;\n\n            // Update picker table of days\n            obj.getYears();\n        } else {\n            // Go to the previous month\n            if (obj.date[1] > 11) {\n                obj.date[0] = parseInt(obj.date[0]) + 1;\n                obj.date[1] = 1;\n            } else {\n                obj.date[1] = parseInt(obj.date[1]) + 1;\n            }\n\n            // Update picker table of days\n            obj.getDays();\n        }\n    }\n\n    obj.setValue = function(val) {\n        if (! val) {\n            val = '' + val;\n        }\n        // Values\n        var newValue = val;\n        var oldValue = obj.options.value;\n        // Set label\n        var value = obj.setLabel(newValue, obj.options.format);\n        var date = newValue.split(' ');\n        if (! date[1]) {\n            date[1] = '00:00:00';\n        }\n        var time = date[1].split(':')\n        var date = date[0].split('-');\n        var y = parseInt(date[0]);\n        var m = parseInt(date[1]);\n        var d = parseInt(date[2]);\n        var h = parseInt(time[0]);\n        var i = parseInt(time[1]);\n        obj.date = [ y, m, d, h, i, 0 ];\n        var val = obj.setLabel(newValue, obj.options.format);\n\n        if (oldValue != newValue) {\n            // Input value\n            if (el.tagName == 'INPUT') {\n                el.value = val;\n            }\n            // New value\n            obj.options.value = newValue;\n            // On change\n            if (typeof(obj.options.onchange) ==  'function') {\n                obj.options.onchange(el, newValue, oldValue);\n            }\n        }\n\n        obj.getDays();\n    }\n\n    obj.getValue = function() {\n        if (obj.date) {\n            if (obj.options.time) {\n                return two(obj.date[0]) + '-' + two(obj.date[1]) + '-' + two(obj.date[2]) + ' ' + two(obj.date[3]) + ':' + two(obj.date[4]) + ':' + two(0);\n            } else {\n                return two(obj.date[0]) + '-' + two(obj.date[1]) + '-' + two(obj.date[2]) + ' ' + two(0) + ':' + two(0) + ':' + two(0);\n            }\n        } else {\n            return \"\";\n        }\n    }\n\n    /**\n     *  Calendar\n     */\n    obj.update = function(element) {\n        if (element.classList.contains('jcalendar-disabled')) {\n            // Do nothing\n        } else {\n            obj.date[2] = element.innerText;\n\n            if (! obj.options.time) {\n                obj.close();\n            } else {\n                obj.date[3] = calendarSelectHour.value;\n                obj.date[4] = calendarSelectMin.value;\n            }\n\n            var elements = calendar.querySelector('.jcalendar-selected');\n            if (elements) {\n                elements.classList.remove('jcalendar-selected');\n            }\n            element.classList.add('jcalendar-selected');\n        }\n\n        // Update\n        updateActions();\n    }\n\n    /**\n     * Set to blank\n     */\n    obj.reset = function() {\n        // Close calendar\n        obj.close(false, '');\n    }\n\n    /**\n     * Get calendar days\n     */\n    obj.getDays = function() {\n        // Mode\n        obj.options.mode = 'days';\n\n        // Setting current values in case of NULLs\n        var date = new Date();\n\n        // Current selection\n        var year = obj.date && obj.date[0] ? obj.date[0] : parseInt(date.getFullYear());\n        var month = obj.date && obj.date[1] ? obj.date[1] : parseInt(date.getMonth()) + 1;\n        var day = obj.date && obj.date[2] ? obj.date[2] : parseInt(date.getDay());\n        var hour = obj.date && obj.date[3] ? obj.date[3] : parseInt(date.getHours());\n        var min = obj.date && obj.date[4] ? obj.date[4] : parseInt(date.getMinutes());\n\n        // Selection container\n        obj.date = [year, month, day, hour, min, 0 ];\n\n        // Update title\n        calendarLabelYear.innerHTML = year;\n        calendarLabelMonth.innerHTML = obj.options.months[month - 1];\n\n        // Current month and Year\n        var isCurrentMonthAndYear = (date.getMonth() == month - 1) && (date.getFullYear() == year) ? true : false;\n        var currentDay = date.getDate();\n\n        // Number of days in the month\n        var date = new Date(year, month, 0, 0, 0);\n        var numberOfDays = date.getDate();\n\n        // First day\n        var date = new Date(year, month-1, 0, 0, 0);\n        var firstDay = date.getDay() + 1;\n\n        // Index value\n        var index = obj.options.startingDay || 0;\n\n        // First of day relative to the starting calendar weekday\n        firstDay = firstDay - index;\n\n        // Reset table\n        calendarBody.innerHTML = '';\n\n        // Weekdays Row\n        var row = document.createElement('tr');\n        row.setAttribute('align', 'center');\n        calendarBody.appendChild(row);\n\n        // Create weekdays row\n        for (var i = 0; i < 7; i++) {\n            var cell = document.createElement('td');\n            cell.classList.add('jcalendar-weekday')\n            cell.innerHTML = obj.options.weekdays_short[index];\n            row.appendChild(cell);\n            // Next week day\n            index++;\n            // Restart index\n            if (index > 6) {\n                index = 0;\n            }\n        }\n\n        // Index of days\n        var index = 0;\n        var d = 0;\n \n        // Calendar table\n        for (var j = 0; j < 5; j++) {\n            // Reset cells container\n            var row = document.createElement('tr');\n            row.setAttribute('align', 'center');\n            // Data control\n            var emptyRow = true;\n            // Create cells\n            for (var i = 0; i < 7; i++) {\n                // Create cell\n                var cell = document.createElement('td');\n                cell.classList.add('jcalendar-set-day');\n\n                if (index >= firstDay && index < (firstDay + numberOfDays)) {\n                    // Day cell\n                    d++;\n                    cell.innerHTML = d;\n\n                    // Selected\n                    if (d == day) {\n                        cell.classList.add('jcalendar-selected');\n                    }\n\n                    // Current selection day is today\n                    if (isCurrentMonthAndYear && currentDay == d) {\n                        cell.style.fontWeight = 'bold';\n                    }\n\n                    // Current selection day\n                    var current = jSuites.calendar.now(new Date(year, month-1, d), true);\n\n                    // Available ranges\n                    if (obj.options.validRange) {\n                        if (! obj.options.validRange[0] || current >= obj.options.validRange[0]) {\n                            var test1 = true;\n                        } else {\n                            var test1 = false;\n                        }\n\n                        if (! obj.options.validRange[1] || current <= obj.options.validRange[1]) {\n                            var test2 = true;\n                        } else {\n                            var test2 = false;\n                        }\n\n                        if (! (test1 && test2)) {\n                            cell.classList.add('jcalendar-disabled');\n                        }\n                    }\n\n                    // Control\n                    emptyRow = false;\n                }\n                // Day cell\n                row.appendChild(cell);\n                // Index\n                index++;\n            }\n\n            // Add cell to the calendar body\n            if (emptyRow == false) {\n                calendarBody.appendChild(row);\n            }\n        }\n\n        // Show time controls\n        if (obj.options.time) {\n            calendarControlsTime.style.display = '';\n        } else {\n            calendarControlsTime.style.display = 'none';\n        }\n\n        // Update\n        updateActions();\n    }\n\n    obj.getMonths = function() {\n        // Mode\n        obj.options.mode = 'months';\n\n        // Loading month labels\n        var months = obj.options.months;\n\n        // Update title\n        calendarLabelYear.innerHTML = obj.date[0];\n        calendarLabelMonth.innerHTML = '';\n\n        // Create months table\n        var html = '<td colspan=\"7\"><table width=\"100%\"><tr align=\"center\">';\n\n        for (i = 0; i < 12; i++) {\n            if ((i > 0) && (!(i % 4))) {\n                html += '</tr><tr align=\"center\">';\n            }\n\n            var month = parseInt(i) + 1;\n            html += '<td class=\"jcalendar-set-month\" data-value=\"' + month + '\">' + months[i] +'</td>';\n        }\n\n        html += '</tr></table></td>';\n\n        calendarBody.innerHTML = html;\n    }\n\n    obj.getYears = function() { \n        // Mode\n        obj.options.mode = 'years';\n\n        // Array of years\n        var y = [];\n        for (i = 0; i < 25; i++) {\n            y[i] = parseInt(obj.date[0]) + (i - 12);\n        }\n\n        // Assembling the year tables\n        var html = '<td colspan=\"7\"><table width=\"100%\"><tr align=\"center\">';\n\n        for (i = 0; i < 25; i++) {\n            if ((i > 0) && (!(i % 5))) {\n                html += '</tr><tr align=\"center\">';\n            }\n            html += '<td class=\"jcalendar-set-year\">'+ y[i] +'</td>';\n        }\n\n        html += '</tr></table></td>';\n\n        calendarBody.innerHTML = html;\n    }\n\n    obj.setLabel = function(value, format) {\n        return jSuites.calendar.getDateString(value, format);\n    }\n\n    obj.fromFormatted = function (value, format) {\n        return jSuites.calendar.extractDateFromString(value, format);\n    }\n\n    var mouseUpControls = function(e) {\n        var action = e.target.className;\n\n        // Object id\n        if (action == 'jcalendar-prev') {\n            obj.prev();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-next') {\n            obj.next();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-month') {\n            obj.getMonths();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-year') {\n            obj.getYears();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-set-year') {\n            obj.date[0] = e.target.innerText;\n            obj.getDays();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-set-month') {\n            obj.date[1] = parseInt(e.target.getAttribute('data-value'));\n            obj.getDays();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-confirm' || action == 'jcalendar-update') {\n            obj.close();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-close') {\n            obj.close();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-backdrop') {\n            obj.close(false, false);\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (action == 'jcalendar-reset') {\n            obj.reset();\n            e.stopPropagation();\n            e.preventDefault();\n        } else if (e.target.classList.contains('jcalendar-set-day')) {\n            if (e.target.innerText) {\n                obj.update(e.target);\n                e.stopPropagation();\n                e.preventDefault();\n            }\n        }\n    }\n\n    var keyUpControls = function(e) {\n        if (e.target.value && e.target.value.length > 3) {\n            var test = jSuites.calendar.extractDateFromString(e.target.value, obj.options.format);\n            if (test) {\n                if (e.target.getAttribute('data-completed') == 'true') {\n                    obj.setValue(test);\n                }\n            }\n        }\n    }\n\n    // Handle events\n    el.addEventListener(\"keyup\", keyUpControls);\n\n    // Add global events\n    calendar.addEventListener(\"swipeleft\", function(e) {\n        jSuites.slideLeft(calendarTable, 0, function() {\n            obj.next();\n            jSuites.slideRight(calendarTable, 1);\n        });\n        e.preventDefault();\n        e.stopPropagation();\n    });\n\n    calendar.addEventListener(\"swiperight\", function(e) {\n        jSuites.slideRight(calendarTable, 0, function() {\n            obj.prev();\n            jSuites.slideLeft(calendarTable, 1);\n        });\n        e.preventDefault();\n        e.stopPropagation();\n    });\n\n    if ('ontouchend' in document.documentElement === true) {\n        calendar.addEventListener(\"touchend\", mouseUpControls);\n\n        el.addEventListener(\"touchend\", function(e) {\n            obj.open();\n        });\n    } else {\n        calendar.addEventListener(\"mouseup\", mouseUpControls);\n\n        el.addEventListener(\"mouseup\", function(e) {\n            obj.open();\n        });\n    }\n\n    // Append element to the DOM\n    if (el.tagName == 'INPUT') {\n        el.parentNode.insertBefore(calendar, el.nextSibling);\n        // Add properties\n        el.setAttribute('autocomplete', 'off');\n        el.setAttribute('data-mask', obj.options.format.toLowerCase());\n\n        if (obj.options.readonly) {\n            el.setAttribute('readonly', 'readonly');\n        }\n        if (obj.options.placeholder) {\n            el.setAttribute('placeholder', obj.options.placeholder);\n        }\n        // Element\n        el.classList.add('jcalendar-input');\n        // Value\n        el.value = obj.setLabel(obj.getValue(), obj.options.format);\n    }\n\n    // Keep object available from the node\n    el.calendar = obj;\n\n    if (obj.options.opened == true) {\n        obj.open();\n    }\n\n    return obj;\n});\n\njSuites.calendar.prettify = function(d, texts) {\n    if (! texts) {\n        var texts = {\n            justNow: 'Just now',\n            xMinutesAgo: '{0}m ago',\n            xHoursAgo: '{0}h ago',\n            xDaysAgo: '{0}d ago',\n            xWeeksAgo: '{0}w ago',\n            xMonthsAgo: '{0} mon ago',\n            xYearsAgo: '{0}y ago',\n        }\n    }\n\n    var d1 = new Date();\n    var d2 = new Date(d);\n    var total = parseInt((d1 - d2) / 1000 / 60);\n\n    String.prototype.format = function(o) {\n        return this.replace('{0}', o);\n    }\n\n    if (total == 0) {\n        var text = texts.justNow;\n    } else if (total < 90) {\n        var text = texts.xMinutesAgo.format(total);\n    } else if (total < 1440) { // One day\n        var text = texts.xHoursAgo.format(Math.round(total/60));\n    } else if (total < 20160) { // 14 days\n        var text = texts.xDaysAgo.format(Math.round(total / 1440));\n    } else if (total < 43200) { // 30 days\n        var text = texts.xWeeksAgo.format(Math.round(total / 10080));\n    } else if (total < 1036800) { // 24 months\n        var text = texts.xMonthsAgo.format(Math.round(total / 43200));\n    } else { // 24 months+\n        var text = texts.xYearsAgo.format(Math.round(total / 525600));\n    }\n\n    return text;\n}\n\njSuites.calendar.prettifyAll = function() {\n    var elements = document.querySelectorAll('.prettydate');\n    for (var i = 0; i < elements.length; i++) {\n        if (elements[i].getAttribute('data-date')) {\n            elements[i].innerHTML = jSuites.calendar.prettify(elements[i].getAttribute('data-date'));\n        } else {\n            elements[i].setAttribute('data-date', elements[i].innerHTML);\n            elements[i].innerHTML = jSuites.calendar.prettify(elements[i].innerHTML);\n        }\n    }\n}\n\njSuites.calendar.now = function(date, dateOnly) {\n    if (! date) {\n        var date = new Date();\n    }\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    var d = date.getDate();\n    var h = date.getHours();\n    var i = date.getMinutes();\n    var s = date.getSeconds();\n\n    // Two digits\n    var two = function(value) {\n        value = '' + value;\n        if (value.length == 1) {\n            value = '0' + value;\n        }\n        return value;\n    }\n\n    if (dateOnly == true) {\n        return two(y) + '-' + two(m) + '-' + two(d);\n    } else {\n        return two(y) + '-' + two(m) + '-' + two(d) + ' ' + two(h) + ':' + two(i) + ':' + two(s);\n    }\n}\n\n// Helper to extract date from a string\njSuites.calendar.extractDateFromString = function(date, format) {\n    var v1 = '' + date;\n    var v2 = format.replace(/[0-9]/g,'');\n\n    var test = 1;\n\n    // Get year\n    var y = v2.search(\"YYYY\");\n    y = v1.substr(y,4);\n    if (parseInt(y) != y) {\n        test = 0;\n    }\n\n    // Get month\n    var m = v2.search(\"MM\");\n    m = v1.substr(m,2);\n    if (parseInt(m) != m || d > 12) {\n        test = 0;\n    }\n\n    // Get day\n    var d = v2.search(\"DD\");\n    d = v1.substr(d,2);\n    if (parseInt(d) != d  || d > 31) {\n        test = 0;\n    }\n\n    // Get hour\n    var h = v2.search(\"HH\");\n    if (h >= 0) {\n        h = v1.substr(h,2);\n        if (! parseInt(h) || h > 23) {\n            h = '00';\n        }\n    } else {\n        h = '00';\n    }\n    \n    // Get minutes\n    var i = v2.search(\"MI\");\n    if (i >= 0) {\n        i = v1.substr(i,2);\n        if (! parseInt(i) || i > 59) {\n            i = '00';\n        }\n    } else {\n        i = '00';\n    }\n\n    // Get seconds\n    var s = v2.search(\"SS\");\n    if (s >= 0) {\n        s = v1.substr(s,2);\n        if (! parseInt(s) || s > 59) {\n            s = '00';\n        }\n    } else {\n        s = '00';\n    }\n\n    if (test == 1 && date.length == v2.length) {\n        // Update source\n        var data = y + '-' + m + '-' + d + ' ' + h + ':' +  i + ':' + s;\n\n        return data;\n    }\n\n    return '';\n}\n\n// Helper to convert date into string\njSuites.calendar.getDateString = function(value, format) {\n    // Default calendar\n    if (! format) {\n        var format = 'DD/MM/YYYY';\n    }\n\n    if (value) {\n        var d = ''+value;\n        d = d.split(' ');\n\n        var h = '';\n        var m = '';\n        var s = '';\n\n        if (d[1]) {\n            h = d[1].split(':');\n            m = h[1] ? h[1] : '00';\n            s = h[2] ? h[2] : '00';\n            h = h[0] ? h[0] : '00';\n        } else {\n            h = '00';\n            m = '00';\n            s = '00';\n        }\n\n        d = d[0].split('-');\n\n        if (d[0] && d[1] && d[2] && d[0] > 0 && d[1] > 0 && d[1] < 13 && d[2] > 0 && d[2] < 32) {\n            var calendar = new Date(d[0], d[1]-1, d[2]);\n            var weekday = new Array('Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday');\n            var months = new Array('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec');\n\n            d[1] = (d[1].length < 2 ? '0' : '') + d[1];\n            d[2] = (d[2].length < 2 ? '0' : '') + d[2];\n            h = (h.length < 2 ? '0' : '') + h;\n            m = (m.length < 2 ? '0' : '') + m;\n            s = (s.length < 2 ? '0' : '') + s;\n\n            value = format;\n            value = value.replace('WD', weekday[calendar.getDay()]);\n            value = value.replace('DD', d[2]);\n            value = value.replace('MM', d[1]);\n            value = value.replace('YYYY', d[0]);\n            value = value.replace('YY', d[0].substring(2,4));\n            value = value.replace('MON', months[parseInt(d[1])-1].toUpperCase());\n\n            if (h) {\n                value = value.replace('HH24', h);\n            }\n\n            if (h > 12) {\n                value = value.replace('HH12', h - 12);\n                value = value.replace('HH', h);\n            } else {\n                value = value.replace('HH12', h);\n                value = value.replace('HH', h);\n            }\n\n            value = value.replace('MI', m);\n            value = value.replace('MM', m);\n            value = value.replace('SS', s);\n        } else {\n            value = '';\n        }\n    }\n\n    return value;\n}\n\njSuites.calendar.isOpen = function(e) {\n    if (jSuites.calendar.current) {\n        if (! e.target.className || e.target.className.indexOf('jcalendar') == -1) {\n            jSuites.calendar.current.close(false, false);\n        }\n    }\n}\n\nif ('ontouchstart' in document.documentElement === true) {\n    document.addEventListener(\"touchstart\", jSuites.calendar.isOpen);\n} else {\n    document.addEventListener(\"mousedown\", jSuites.calendar.isOpen);\n}\r\n\r\njSuites.color = (function(el, options) {\n    var obj = {};\n    obj.options = {};\n    obj.values = [];\n\n    // Global container\n    if (! jSuites.color.current) {\n        jSuites.color.current = null;\n    }\n\n    /**\n     * @typedef {Object} defaults\n     * @property {(string|Array)} value - Initial value of the compontent\n     * @property {string} placeholder - The default instruction text on the element\n     * @property {requestCallback} onchange - Method to be execute after any changes on the element\n     * @property {requestCallback} onclose - Method to be execute when the element is closed\n     */\n    var defaults = {\n        placeholder: '',\n        value: null,\n        onclose: null,\n        onchange: null,\n        closeOnChange: true,\n    };\n\n    // Loop through our object\n    for (var property in defaults) {\n        if (options && options.hasOwnProperty(property)) {\n            obj.options[property] = options[property];\n        } else {\n            obj.options[property] = defaults[property];\n        }\n    }\n\n    var palette = {\n          \"red\": {\n            \"50\": \"#ffebee\",\n            \"100\": \"#ffcdd2\",\n            \"200\": \"#ef9a9a\",\n            \"300\": \"#e57373\",\n            \"400\": \"#ef5350\",\n            \"500\": \"#f44336\",\n            \"600\": \"#e53935\",\n            \"700\": \"#d32f2f\",\n            \"800\": \"#c62828\",\n            \"900\": \"#b71c1c\",\n          },\n          \"pink\": {\n            \"50\": \"#fce4ec\",\n            \"100\": \"#f8bbd0\",\n            \"200\": \"#f48fb1\",\n            \"300\": \"#f06292\",\n            \"400\": \"#ec407a\",\n            \"500\": \"#e91e63\",\n            \"600\": \"#d81b60\",\n            \"700\": \"#c2185b\",\n            \"800\": \"#ad1457\",\n            \"900\": \"#880e4f\",\n          },\n          \"purple\": {\n            \"50\": \"#f3e5f5\",\n            \"100\": \"#e1bee7\",\n            \"200\": \"#ce93d8\",\n            \"300\": \"#ba68c8\",\n            \"400\": \"#ab47bc\",\n            \"500\": \"#9c27b0\",\n            \"600\": \"#8e24aa\",\n            \"700\": \"#7b1fa2\",\n            \"800\": \"#6a1b9a\",\n            \"900\": \"#4a148c\",\n          },\n          \"indigo\": {\n            \"50\": \"#e8eaf6\",\n            \"100\": \"#c5cae9\",\n            \"200\": \"#9fa8da\",\n            \"300\": \"#7986cb\",\n            \"400\": \"#5c6bc0\",\n            \"500\": \"#3f51b5\",\n            \"600\": \"#3949ab\",\n            \"700\": \"#303f9f\",\n            \"800\": \"#283593\",\n            \"900\": \"#1a237e\",\n          },\n          \"blue\": {\n            \"50\": \"#e3f2fd\",\n            \"100\": \"#bbdefb\",\n            \"200\": \"#90caf9\",\n            \"300\": \"#64b5f6\",\n            \"400\": \"#42a5f5\",\n            \"500\": \"#2196f3\",\n            \"600\": \"#1e88e5\",\n            \"700\": \"#1976d2\",\n            \"800\": \"#1565c0\",\n            \"900\": \"#0d47a1\",\n          },\n          \"cyan\": {\n            \"50\": \"#e0f7fa\",\n            \"100\": \"#b2ebf2\",\n            \"200\": \"#80deea\",\n            \"300\": \"#4dd0e1\",\n            \"400\": \"#26c6da\",\n            \"500\": \"#00bcd4\",\n            \"600\": \"#00acc1\",\n            \"700\": \"#0097a7\",\n            \"800\": \"#00838f\",\n            \"900\": \"#006064\",\n          },\n          \"teal\": {\n            \"50\": \"#e0f2f1\",\n            \"100\": \"#b2dfdb\",\n            \"200\": \"#80cbc4\",\n            \"300\": \"#4db6ac\",\n            \"400\": \"#26a69a\",\n            \"500\": \"#009688\",\n            \"600\": \"#00897b\",\n            \"700\": \"#00796b\",\n            \"800\": \"#00695c\",\n            \"900\": \"#004d40\",\n          },\n          \"green\": {\n            \"50\": \"#e8f5e9\",\n            \"100\": \"#c8e6c9\",\n            \"200\": \"#a5d6a7\",\n            \"300\": \"#81c784\",\n            \"400\": \"#66bb6a\",\n            \"500\": \"#4caf50\",\n            \"600\": \"#43a047\",\n            \"700\": \"#388e3c\",\n            \"800\": \"#2e7d32\",\n            \"900\": \"#1b5e20\",\n          },\n          \"lightgreen\": {\n            \"50\": \"#f1f8e9\",\n            \"100\": \"#dcedc8\",\n            \"200\": \"#c5e1a5\",\n            \"300\": \"#aed581\",\n            \"400\": \"#9ccc65\",\n            \"500\": \"#8bc34a\",\n            \"600\": \"#7cb342\",\n            \"700\": \"#689f38\",\n            \"800\": \"#558b2f\",\n            \"900\": \"#33691e\",\n          },\n          \"lime\": {\n            \"50\": \"#f9fbe7\",\n            \"100\": \"#f0f4c3\",\n            \"200\": \"#e6ee9c\",\n            \"300\": \"#dce775\",\n            \"400\": \"#d4e157\",\n            \"500\": \"#cddc39\",\n            \"600\": \"#c0ca33\",\n            \"700\": \"#afb42b\",\n            \"800\": \"#9e9d24\",\n            \"900\": \"#827717\",\n          },\n          \"yellow\": {\n            \"50\": \"#fffde7\",\n            \"100\": \"#fff9c4\",\n            \"200\": \"#fff59d\",\n            \"300\": \"#fff176\",\n            \"400\": \"#ffee58\",\n            \"500\": \"#ffeb3b\",\n            \"600\": \"#fdd835\",\n            \"700\": \"#fbc02d\",\n            \"800\": \"#f9a825\",\n            \"900\": \"#f57f17\",\n          },\n          \"amber\": {\n            \"50\": \"#fff8e1\",\n            \"100\": \"#ffecb3\",\n            \"200\": \"#ffe082\",\n            \"300\": \"#ffd54f\",\n            \"400\": \"#ffca28\",\n            \"500\": \"#ffc107\",\n            \"600\": \"#ffb300\",\n            \"700\": \"#ffa000\",\n            \"800\": \"#ff8f00\",\n            \"900\": \"#ff6f00\",\n          },\n          \"orange\": {\n            \"50\": \"#fff3e0\",\n            \"100\": \"#ffe0b2\",\n            \"200\": \"#ffcc80\",\n            \"300\": \"#ffb74d\",\n            \"400\": \"#ffa726\",\n            \"500\": \"#ff9800\",\n            \"600\": \"#fb8c00\",\n            \"700\": \"#f57c00\",\n            \"800\": \"#ef6c00\",\n            \"900\": \"#e65100\",\n          },\n          \"deeporange\": {\n            \"50\": \"#fbe9e7\",\n            \"100\": \"#ffccbc\",\n            \"200\": \"#ffab91\",\n            \"300\": \"#ff8a65\",\n            \"400\": \"#ff7043\",\n            \"500\": \"#ff5722\",\n            \"600\": \"#f4511e\",\n            \"700\": \"#e64a19\",\n            \"800\": \"#d84315\",\n            \"900\": \"#bf360c\",\n          },\n          \"brown\": {\n            \"50\": \"#efebe9\",\n            \"100\": \"#d7ccc8\",\n            \"200\": \"#bcaaa4\",\n            \"300\": \"#a1887f\",\n            \"400\": \"#8d6e63\",\n            \"500\": \"#795548\",\n            \"600\": \"#6d4c41\",\n            \"700\": \"#5d4037\",\n            \"800\": \"#4e342e\",\n            \"900\": \"#3e2723\"\n          },\n          \"grey\": {\n            \"50\": \"#fafafa\",\n            \"100\": \"#f5f5f5\",\n            \"200\": \"#eeeeee\",\n            \"300\": \"#e0e0e0\",\n            \"400\": \"#bdbdbd\",\n            \"500\": \"#9e9e9e\",\n            \"600\": \"#757575\",\n            \"700\": \"#616161\",\n            \"800\": \"#424242\",\n            \"900\": \"#212121\"\n          },\n          \"bluegrey\": {\n            \"50\": \"#eceff1\",\n            \"100\": \"#cfd8dc\",\n            \"200\": \"#b0bec5\",\n            \"300\": \"#90a4ae\",\n            \"400\": \"#78909c\",\n            \"500\": \"#607d8b\",\n            \"600\": \"#546e7a\",\n            \"700\": \"#455a64\",\n            \"800\": \"#37474f\",\n            \"900\": \"#263238\"\n          }\n    };\n\n    var x = 0;\n    var y = 0;\n    var colors = [];\n\n    var col = Object.keys(palette);\n    var shade = Object.keys(palette[col[0]]);\n\n    for (var i = 0; i < col.length; i++) {\n        for (var j = 0; j < shade.length; j++) {\n            if (! colors[j]) {\n                colors[j] = [];\n            }\n            colors[j][i] = palette[col[i]][shade[j]];\n        }\n    };\n\n    // Value\n    if (obj.options.value) {\n        el.value = obj.options.value;\n    }\n\n    // Table container\n    var container = document.createElement('div');\n    container.className = 'jcolor';\n\n    // Table container\n    var backdrop = document.createElement('div');\n    backdrop.className = 'jcolor-backdrop';\n    container.appendChild(backdrop);\n\n    // Content\n    var content = document.createElement('div');\n    content.className = 'jcolor-content';\n\n    // Close button\n    var closeButton  = document.createElement('div');\n    closeButton.className = 'jcolor-close';\n    closeButton.innerHTML = 'Done';\n    closeButton.onclick = function() {\n        obj.close();\n    }\n    content.appendChild(closeButton);\n\n    // Table pallete\n    var table = document.createElement('table');\n    table.setAttribute('cellpadding', '7');\n    table.setAttribute('cellspacing', '0');\n\n    for (var i = 0; i < colors.length; i++) {\n        var tr = document.createElement('tr');\n        for (var j = 0; j < colors[i].length; j++) {\n            var td = document.createElement('td');\n            td.style.backgroundColor = colors[i][j];\n            td.setAttribute('data-value', colors[i][j]);\n            td.innerHTML = '';\n            tr.appendChild(td);\n\n            // Selected color\n            if (obj.options.value == colors[i][j]) {\n                td.classList.add('jcolor-selected');\n            }\n\n            // Possible values\n            obj.values[colors[i][j]] = td;\n        }\n        table.appendChild(tr);\n    }\n\n    /**\n     * Open color pallete\n     */\n    obj.open = function() {\n        if (jSuites.color.current) {\n            if (jSuites.color.current != obj) {\n                jSuites.color.current.close();\n            }\n        }\n\n        if (! jSuites.color.current) {\n            // Persist element\n            jSuites.color.current = obj;\n            // Show colorpicker\n            container.classList.add('jcolor-focus');\n\n            const rectContent = content.getBoundingClientRect();\n\n            if (jSuites.getWindowWidth() < 800) {\n                content.style.top = '';\n                content.classList.add('jcolor-fullscreen');\n                jSuites.slideBottom(content, 1);\n                backdrop.style.display = 'block';\n            } else {\n                if (content.classList.contains('jcolor-fullscreen')) {\n                    content.classList.remove('jcolor-fullscreen');\n                    backdrop.style.display = '';\n                }\n\n                const rect = el.getBoundingClientRect();\n\n                if (window.innerHeight < rect.bottom + rectContent.height) {\n                    content.style.top = -1 * (rectContent.height + rect.height + 2) + 'px';\n                } else {\n                    content.style.top = '2px';\n                }\n            }\n\n            container.focus();\n        }\n    }\n\n    /**\n     * Close color pallete\n     */\n    obj.close = function(ignoreEvents) {\n        if (jSuites.color.current) {\n            jSuites.color.current = null;\n            if (! ignoreEvents && typeof(obj.options.onclose) == 'function') {\n                obj.options.onclose(el);\n            }\n            container.classList.remove('jcolor-focus');\n        }\n\n        // Make sure backdrop is hidden\n        backdrop.style.display = '';\n\n        return obj.options.value;\n    }\n\n    /**\n     * Set value\n     */\n    obj.setValue = function(color) {\n        if (color) {\n            el.value = color;\n            obj.options.value = color;\n        }\n\n        // Remove current selecded mark\n        var selected = container.querySelector('.jcolor-selected');\n        if (selected) {\n            selected.classList.remove('jcolor-selected');\n        }\n\n        // Mark cell as selected\n        obj.values[color].classList.add('jcolor-selected');\n\n        // Onchange\n        if (typeof(obj.options.onchange) == 'function') {\n            obj.options.onchange(el, color);\n        }\n\r\n        if (obj.options.closeOnChange == true) {\r\n            obj.close();\r\n        }\n    }\n\n    /**\n     * Get value\n     */\n    obj.getValue = function() {\n        return obj.options.value;\n    }\n\n    /**\n     * If element is focus open the picker\n     */\n    el.addEventListener(\"focus\", function(e) {\n        obj.open();\n    });\n\n    el.addEventListener(\"mousedown\", function(e) {\n        if (! jSuites.color.current) {\r\n            setTimeout(function() {\r\n        obj.open();\n                e.preventDefault();\r\n            }, 200);\r\n        }\n    });\n\n    // Select color\n    container.addEventListener(\"mouseup\", function(e) {\n        if (e.target.tagName == 'TD') {\n            jSuites.color.current.setValue(e.target.getAttribute('data-value'));\n\r\n            if (jSuites.color.current) {\n                jSuites.color.current.close();\n            }\n        }\n    });\n\n    // Close controller\n    document.addEventListener(\"mousedown\", function(e) {\n        if (jSuites.color.current) {\n            var element = jSuites.getElement(e.target, 'jcolor');\n            if (! element) {\n                jSuites.color.current.close();\n            }\n        }\n    });\n\n    // Possible to focus the container\n    container.setAttribute('tabindex', '900');\n\n    // Placeholder\n    if (obj.options.placeholder) {\n        el.setAttribute('placeholder', obj.options.placeholder);\n    }\n\n    // Append to the table\n    content.appendChild(table);\n    container.appendChild(content);\n\n    // Insert picker after the element\n    if (el.tagName == 'INPUT') {\n        el.parentNode.insertBefore(container, el.nextSibling);\n    } else {\n        el.appendChild(container);\n    }\n\n    // Keep object available from the node\n    el.color = obj;\n\n    return obj;\n});\n\r\n\r\njSuites.contextmenu = (function(el, options) {\n    var obj = {};\n    obj.options = {};\n\n    // Default configuration\n    var defaults = {\n        items: null,\n        onclick: null,\n    };\n\n    // Loop through our object\n    for (var property in defaults) {\n        if (options && options.hasOwnProperty(property)) {\n            obj.options[property] = options[property];\n        } else {\n            obj.options[property] = defaults[property];\n        }\n    }\n\n    // Class definition\n    el.classList.add('jcontextmenu');\n    // Focusable\n    el.setAttribute('tabindex', '900');\n\n    /**\n     * Open contextmenu\n     */\n    obj.open = function(e, items) {\n        if (items) {\n            // Update content\n            obj.options.items = items;\n            // Create items\n            obj.create(items);\n        }\n        // Coordinates\n        if (e.target) {\n            var x = e.clientX;\n            var y = e.clientY;\n        } else {\n            var x = e.x;\n            var y = e.y;\n        }\n\n        el.classList.add('jcontextmenu-focus');\n        el.focus();\n\n        const rect = el.getBoundingClientRect();\n\n        if (window.innerHeight < y + rect.height) {\n            el.style.top = (y - rect.height) + 'px';\n        } else {\n            el.style.top = y + 'px';\n        }\n\n        if (window.innerWidth < x + rect.width) {\n            if (x - rect.width > 0) {\n                el.style.left = (x - rect.width) + 'px';\n            } else {\n                el.style.left = '10px';\n            }\n        } else {\n            el.style.left = x + 'px';\n        }\n    }\n\n    /**\n     * Close menu\n     */\n    obj.close = function() {\n        if (el.classList.contains('jcontextmenu-focus')) {\n            el.classList.remove('jcontextmenu-focus');\n        }\n    }\n\n    /**\n     * Create items based on the declared objectd\n     * @param {object} items - List of object\n     */\n    obj.create = function(items) {\n        // Update content\n        el.innerHTML = '';\n\n        // Append items\n        for (var i = 0; i < items.length; i++) {\n            if (items[i].type && items[i].type == 'line') {\n                var itemContainer = document.createElement('hr');\n            } else {\n                var itemContainer = document.createElement('div');\n                var itemText = document.createElement('a');\n                itemText.innerHTML = items[i].title;\n\n                if (items[i].disabled) {\n                    itemContainer.className = 'jcontextmenu-disabled';\n                } else if (items[i].onclick) {\n                    itemContainer.method = items[i].onclick;\n                    itemContainer.addEventListener(\"mouseup\", function() {\n                        // Execute method\n                        this.method(this);\n                    });\n                }\n                itemContainer.appendChild(itemText);\n\n                if (items[i].shortcut) {\n                    var itemShortCut = document.createElement('span');\n                    itemShortCut.innerHTML = items[i].shortcut;\n                    itemContainer.appendChild(itemShortCut);\n                }\n            }\n\n            el.appendChild(itemContainer);\n        }\n    }\n\n    if (typeof(obj.options.onclick) == 'function') {\n        el.addEventListener('click', function(e) {\n            obj.options.onclick(obj);\n        });\n    }\n\n    el.addEventListener('blur', function(e) {\n        setTimeout(function() {\n            obj.close();\n        }, 120);\n    });\n\n    window.addEventListener(\"mousewheel\", function() {\n        obj.close();\n    });\n\n    // Create items\n    if (obj.options.items) {\n        obj.create(obj.options.items);\n    }\n\n    el.contextmenu = obj;\n\n    return obj;\n});\n\njSuites.contextmenu.getElement = function(element) {\n    var foundId = 0;\n\n    function path (element) {\n        if (element.parentNode && element.getAttribute('aria-contextmenu-id')) {\n            foundId = element.getAttribute('aria-contextmenu-id')\n        } else {\n            if (element.parentNode) {\n                path(element.parentNode);\n            }\n        }\n    }\n\n    path(element);\n\n    return foundId;\n}\n\ndocument.addEventListener(\"contextmenu\", function(e) {\n    var id = jSuites.contextmenu.getElement(e.target);\n    if (id) {\n        var element = document.querySelector('#' + id);\n        if (! element) {\n            console.error('JSUITES: Contextmenu id not found');\n        } else {\n            element.contextmenu.open(e);\n            e.preventDefault();\n        }\n    }\n});\r\n\r\n/**\n * Dialog v1.0.1\n * Author: paul.hodel@gmail.com\n * https://github.com/paulhodel/jtools\n */\n \njSuites.dialog = (function() {\n    var obj = {};\n    obj.options = {};\n\n    var dialog = document.createElement('div');\n    dialog.setAttribute('tabindex', '901');\n    dialog.className = 'jdialog';\n    dialog.id = 'dialog';\n\n    var dialogHeader = document.createElement('div');\n    dialogHeader.className = 'jdialog-header';\n\n    var dialogTitle = document.createElement('div');\n    dialogTitle.className = 'jdialog-title';\n    dialogHeader.appendChild(dialogTitle);\n\n    var dialogMessage = document.createElement('div');\n    dialogMessage.className = 'jdialog-message';\n    dialogHeader.appendChild(dialogMessage);\n\n    var dialogFooter = document.createElement('div');\n    dialogFooter.className = 'jdialog-footer';\n\n    var dialogContainer = document.createElement('div');\n    dialogContainer.className = 'jdialog-container';\n    dialogContainer.appendChild(dialogHeader);\n    dialogContainer.appendChild(dialogFooter);\n\n    // Confirm\n    var dialogConfirm = document.createElement('div');\n    var dialogConfirmButton = document.createElement('input');\n    dialogConfirmButton.value = obj.options.confirmLabel;\n    dialogConfirmButton.type = 'button';\n    dialogConfirmButton.onclick = function() {\n        if (typeof(obj.options.onconfirm) == 'function') {\n            obj.options.onconfirm();\n        }\n        obj.close();\n    };\n    dialogConfirm.appendChild(dialogConfirmButton);\n    dialogFooter.appendChild(dialogConfirm);\n\n    // Cancel\n    var dialogCancel = document.createElement('div');\n    var dialogCancelButton = document.createElement('input');\n    dialogCancelButton.value = obj.options.cancelLabel;\n    dialogCancelButton.type = 'button';\n    dialogCancelButton.onclick = function() {\n        if (typeof(obj.options.oncancel) == 'function') {\n            obj.options.oncancel();\n        }\n        obj.close();\n    }\n    dialogCancel.appendChild(dialogCancelButton);\n    dialogFooter.appendChild(dialogCancel);\n\n    // Dialog\n    dialog.appendChild(dialogContainer);\n\n    obj.open = function(options) {\n        obj.options = options;\n\n        if (obj.options.title) {\n            dialogTitle.innerHTML = obj.options.title;\n        }\n\n        if (obj.options.message) {\n            dialogMessage.innerHTML = obj.options.message;\n        }\n\n        if (! obj.options.confirmLabel) {\n            obj.options.confirmLabel = 'OK';\n        }\n        dialogConfirmButton.value = obj.options.confirmLabel;\n\n        if (! obj.options.cancelLabel) {\n            obj.options.cancelLabel = 'Cancel';\n        }\n        dialogCancelButton.value = obj.options.cancelLabel;\n\n        if (obj.options.type == 'confirm') {\n            dialogCancelButton.parentNode.style.display = '';\n        } else {\n            dialogCancelButton.parentNode.style.display = 'none';\n        }\n\n        // Append element to the app\n        dialog.style.opacity = 100;\n\n        // Append to the page\n        if (jSuites.el) {\n            jSuites.el.appendChild(dialog);\n        } else {\n            document.body.appendChild(dialog);\n        }\n\n        // Focus\n        dialog.focus();\n\n        // Show\n        setTimeout(function() {\n            dialogContainer.style.opacity = 100;\n        }, 0);\n    };\n\n    obj.close = function() {\n        dialog.style.opacity = 0;\n        dialogContainer.style.opacity = 0;\n        setTimeout(function() {\n            dialog.remove();\n        }, 100);\n    };\n\n    return obj;\n})();\n\njSuites.confirm = (function(message, onconfirm) {\n    if (jSuites.getWindowWidth() < 800) {\n        jSuites.dialog.open({\n            type: 'confirm',\n            message: message,\n            title: 'Confirmation',\n            onconfirm: onconfirm,\n        });\n    } else {\n        if (confirm(message)) {\n            onconfirm();\n        }\n    }\n});\n\njSuites.alert = function(message) {\n    if (jSuites.getWindowWidth() < 800) {\n        jSuites.dialog.open({\n            title:'Alert',\n            message:message,\n        });\n    } else {\n        alert(message);\n    }\n}\n\r\n\r\njSuites.dropdown = (function(el, options) {\n    var obj = {};\n    obj.options = {};\n\n    // If the element is a SELECT tag, create a configuration object\n    if (el.tagName == 'SELECT') {\n        var ret = jSuites.dropdown.extractFromDom(el, options);\n        el = ret.el;\n        options = ret.options;\n    }\n\n    // Default configuration\n    var defaults = {\n        url: null,\n        data: [],\n        multiple: false,\n        autocomplete: false,\n        type: null,\n        width: null,\n        opened: false,\n        value: null,\n        placeholder: '',\n        position: false,\n        onchange: null,\n        onload: null,\n        onopen: null,\n        onclose: null,\n        onblur: null,\n    };\n\n    // Loop through our object\n    for (var property in defaults) {\n        if (options && options.hasOwnProperty(property)) {\n            obj.options[property] = options[property];\n        } else {\n            obj.options[property] = defaults[property];\n        }\n    }\n\n    // Global container\n    if (! jSuites.dropdown.current) {\n        jSuites.dropdown.current = null;\n    }\n\n    // Containers\n    obj.items = [];\n    obj.groups = [];\n    obj.selected = [];\n\n    // Create dropdown\n    el.classList.add('jdropdown');\n \n    if (obj.options.type == 'searchbar') {\n        el.classList.add('jdropdown-searchbar');\n    } else if (obj.options.type == 'list') {\n        el.classList.add('jdropdown-list');\n    } else if (obj.options.type == 'picker') {\n        el.classList.add('jdropdown-picker');\n    } else {\n        if (jSuites.getWindowWidth() < 800) {\n            el.classList.add('jdropdown-picker');\n            obj.options.type = 'picker';\n        } else {\n            if (obj.options.width) {\n                el.style.width = obj.options.width;\n                el.style.minWidth = obj.options.width;\n            }\n            el.classList.add('jdropdown-default');\n            obj.options.type = 'default';\n        }\n    }\n\n    // Header container\n    var containerHeader = document.createElement('div');\n    containerHeader.className = 'jdropdown-container-header';\n\n    // Header\n    var header = document.createElement('input');\n    header.className = 'jdropdown-header';\n    if (typeof(obj.options.onblur) == 'function') {\n        header.onblur = function() {\n            obj.options.onblur(el);\n        }\n    }\n\n    // Container\n    var container = document.createElement('div');\n    container.className = 'jdropdown-container';\n\n    // Dropdown content\n    var content = document.createElement('div');\n    content.className = 'jdropdown-content';\n\n    // Close button\n    var closeButton  = document.createElement('div');\n    closeButton.className = 'jdropdown-close';\n    closeButton.innerHTML = 'Done';\n\n    // Create backdrop\n    var backdrop  = document.createElement('div');\n    backdrop.className = 'jdropdown-backdrop';\n\n    // Autocomplete\n    if (obj.options.autocomplete == true) {\n        el.setAttribute('data-autocomplete', true);\n\n        // Handler\n        var keyTimer = null;\n        header.addEventListener('keyup', function(e) {\n            if (keyTimer) {\n                clearTimeout(keyTimer);\n            }\n            keyTimer = setTimeout(function() {\n                obj.find(header.value);\n                keyTimer = null;\n            }, 500);\n\n            if (! el.classList.contains('jdropdown-focus')) {\n                if (e.which > 65) {\n                    obj.open();\n                }\n            }\n        });\n    } else {\n        header.setAttribute('readonly', 'readonly');\n    }\n\n    // Place holder\n    if (! obj.options.placeholder && el.getAttribute('placeholder')) {\n        obj.options.placeholder = el.getAttribute('placeholder');\n    }\n\n    if (obj.options.placeholder) {\n        header.setAttribute('placeholder', obj.options.placeholder);\n    }\n\n    // Append elements\n    containerHeader.appendChild(header);\n    if (obj.options.type == 'searchbar') {\n        containerHeader.appendChild(closeButton);\n    } else {\n        container.appendChild(closeButton);\n    }\n    container.appendChild(content);\n    el.appendChild(containerHeader);\n    el.appendChild(container);\n    el.appendChild(backdrop);\n\n    /**\n     * Init dropdown\n     */\n    obj.init = function() {\n        if (obj.options.url) {\n            jSuites.ajax({\n                url: obj.options.url,\n                method: 'GET',\n                dataType: 'json',\n                success: function(data) {\n                    if (data) {\n                        // Set data\n                        obj.setData(data);\n                        // Set value\n                        if (obj.options.value != null) {\n                            obj.setValue(obj.options.value);\n                        }\n                        // Onload method\n                        if (typeof(obj.options.onload) == 'function') {\n                            obj.options.onload(el, obj, data);\n                        }\n                    }\n                }\n            });\n        } else {\n            // Set data\n            obj.setData();\n            // Set value\n            if (obj.options.value != null) {\n                obj.setValue(obj.options.value);\n            }\n            // Onload\n            if (typeof(obj.options.onload) == 'function') {\n                obj.options.onload(el, obj, data);\n            }\n        }\n\n        // Open dropdown\n        if (obj.options.opened == true) {\n            obj.open();\n        }\n    }\n\n    obj.getUrl = function() {\n        return obj.options.url;\n    }\n\n    obj.setUrl = function(url) {\n        obj.options.url = url;\n\n        jSuites.ajax({\n            url: obj.options.url,\n            method: 'GET',\n            dataType: 'json',\n            success: function(data) {\n                obj.setData(data);\n            }\n        });\n    }\n\n    /**\n     * Create a new item\n     */\n    obj.createItem = function(data) {\n        // Create item\n        var item = {};\n        item.element = document.createElement('div');\n        item.element.className = 'jdropdown-item';\n        item.value = data.id;\n        item.text = data.name;\n        item.textLowerCase = '' + data.name.toLowerCase();\n\n        // Image\n        if (data.image) {\n            var image = document.createElement('img');\n            image.className = 'jdropdown-image';\n            image.src = data.image;\n            if (! data.title) {\n               image.classList.add('jdropdown-image-small');\n            }\n            item.element.appendChild(image);\n        }\n\n        // Set content\n        var node = document.createElement('div');\n        node.className = 'jdropdown-description';\n        node.innerHTML = data.name;\n\n        // Title\n        if (data.title) {\n            var title = document.createElement('div');\n            title.className = 'jdropdown-title';\n            title.innerHTML = data.title;\n            node.appendChild(title);\n        }\n\n        // Add node to item\n        item.element.appendChild(node);\n\n        return item;\n    }\n\n    obj.setData = function(data) {\n        // Update data\n        if (data) {\n            obj.options.data = data;\n        }\n\n        // Data\n        var data = obj.options.data;\n\n        // Remove content from the DOM\n        container.removeChild(content);\n\n        // Make sure the content container is blank\n        content.innerHTML = '';\n\n        // Reset\n        obj.reset();\n\n        // Reset items\n        obj.items = [];\n\n        // Helpers\n        var items = [];\n        var groups = [];\n\n        // Create elements\n        if (data.length) {\n            // Prepare data\n            for (var i = 0; i < data.length; i++) {\n                // Compatibility\n                if (typeof(data[i]) != 'object') {\n                    // Correct format\n                    obj.options.data[i] = data[i] = { id: data[i], name: data[i] };\n                }\n\n                // Process groups\n                if (data[i].group) {\n                    if (! groups[data[i].group]) {\n                        groups[data[i].group] = [];\n                    }\n                    groups[data[i].group].push(i);\n                } else {\n                    items.push(i);\n                }\n            }\n\n            // Groups\n            var groupNames = Object.keys(groups);\n\n            // Append groups in case exists\n            if (groupNames.length > 0) {\n                for (var i = 0; i < groupNames.length; i++) {\n                    // Group container\n                    var group = document.createElement('div');\n                    group.className = 'jdropdown-group';\n                    // Group name\n                    var groupName = document.createElement('div');\n                    groupName.className = 'jdropdown-group-name';\n                    groupName.innerHTML = groupNames[i];\n                    // Group arrow\n                    var groupArrow = document.createElement('i');\n                    groupArrow.className = 'jdropdown-group-arrow jdropdown-group-arrow-down';\n                    groupName.appendChild(groupArrow);\n                    // Group items\n                    var groupContent = document.createElement('div');\n                    groupContent.className = 'jdropdown-group-items';\n                    for (var j = 0; j < groups[groupNames[i]].length; j++) {\n                        var item = obj.createItem(data[groups[groupNames[i]][j]]);\n                        groupContent.appendChild(item.element);\n                        // Items\n                        obj.items.push(item);\n                    }\n                    // Group itens\n                    group.appendChild(groupName);\n                    group.appendChild(groupArrow);\n                    group.appendChild(groupContent);\n                    content.appendChild(group);\n                }\n            }\n\n            if (items.length) {\n                for (var i = 0; i < items.length; i++) {\n                    var item = obj.createItem(data[items[i]]);\n                    obj.items.push(item);\n                    content.appendChild(item.element);\n                }\n            }\n\n            // Create the Indexes\n            for (var i = 0; i < obj.items.length; i++) {\n                obj.items[i].element.setAttribute('data-index', i);\n            }\n        }\n\n        // Re-insert the content to the container\n        container.appendChild(content);\n    }\n\n    obj.getText = function(asArray) {\n        // Result\n        var result = [];\n        // Append options\n        for (var i = 0; i < obj.selected.length; i++) {\n            if (obj.items[obj.selected[i]]) {\n                result.push(obj.items[obj.selected[i]].text);\n            }\n        }\n\n        if (asArray) {\n            return result;\n        } else {\n            return result.join('; ');\n        }\n    }\n\n    obj.getValue = function(asArray) {\n        // Result\n        var result = [];\n        // Append options\n        for (var i = 0; i < obj.selected.length; i++) {\n            if (obj.items[obj.selected[i]]) {\n                result.push(obj.items[obj.selected[i]].value);\n            }\n        }\n\n        if (asArray) {\n            return result;\n        } else {\n            return result.join(';');\n        }\n    }\n\n    obj.setValue = function(value) {\n        // Remove values\n        for (var i = 0; i < obj.selected.length; i++) {\n            obj.items[obj.selected[i]].element.classList.remove('jdropdown-selected')\n        } \n\n        // Reset selected\n        obj.selected = [];\n\n        // Set values\n        if (value != null) {\n            if (Array.isArray(value)) {\n                for (var i = 0; i < obj.items.length; i++) {\n                    for (var j = 0; j < value.length; j++) {\n                        if (obj.items[i].value == value[j]) {\n                            // Keep index of the selected item\n                            obj.selected.push(i);\n                            // Visual selection\n                            obj.items[i].element.classList.add('jdropdown-selected');\n                        }\n                    }\n                }\n            } else {\n                for (var i = 0; i < obj.items.length; i++) {\n                    if (obj.items[i].value == value) {\n                        // Keep index of the selected item\n                        obj.selected.push(i);\n                        // Visual selection\n                        obj.items[i].element.classList.add('jdropdown-selected');\n                    }\n                }\n            }\n        }\n\n        // Update labels\n        obj.updateLabel();\n    }\n\n    obj.selectIndex = function(index) {\n        // Only select those existing elements\n        if (obj.items && obj.items[index]) {\n            var index = index = parseInt(index);\n            // Current selection\n            var oldValue = obj.getValue();\n            var oldLabel = obj.getText();\n\n            // Remove cursor style\n            if (obj.currentIndex != null) {\n                obj.items[obj.currentIndex].element.classList.remove('jdropdown-cursor');\n            }\n            // Set cursor style\n            obj.items[index].element.classList.add('jdropdown-cursor');\n\n            // Update cursor position\n            obj.currentIndex = index;\n\n            // Focus behaviour\n            if (! obj.options.multiple) {\n                // Unselect option\n                if (obj.items[index].element.classList.contains('jdropdown-selected')) {\n                    // Reset selected\n                    obj.resetSelected();\n                } else {\n                    // Reset selected\n                    obj.resetSelected();\n                    // Update selected item\n                    obj.items[index].element.classList.add('jdropdown-selected');\n                    // Add to the selected list\n                    obj.selected.push(index);\n                    // Close\n                    obj.close();\n                }\n            } else {\n                // Toggle option\n                if (obj.items[index].element.classList.contains('jdropdown-selected')) {\n                    obj.items[index].element.classList.remove('jdropdown-selected');\n                    // Remove from selected list\n                    var indexToRemove = obj.selected.indexOf(index);\n                    // Remove select\n                    obj.selected.splice(indexToRemove, 1);\n                } else {\n                    // Select element\n                    obj.items[index].element.classList.add('jdropdown-selected');\n                    // Add to the selected list\n                    obj.selected.push(index);\n                }\n\n                // Update labels for multiple dropdown\n                if (! obj.options.autocomplete) {\n                    obj.updateLabel();\n                }\n            }\n\n            // Current selection\n            var newValue = obj.getValue();\n            var newLabel = obj.getText();\n\n            // Events\n            if (typeof(obj.options.onchange) == 'function') {\n                obj.options.onchange(el, index, oldValue, newValue, oldLabel, newLabel);\n            }\n        }\n    }\n\n    obj.selectItem = function(item) {\n        if (jSuites.dropdown.current) {\n            var index = item.getAttribute('data-index');\n            if (index != null) {\n                obj.selectIndex(index);\n            }\n        }\n    }\n\n    obj.find = function(str) {\n        // Force lowercase\n        var str = str ? str.toLowerCase() : null;\n\n        // Append options\n        for (var i = 0; i < obj.items.length; i++) {\n            if (str == null || obj.items[i].textLowerCase.indexOf(str) != -1) {\n                obj.items[i].element.style.display = '';\n            } else {\n                if (obj.selected.indexOf(i) == -1) {\n                    obj.items[i].element.style.display = 'none';\n                } else {\n                    obj.items[i].element.style.display = '';\n                }\n            }\n        }\n\n        var numVisibleItems = function(items) {\n            var visible = 0;\n            for (var j = 0; j < items.length; j++) {\n                if (items[j].style.display != 'none') {\n                    visible++;\n                }\n            }\n            return visible;\n        }\n\n        // Hide groups\n        /*for (var i = 0; i < obj.groups.length; i++) {\n            if (numVisibleItems(obj.groups[i].querySelectorAll('.jdropdown-item'))) {\n                obj.groups[i].children[0].style.display = '';\n            } else {\n                obj.groups[i].children[0].style.display = 'none';\n            }\n        }*/\n    }\n\n    obj.updateLabel = function() {\n        // Update label\n        header.value = obj.getText();\n    }\n\n    obj.open = function() {\n        if (jSuites.dropdown.current != el) {\n            if (jSuites.dropdown.current) {\n                jSuites.dropdown.current.dropdown.close();\n            }\n            jSuites.dropdown.current = el;\n        }\n\n        // Focus\n        if (! el.classList.contains('jdropdown-focus')) {\n            // Add focus\n            el.classList.add('jdropdown-focus');\n\n            // Animation\n            if (jSuites.getWindowWidth() < 800) {\n                if (obj.options.type == null || obj.options.type == 'picker') {\n                    jSuites.slideBottom(container, 1);\n                }\n            }\n\n            // Filter\n            if (obj.options.autocomplete == true) {\n                // Redo search\n                obj.find();\n                // Clear search field\n                header.value = '';\n                header.focus();\n            }\n\n            // Set cursor for the first or first selected element\n            var cursor = (obj.selected && obj.selected[0]) ? obj.selected[0] : 0;\n            obj.updateCursor(cursor);\n\n            // Container Size\n            if (! obj.options.type || obj.options.type == 'default') {\n                const rect = el.getBoundingClientRect();\n                const rectContainer = container.getBoundingClientRect();\n\n                if (obj.options.position) {\n                    container.style.position = 'fixed';\n                    if (window.innerHeight < rect.bottom + rectContainer.height) {\n                        container.style.top = '';\n                        container.style.bottom = (window.innerHeight - rect.top ) + 1 + 'px';\n                    } else {\n                        container.style.top = rect.bottom + 'px';\n                        container.style.bottom = '';\n                    }\n                    container.style.left = rect.left + 'px';\n                } else {\n                    if (window.innerHeight < rect.bottom + rectContainer.height) {\n                        container.style.top = '';\n                        container.style.bottom = rect.height + 1 + 'px';\n                    } else {\n                        container.style.top = '';\n                        container.style.bottom = '';\n                    }\n                }\n\n                container.style.minWidth = rect.width + 'px';\n            }\n        }\n\n        // Events\n        if (typeof(obj.options.onopen) == 'function') {\n            obj.options.onopen(el);\n        }\n    }\n\n    obj.close = function(ignoreEvents) {\n        if (jSuites.dropdown.current) {\n            // Remove controller\n            jSuites.dropdown.current = null\n            // Remove cursor\n            obj.resetCursor();\n            // Update labels\n            obj.updateLabel();\n            // Events\n            if (! ignoreEvents && typeof(obj.options.onclose) == 'function') {\n                obj.options.onclose(el);\n            }\n            // Blur\n            if (header.blur) {\n                header.blur();\n            }\n            // Remove focus\n            el.classList.remove('jdropdown-focus');\n        }\n\n        return obj.getValue();\n    }\n\n    /**\n     * Update position cursor\n     */\n    obj.updateCursor = function(index) {\n        // Set new cursor\n        if (obj.items && obj.items[index] && obj.items[index].element) {\n            // Reset cursor\n            obj.resetCursor();\n\n            // Set new cursor\n            obj.items[index].element.classList.add('jdropdown-cursor');\n\n            // Update position\n            obj.currentIndex = parseInt(index);\n    \n            // Update scroll to the cursor element\n            var container = content.scrollTop;\n            var element = obj.items[obj.currentIndex].element;\n            content.scrollTop = element.offsetTop - element.scrollTop + element.clientTop - 95;\n        }\n    }\n\n    /**\n     * Reset cursor\n     */\n    obj.resetCursor = function() {\n        // Remove current cursor\n        if (obj.currentIndex != null) {\n            // Remove visual cursor\n            if (obj.items && obj.items[obj.currentIndex]) {\n                obj.items[obj.currentIndex].element.classList.remove('jdropdown-cursor');\n            }\n            // Reset cursor\n            obj.currentIndex = null;\n        }\n    }\n\n    /**\n     * Reset cursor\n     */\n    obj.resetSelected = function() {\n        // Unselected all\n        if (obj.selected) {\n            // Remove visual selection\n            for (var i = 0; i < obj.selected.length; i++) {\n                if (obj.items[obj.selected[i]]) {\n                    obj.items[obj.selected[i]].element.classList.remove('jdropdown-selected');\n                }\n            }\n            // Reset current selected items\n            obj.selected = [];\n        }\n    }\n\n    /**\n     * Reset cursor and selected items\n     */\n    obj.reset = function() {\n        // Reset cursor\n        obj.resetCursor();\n\n        // Reset selected\n        obj.resetSelected();\n\n        // Update labels\n        obj.updateLabel();\n    }\n\n    /**\n     * First visible item\n     */\n    obj.firstVisible = function() {\n        var newIndex = null;\n        for (var i = 0; i < obj.items.length; i++) {\n            if (obj.items[i].element.style.display != 'none') {\n                newIndex = i;\n                break;\n            }\n        }\n\n        if (newIndex == null) {\n            return false;\n        }\n\n        obj.updateCursor(newIndex);\n    }\n\n    /**\n     * Navigation\n     */\n    obj.first = function() {\n        var newIndex = null;\n        for (var i = obj.currentIndex - 1; i >= 0; i--) {\n            if (obj.items[i].element.style.display != 'none') {\n                newIndex = i;\n            }\n        }\n\n        if (newIndex == null) {\n            return false;\n        }\n\n        obj.updateCursor(newIndex);\n    }\n\n    obj.last = function() {\n        var newIndex = null;\n        for (var i = obj.currentIndex + 1; i < obj.items.length; i++) {\n            if (obj.items[i].element.style.display != 'none') {\n                newIndex = i;\n            }\n        }\n\n        if (newIndex == null) {\n            return false;\n        }\n\n        obj.updateCursor(newIndex);\n    }\n\n    obj.next = function() {\n        var newIndex = null;\n        for (var i = obj.currentIndex + 1; i < obj.items.length; i++) {\n            if (obj.items[i].element.style.display != 'none') {\n                newIndex = i;\n                break;\n            }\n        }\n\n        if (newIndex == null) {\n            return false;\n        }\n\n        obj.updateCursor(newIndex);\n    }\n\n    obj.prev = function() {\n        var newIndex = null;\n        for (var i = obj.currentIndex - 1; i >= 0; i--) {\n            if (obj.items[i].element.style.display != 'none') {\n                newIndex = i;\n                break;\n            }\n        }\n\n        if (newIndex == null) {\n            return false;\n        }\n\n        obj.updateCursor(newIndex);\n    }\n\n    if (! jSuites.dropdown.hasEvents) {\n        if ('ontouchsend' in document.documentElement === true) {\n            document.addEventListener('touchsend', jSuites.dropdown.mouseup);\n        } else {\n            document.addEventListener('mouseup', jSuites.dropdown.mouseup);\n        }\n        document.addEventListener('keydown', jSuites.dropdown.onkeydown);\n\n        jSuites.dropdown.hasEvents = true;\n    }\n\n    // Start dropdown\n    obj.init();\n\n    // Keep object available from the node\n    el.dropdown = obj;\n\n    return obj;\n});\n\njSuites.dropdown.hasEvents = false;\n\njSuites.dropdown.mouseup = function(e) {\n    var element = jSuites.getElement(e.target, 'jdropdown');\n    if (element) {\n        var dropdown = element.dropdown;\n        if (e.target.classList.contains('jdropdown-header')) {\n            if (element.classList.contains('jdropdown-focus') && element.classList.contains('jdropdown-default')) {\n                dropdown.close();\n            } else {\n                dropdown.open();\n            }\n        } else if (e.target.classList.contains('jdropdown-group-name')) {\n            var items = e.target.nextSibling.children;\n            if (e.target.nextSibling.style.display != 'none') {\n                for (var i = 0; i < items.length; i++) {\n                    if (items[i].style.display != 'none') {\n                        dropdown.selectItem(items[i]);\n                    }\n                }\n            }\n        } else if (e.target.classList.contains('jdropdown-group-arrow')) {\n            if (e.target.classList.contains('jdropdown-group-arrow-down')) {\n                e.target.classList.remove('jdropdown-group-arrow-down');\n                e.target.classList.add('jdropdown-group-arrow-up');\n                e.target.parentNode.nextSibling.style.display = 'none';\n            } else {\n                e.target.classList.remove('jdropdown-group-arrow-up');\n                e.target.classList.add('jdropdown-group-arrow-down');\n                e.target.parentNode.nextSibling.style.display = '';\n            }\n        } else if (e.target.classList.contains('jdropdown-item')) {\n            dropdown.selectItem(e.target);\n        } else if (e.target.classList.contains('jdropdown-image')) {\n            dropdown.selectIndex(e.target.parentNode.getAttribute('data-index'));\n        } else if (e.target.classList.contains('jdropdown-description')) {\n            dropdown.selectIndex(e.target.parentNode.getAttribute('data-index'));\n        } else if (e.target.classList.contains('jdropdown-title')) {\n            dropdown.selectIndex(e.target.parentNode.parentNode.getAttribute('data-index'));\n        } else if (e.target.classList.contains('jdropdown-close') || e.target.classList.contains('jdropdown-backdrop')) {\n            // Close\n            dropdown.close();\n        }\n\n        e.stopPropagation();\n        e.preventDefault();\n    } else {\n        if (jSuites.dropdown.current) {\n            jSuites.dropdown.current.dropdown.close();\n        }\n    }\n}\n\n\n// Keydown controls\njSuites.dropdown.onkeydown = function(e) {\n    if (jSuites.dropdown.current) {\n        // Element\n        var element = jSuites.dropdown.current.dropdown;\n        // Index\n        var index = element.currentIndex;\n\n        if (e.shiftKey) {\n\n        } else {\n            if (e.which == 13 || e.which == 27 || e.which == 35 || e.which == 36 || e.which == 38 || e.which == 40) {\n                // Move cursor\n                if (e.which == 13) {\n                    element.selectIndex(index)\n                } else if (e.which == 38) {\n                    if (index == null) {\n                        element.firstVisible();\n                    } else if (index > 0) {\n                        element.prev();\n                    }\n                } else if (e.which == 40) {\n                    if (index == null) {\n                        element.firstVisible();\n                    } else if (index + 1 < element.options.data.length) {\n                        element.next();\n                    }\n                } else if (e.which == 36) {\n                    element.first();\n                } else if (e.which == 35) {\n                    element.last();\n                } else if (e.which == 27) {\n                    element.close();\n                }\n\n                e.stopPropagation();\n                e.preventDefault();\n            }\n        }\n    }\n}\n\njSuites.dropdown.extractFromDom = function(el, options) {\n    // Keep reference\n    var select = el;\n    if (! options) {\n        options = {};\n    }\n    // Prepare configuration\n    if (el.getAttribute('multiple') && (! options || options.multiple == undefined)) {\n        options.multiple = true;\n    }\n    if (el.getAttribute('placeholder') && (! options || options.placeholder == undefined)) {\n        options.placeholder = el.getAttribute('placeholder');\n    }\n    if (el.getAttribute('data-autocomplete') && (! options || options.autocomplete == undefined)) {\n        options.autocomplete = true;\n    }\n    if (! options || options.width == undefined) {\n        options.width = el.offsetWidth;\n    }\n    if (el.value && (! options || options.value == undefined)) {\n        options.value = el.value;\n    }\n    if (! options || options.data == undefined) {\n        options.data = [];\n        for (var j = 0; j < el.children.length; j++) {\n            if (el.children[j].tagName == 'OPTGROUP') {\n                for (var i = 0; i < el.children[j].children.length; i++) {\n                    options.data.push({\n                        id: el.children[j].children[i].value,\n                        name: el.children[j].children[i].innerHTML,\n                        group: el.children[j].getAttribute('label'),\n                    });\n                }\n            } else {\n                options.data.push({\n                    id: el.children[j].value,\n                    name: el.children[j].innerHTML,\n                });\n            }\n        }\n    }\n    if (! options || options.onchange == undefined) {\n        options.onchange = function(a,b,c,d) {\n            if (options.multiple == true) {\n                if (obj.items[b].classList.contains('jdropdown-selected')) {\n                    select.options[b].setAttribute('selected', 'selected');\n                } else {\n                    select.options[b].removeAttribute('selected');\n                }\n            } else {\n                select.value = d;\n            }\n        }\n    }\n    // Create DIV\n    var div = document.createElement('div');\n    el.parentNode.insertBefore(div, el);\n    el.style.display = 'none';\n    el = div;\n\n    return { el:el, options:options };\n}\r\n\r\n/**\n * (c) jTools Text Editor\n * https://github.com/paulhodel/jtools\n *\n * @author: Paul Hodel <paul.hodel@gmail.com>\n * @description: Inline richtext editor\n */\n\njSuites.editor = (function(el, options) {\n    var obj = {};\n    obj.options = {};\n\n    // Default configuration\n    var defaults = {\n        // Initial HTML content\n        value: null,\n        // Initial snippet\n        snippet: null,\n        // Add toolbar\n        toolbar: null,\n        // Max height\n        maxHeight: null,\n        // Website parser is to read websites and images from cross domain\n        remoteParser: null,\n        // Key from youtube to read properties from URL\n        youtubeKey: null,\n        // User list\n        userSearch: null,\n        // Parse URL\n        parseURL: false,\n        // Accept drop files\n        dropZone: true,\n        dropAsAttachment: false,\n        acceptImages: true,\n        acceptFiles: false,\n        maxFileSize: 5000000, \n        // Border\n        border: true,\n        padding: true,\n        focus: false,\n        // Events\n        onclick: null,\n        onfocus: null,\n        onblur: null,\n        onload: null,\n        onenter: null,\n        onkeyup: null,\n        onkeydown: null,\n    };\n\n    // Loop through our object\n    for (var property in defaults) {\n        if (options && options.hasOwnProperty(property)) {\n            obj.options[property] = options[property];\n        } else {\n            obj.options[property] = defaults[property];\n        }\n    }\n\n    // Private controllers\n    var imageResize = 0;\n    var editorTimer = null;\n    var editorAction = null;\n\n    // Make sure element is empty\n    el.innerHTML = '';\n\n    // Prepare container\n    el.classList.add('jeditor-container');\n\n    // Padding\n    if (obj.options.padding == true) {\n        el.classList.add('jeditor-padding');\n    }\n\n    // Border\n    if (obj.options.border == false) {\n        el.style.border = '0px';\n    }\n\n    // Snippet\n    var snippet = document.createElement('div');\n    snippet.className = 'snippet';\n    snippet.setAttribute('contenteditable', false);\n\n    // Toolbar\n    var toolbar = document.createElement('div');\n    toolbar.className = 'jeditor-toolbar';\n\n    // Create editor\n    var editor = document.createElement('div');\n    editor.setAttribute('contenteditable', true);\n    editor.setAttribute('spellcheck', false);\n    editor.className = 'jeditor';\n\n    // Max height\n    if (obj.options.maxHeight) {\n        editor.style.overflowY = 'auto';\n        editor.style.maxHeight = obj.options.maxHeight;\n    }\n\n    // Set editor initial value\n    if (obj.options.value) {\n        var value = obj.options.value;\n    } else {\n        var value = el.innerHTML ? el.innerHTML : ''; \n    }\n\n    if (! value) {\n        var value = '<br>';\n    }\n\n    /**\n     * Extract images from a HTML string\n     */\n    var extractImageFromHtml = function(html) {\n        // Create temp element\n        var div = document.createElement('div');\n        div.innerHTML = html;\n\n        // Extract images\n        var img = div.querySelectorAll('img');\n\n        if (img.length) {\n            for (var i = 0; i < img.length; i++) {\n                obj.addImage(img[i].src);\n            }\n        }\n    }\n\n    /**\n     * Insert node at caret\n     */\n    var insertNodeAtCaret = function(newNode) {\n        var sel, range;\n\n        if (window.getSelection) {\n            sel = window.getSelection();\n            if (sel.rangeCount) {\n                range = sel.getRangeAt(0);\n                var selectedText = range.toString();\n                range.deleteContents();\n                range.insertNode(newNode); \n                // move the cursor after element\n                range.setStartAfter(newNode);\n                range.setEndAfter(newNode); \n                sel.removeAllRanges();\n                sel.addRange(range);\n            }\n        }\n    }\n\n    /**\n     * Append snippet or thumbs in the editor\n     * @Param object data\n     */\n    var appendElement = function(data) {\n        // Reset snippet\n        snippet.innerHTML = '';\n\n        if (data.image) {\n            var div = document.createElement('div');\n            div.className = 'snippet-image';\n            div.setAttribute('data-k', 'image');\n            snippet.appendChild(div);\n\n            var image = document.createElement('img');\n            image.src = data.image;\n            div.appendChild(image);\n        }\n\n        var div = document.createElement('div');\n        div.className = 'snippet-title';\n        div.setAttribute('data-k', 'title');\n        div.innerHTML = data.title;\n        snippet.appendChild(div);\n\n        var div = document.createElement('div');\n        div.className = 'snippet-description';\n        div.setAttribute('data-k', 'description');\n        div.innerHTML = data.description;\n        snippet.appendChild(div);\n\n        var div = document.createElement('div');\n        div.className = 'snippet-host';\n        div.setAttribute('data-k', 'host');\n        div.innerHTML = data.host;\n        snippet.appendChild(div);\n\n        var div = document.createElement('div');\n        div.className = 'snippet-url';\n        div.setAttribute('data-k', 'url');\n        div.innerHTML = data.url;\n        snippet.appendChild(div);\n\n        editor.appendChild(snippet);\n    }\n\n    var verifyEditor = function() {\n        clearTimeout(editorTimer);\n        editorTimer = setTimeout(function() {\n            var snippet = editor.querySelector('.snippet');\n            var thumbsContainer = el.querySelector('.jeditor-thumbs-container');\n\n            if (! snippet && ! thumbsContainer) {\n                var html = editor.innerHTML.replace(/\\n/g, ' ');\n                var container = document.createElement('div');\n                container.innerHTML = html;\n                var thumbsContainer = container.querySelector('.jeditor-thumbs-container');\n                if (thumbsContainer) {\n                    thumbsContainer.remove();\n                }\n                var text = container.innerText; \n                var url = jSuites.editor.detectUrl(text);\n\n                if (url) {\n                    if (url[0].substr(-3) == 'jpg' || url[0].substr(-3) == 'png' || url[0].substr(-3) == 'gif') {\n                        if (jSuites.editor.getDomain(url[0]) == window.location.hostname) {\n                            obj.importImage(url[0], '');\n                        } else {\n                            obj.importImage(obj.options.remoteParser + url[0], '');\n                        }\n                    } else {\n                        var id = jSuites.editor.youtubeParser(url[0]);\n\n                        if (id) {\n                            obj.getYoutube(id);\n                        } else {\n                            obj.getWebsite(url[0]);\n                        }\n                    }\n                }\n            }\n        }, 1000);\n    }\n\n    obj.parseContent = function() {\n        verifyEditor();\n    }\n\n    /**\n     * Get metadata from a youtube video\n     */\n    obj.getYoutube = function(id) {\n        if (! obj.options.youtubeKey) {\n            console.error('The youtubeKey is not defined');\n        } else {\n            jSuites.ajax({\n                url: 'https://www.googleapis.com/youtube/v3/videos?part=snippet,statistics&key=' + obj.options.youtubeKey + '&id=' + id,\n                method: 'GET',\n                dataType: 'json',\n                success: function(result) {\n                    // Only valid elements to be appended\n                    if (result.items && result.items[0]) {\n                        var p = {\n                            title: '',\n                            description: '',\n                            image: '',\n                            host: 'www.youtube.com',\n                            url: 'https://www.youtube.com?watch=' + id,\n                        }\n                        if (result.items[0].snippet.title) {\n                            p.title = result.items[0].snippet.title;\n                        }\n                        if (result.items[0].snippet.description) {\n                            p.description = result.items[0].snippet.description;\n\n                            if (p.description.length > 150) {\n                                p.description = p.description.substr(0, 150) + '...';\n                            }\n                        }\n                        if (result.items[0].snippet.thumbnails.medium.url) {\n                            p.image = result.items[0].snippet.thumbnails.medium.url;\n                        }\n\n                        appendElement(p);\n                    }\n                }\n            });\n        }\n    }\n\n    /**\n     * Get meta information from a website\n     */\n    obj.getWebsite = function(url) {\n        if (! obj.options.remoteParser) {\n            console.log('The remoteParser is not defined');\n        } else {\n            jSuites.ajax({\n                url: obj.options.remoteParser + encodeURI(url.trim()),\n                method: 'GET',\n                dataType: 'json',\n                success: function(result) {\n                    var p = {\n                        title: '',\n                        description: '',\n                        image: '',\n                        host: url,\n                        url: url,\n                    }\n\n                    if (result.title) {\n                        p.title = result.title;\n                    }\n                    if (result.description) {\n                        p.description = result.description;\n                    }\n                    if (result.image) {\n                        p.image = result.image;\n                    } else if (result['og:image']) {\n                        p.image = result['og:image'];\n                    }\n                    if (result.host) {\n                        p.host = result.host;\n                    }\n                    if (result.url) {\n                        p.url = result.url;\n                    }\n\n                    appendElement(p);\n                }\n            });\n        }\n    }\n\n    /**\n     * Set editor value\n     */\n    obj.setData = function(html) {\n        editor.innerHTML = html;\n        cursor();\n    }\n\n    /**\n     * Get editor data\n     */\n    obj.getData = function(json) {\n        if (! json) {\n            var data = editor.innerHTML;\n        } else {\n            var data = {\n                content : '',\n            }\n\n            // Get tag users\n            var tagged = editor.querySelectorAll('.post-tag');\n            if (tagged.length) {\n                data.users = [];\n                for (var i = 0; i < tagged.length; i++) {\n                    var userId = tagged[i].getAttribute('data-user');\n                    if (userId) {\n                        data.users.push(userId);\n                    }\n                }\n                data.users = data.users.join(',');\n            }\n\n            if (snippet.innerHTML) {\n                var index = 0;\n                data.snippet = {};\n                for (var i = 0; i < snippet.children.length; i++) {\n                    // Get key from element\n                    var key = snippet.children[i].getAttribute('data-k');\n                    if (key) {\n                        if (key == 'image') {\n                            data.snippet.image = snippet.children[i].children[0].getAttribute('src');\n                        } else {\n                            data.snippet[key] = snippet.children[i].innerHTML;\n                        }\n                    }\n                }\n\n                snippet.innerHTML = '';\n                snippet.remove();\n            }\n\n            var text = editor.innerHTML;\n            text = text.replace(/<br>/g, \"\\n\");\n            text = text.replace(/<\\/div>/g, \"<\\/div>\\n\");\n            text = text.replace(/<(?:.|\\n)*?>/gm, \"\");\n            data.content = text.trim();\n            data = JSON.stringify(data);\n        }\n\n        return data;\n    }\n\n    // Reset\n    obj.reset = function() {\n        editor.innerHTML = '';\n    }\n\n    obj.addPdf = function(data) {\n        if (data.result.substr(0,4) != 'data') {\n            console.error('Invalid source');\n        } else {\n            var canvas = document.createElement('canvas');\n            canvas.width = 60;\n            canvas.height = 60;\n\n            var img = new Image();\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n            canvas.toBlob(function(blob) {\n                var newImage = document.createElement('img');\n                newImage.src = window.URL.createObjectURL(blob);\n                newImage.setAttribute('data-extension', 'pdf');\n                if (data.name) {\n                    newImage.setAttribute('data-name', data.name);\n                }\n                if (data.size) {\n                    newImage.setAttribute('data-size', data.size);\n                }\n                if (data.date) {\n                    newImage.setAttribute('data-date', data.date);\n                }\n                newImage.className = 'jfile pdf';\n\n                insertNodeAtCaret(newImage);\n                jSuites.files[newImage.src] = data.result.substr(data.result.indexOf(',') + 1);\n            });\n        }\n    }\n\n    obj.addImage = function(src, name, size, date) {\n        if (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {\n            console.error('remoteParser not defined in your initialization');\n        } else {\n            // This is to process cross domain images\n            if (src.substr(0,4) == 'data') {\n                var extension = src.split(';')\n                extension = extension[0].split('/');\n                extension = extension[1];\n            } else {\n                var extension = src.substr(src.lastIndexOf('.') + 1);\n                // Work for cross browsers\n                src = obj.options.remoteParser + src;\n            }\n\n            var img = new Image();\n\n            img.onload = function onload() {\n                var canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n\n                var ctx = canvas.getContext('2d');\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\n                canvas.toBlob(function(blob) {\n                    var newImage = document.createElement('img');\n                    newImage.src = window.URL.createObjectURL(blob);\n                    newImage.setAttribute('tabindex', '900');\n                    newImage.setAttribute('data-extension', extension);\n                    if (name) {\n                        newImage.setAttribute('data-name', name);\n                    }\n                    if (size) {\n                        newImage.setAttribute('data-size', size);\n                    }\n                    if (date) {\n                        newImage.setAttribute('data-date', date);\n                    }\n                    newImage.className = 'jfile';\n                    var content = canvas.toDataURL();\n                    insertNodeAtCaret(newImage);\n\n                    jSuites.files[newImage.src] = content.substr(content.indexOf(',') + 1);\n                });\n            };\n\n            img.src = src;\n        }\n    }\n\n    obj.addFile = function(files) {\n        var reader = [];\n\n        for (var i = 0; i < files.length; i++) {\n            if (files[i].size > obj.options.maxFileSize) {\n                alert('The file is too big');\n            } else {\n                // Only PDF or Images\n                var type = files[i].type.split('/');\n\n                if (type[0] == 'image') {\n                    type = 1;\n                } else if (type[1] == 'pdf') {\n                    type = 2;\n                } else {\n                    type = 0;\n                }\n\n                if (type) {\n                    // Create file\n                    reader[i] = new FileReader();\n                    reader[i].index = i;\n                    reader[i].type = type;\n                    reader[i].name = files[i].name;\n                    reader[i].date = files[i].lastModified;\n                    reader[i].size = files[i].size;\n                    reader[i].addEventListener(\"load\", function (data) {\n                        // Get result\n                        if (data.target.type == 2) {\n                            if (obj.options.acceptFiles == true) {\n                                obj.addPdf(data.target);\n                            }\n                        } else {\n                            obj.addImage(data.target.result, data.target.name, data.total, data.target.lastModified);\n                        }\n                    }, false);\n\n                    reader[i].readAsDataURL(files[i])\n                } else {\n                    alert('The extension is not allowed');\n                }\n            }\n        }\n    }\n\n    // Destroy\n    obj.destroy = function() {\n        editor.removeEventListener('mouseup', editorMouseUp);\n        editor.removeEventListener('mousedown', editorMouseDown);\n        editor.removeEventListener('mousemove', editorMouseMove);\n        editor.removeEventListener('keyup', editorKeyUp);\n        editor.removeEventListener('keydown', editorKeyDown);\n        editor.removeEventListener('dragstart', editorDragStart);\n        editor.removeEventListener('dragenter', editorDragEnter);\n        editor.removeEventListener('dragover', editorDragOver);\n        editor.removeEventListener('drop', editorDrop);\n        editor.removeEventListener('paste', editorPaste);\n\n        if (typeof(obj.options.onblur) == 'function') {\n            editor.removeEventListener('blur', editorBlur);\n        }\n        if (typeof(obj.options.onfocus) == 'function') {\n            editor.removeEventListener('focus', editorFocus);\n        }\n\n        el.editor = null;\n        el.classList.remove('jeditor-container');\n\n        toolbar.remove();\n        snippet.remove();\n        editor.remove();\n    }\n\n    var isLetter = function (str) {\n        var regex = /([\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]+)/g;\n        return str.match(regex) ? 1 : 0;\n    }\n\n    // Event handlers\n    var editorMouseUp = function(e) {\n        editorAction = false;\n    }\n\n    var editorMouseDown = function(e) {\n        var close = function(snippet) {\n            var rect = snippet.getBoundingClientRect();\n            if (rect.width - (e.clientX - rect.left) < 40 && e.clientY - rect.top < 40) {\n                snippet.innerHTML = '';\n                snippet.remove();\n            }\n        }\n\n        if (e.target.tagName == 'IMG') {\n            if (e.target.style.cursor) {\n                var rect = e.target.getBoundingClientRect();\n                editorAction = {\n                    e: e.target,\n                    x: e.clientX,\n                    y: e.clientY,\n                    w: rect.width,\n                    h: rect.height,\n                    d: e.target.style.cursor,\n                }\n\n                if (! e.target.style.width) {\n                    e.target.style.width = rect.width + 'px';\n                }\n\n                if (! e.target.style.height) {\n                    e.target.style.height = rect.height + 'px';\n                }\n\n                var s = window.getSelection();\n                if (s.rangeCount) {\n                    for (var i = 0; i < s.rangeCount; i++) {\n                        s.removeRange(s.getRangeAt(i));\n                    }\n                }\n            } else {\n                editorAction = true;\n            }\n        } else { \n            if (e.target.classList.contains('snippet')) {\n                close(e.target);\n            } else if (e.target.parentNode.classList.contains('snippet')) {\n                close(e.target.parentNode);\n            }\n\n            editorAction = true;\n        }\n    }\n\n    var editorMouseMove = function(e) {\n        if (e.target.tagName == 'IMG') {\n            if (e.target.getAttribute('tabindex')) {\n                var rect = e.target.getBoundingClientRect();\n                if (e.clientY - rect.top < 5) {\n                    if (rect.width - (e.clientX - rect.left) < 5) {\n                        e.target.style.cursor = 'ne-resize';\n                    } else if (e.clientX - rect.left < 5) {\n                        e.target.style.cursor = 'nw-resize';\n                    } else {\n                        e.target.style.cursor = 'n-resize';\n                    }\n                } else if (rect.height - (e.clientY - rect.top) < 5) {\n                    if (rect.width - (e.clientX - rect.left) < 5) {\n                        e.target.style.cursor = 'se-resize';\n                    } else if (e.clientX - rect.left < 5) {\n                        e.target.style.cursor = 'sw-resize';\n                    } else {\n                        e.target.style.cursor = 's-resize';\n                    }\n                } else if (rect.width - (e.clientX - rect.left) < 5) {\n                    e.target.style.cursor = 'e-resize';\n                } else if (e.clientX - rect.left < 5) {\n                    e.target.style.cursor = 'w-resize';\n                } else {\n                    e.target.style.cursor = '';\n                }\n            }\n        }\n\n        // Move\n        if (e.which == 1 && editorAction && editorAction.d) {\n            if (editorAction.d == 'e-resize' || editorAction.d == 'ne-resize' ||  editorAction.d == 'se-resize') {\n                editorAction.e.style.width = (editorAction.w + (e.clientX - editorAction.x)) + 'px';\n\n                if (e.shiftKey) {\n                    var newHeight = (e.clientX - editorAction.x) * (editorAction.h / editorAction.w);\n                    editorAction.e.style.height = editorAction.h + newHeight + 'px';\n                } else {\n                    var newHeight =  null;\n                }\n            }\n\n            if (! newHeight) {\n                if (editorAction.d == 's-resize' || editorAction.d == 'se-resize' || editorAction.d == 'sw-resize') {\n                    if (! e.shiftKey) {\n                        editorAction.e.style.height = editorAction.h + (e.clientY - editorAction.y);\n                    }\n                }\n            }\n        }\n    }\n\n    var editorKeyUp = function(e) {\n        if (! editor.innerHTML) {\n            editor.innerHTML = '<div><br></div>';\n        }\n\n        if (typeof(obj.options.onkeyup) == 'function') { \n            obj.options.onkeyup(e, el);\n        }\n    }\n\n\n    var editorKeyDown = function(e) {\n        // Check for URL\n        if (obj.options.parseURL == true) {\n            verifyEditor();\n        }\n\n        // Closable\n        if (typeof(obj.options.onenter) == 'function' && e.which == 13) {\n            var data = obj.getData();\n            obj.options.onenter(obj, el, data, e);\n        }\n\n        if (typeof(obj.options.onkeydown) == 'function') { \n            obj.options.onkeydown(e, el);\n        }\n    }\n\n    var editorPaste = function(e) {\n        if (e.clipboardData || e.originalEvent.clipboardData) {\n            var html = (e.originalEvent || e).clipboardData.getData('text/html');\n            var text = (e.originalEvent || e).clipboardData.getData('text/plain');\n            var file = (e.originalEvent || e).clipboardData.files\n        } else if (window.clipboardData) {\n            var html = window.clipboardData.getData('Html');\n            var text = window.clipboardData.getData('Text');\n            var file = window.clipboardData.files\n        }\n\n        if (file.length) {\n            // Paste a image from the clipboard\n            obj.addFile(file);\n        } else {\n            // Paste text\n            text = text.split('\\r\\n');\n            var str = '';\n            if (e.target.nodeName == 'DIV' && ! e.target.classList.contains('jeditor')) {\n                for (var i = 0; i < text.length; i++) {\n                    if (text[i]) {\n                        str += text[i] + \"<br>\\r\\n\";\n                    }\n                }\n            } else {\n                for (var i = 0; i < text.length; i++) {\n                    if (text[i]) {\n                        str += '<div>' + text[i] + '</div>';\n                    } else {\n                        str += '<div><br></div>';\n                    }\n                }\n            }\n            // Insert text\n            document.execCommand('insertHtml', false, str);\n\n            // Extra images from the paste\n            if (obj.options.acceptImages == true) {\n                extractImageFromHtml(html);\n            }\n        }\n\n        e.preventDefault();\n    }\n\n    var editorDragStart = function(e) {\n        if (editorAction && editorAction.e) {\n            e.preventDefault();\n        }\n    }\n\n    var editorDragEnter = function(e) {\n        if (editorAction || obj.options.dropZone == false) {\n            // Do nothing\n        } else {\n            el.classList.add('jeditor-dragging');\n        }\n    }\n\n    var editorDragOver = function(e) {\n        if (editorAction || obj.options.dropZone == false) {\n            // Do nothing\n        } else {\n            if (editorTimer) {\n                clearTimeout(editorTimer);\n            }\n\n            editorTimer = setTimeout(function() {\n                el.classList.remove('jeditor-dragging');\n            }, 100);\n        }\n    }\n\n    var editorDrop = function(e) {\n        if (editorAction || obj.options.dropZone == false) {\n            // Do nothing\n        } else {\n            // Position caret on the drop\n            var range = null;\n            if (document.caretRangeFromPoint) {\n                range=document.caretRangeFromPoint(e.clientX, e.clientY);\n            } else if (e.rangeParent) {\n                range=document.createRange();\n                range.setStart(e.rangeParent,e.rangeOffset);\n            }\n            var sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n            sel.anchorNode.parentNode.focus();\n\n            var html = (e.originalEvent || e).dataTransfer.getData('text/html');\n            var text = (e.originalEvent || e).dataTransfer.getData('text/plain');\n            var file = (e.originalEvent || e).dataTransfer.files;\n    \n            if (file.length) {\n                obj.addFile(file);\n            } else if (text) {\n                extractImageFromHtml(html);\n            }\n\n            el.classList.remove('jeditor-dragging');\n            e.preventDefault();\n        }\n    }\n\n    var editorBlur = function() {\n        obj.options.onblur(obj, el, obj.getData());\n    }\n\n    var editorFocus = function() {\n        obj.options.onfocus(obj, el, obj.getData());\n    }\n\n    editor.addEventListener('mouseup', editorMouseUp);\n    editor.addEventListener('mousedown', editorMouseDown);\n    editor.addEventListener('mousemove', editorMouseMove);\n    editor.addEventListener('keyup', editorKeyUp);\n    editor.addEventListener('keydown', editorKeyDown);\n    editor.addEventListener('dragstart', editorDragStart);\n    editor.addEventListener('dragenter', editorDragEnter);\n    editor.addEventListener('dragover', editorDragOver);\n    editor.addEventListener('drop', editorDrop);\n    editor.addEventListener('paste', editorPaste);\n\n    // Blur\n    if (typeof(obj.options.onblur) == 'function') {\n        editor.addEventListener('blur', editorBlur);\n    }\n\n    // Focus\n    if (typeof(obj.options.onfocus) == 'function') {\n        editor.addEventListener('focus', editorFocus);\n    }\n\n    // Onload\n    if (typeof(obj.options.onload) == 'function') {\n        obj.options.onload(el, editor);\n    }\n\n    // Set value to the editor\n    editor.innerHTML = value;\n\n    // Append editor to the containre\n    el.appendChild(editor);\n\n    // Snippet\n    if (obj.options.snippet) {\n        appendElement(obj.options.snippet);\n    }\n\n    // Default toolbar\n    if (obj.options.toolbar == null) {\n        obj.options.toolbar = jSuites.editor.getDefaultToolbar();\n    }\n\n    // Add toolbar\n    if (obj.options.toolbar) {\n        for (var i = 0; i < obj.options.toolbar.length; i++) {\n            if (obj.options.toolbar[i].icon) {\n                var item = document.createElement('div');\n                item.style.userSelect = 'none';\n                var itemIcon = document.createElement('i');\n                itemIcon.className = 'material-icons';\n                itemIcon.innerHTML = obj.options.toolbar[i].icon;\n                itemIcon.onclick = (function (a) {\n                    var b = a;\n                    return function () {\n                        obj.options.toolbar[b].onclick(el, obj, this)\n                    };\n                })(i);\n                item.appendChild(itemIcon);\n                toolbar.appendChild(item);\n            } else {\n                if (obj.options.toolbar[i].type == 'divisor') {\n                    var item = document.createElement('div');\n                    item.className = 'jeditor-toolbar-divisor';\n                    toolbar.appendChild(item);\n                } else if (obj.options.toolbar[i].type == 'button') {\n                    var item = document.createElement('div');\n                    item.classList.add('jeditor-toolbar-button');\n                    item.innerHTML = obj.options.toolbar[i].value;\n                    toolbar.appendChild(item);\n                }\n            }\n        }\n\n        el.appendChild(toolbar);\n    }\n\n    // Focus to the editor\n    if (obj.options.focus) {\n        jSuites.editor.setCursor(editor, obj.options.focus == 'initial' ? true : false);\n    }\n\n    el.editor = obj;\n\n    return obj;\n});\n\njSuites.editor.setCursor = function(element, first) {\n    element.focus();\n    document.execCommand('selectAll');\n    var sel = window.getSelection();\n    var range = sel.getRangeAt(0);\n    if (first == true) {\n        var node = range.startContainer;\n        var size = 0;\n    } else {\n        var node = range.endContainer;\n        var size = node.length;\n    }\n    range.setStart(node, size);\n    range.setEnd(node, size);\n    sel.removeAllRanges();\n    sel.addRange(range);\n}\n\njSuites.editor.getDomain = function(url) {\n    return url.replace('http://','').replace('https://','').replace('www.','').split(/[/?#]/)[0].split(/:/g)[0];\n}\n\njSuites.editor.detectUrl = function(text) {\n    var expression = /(((https?:\\/\\/)|(www\\.))[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|]+)/ig;\n    var links = text.match(expression);\n\n    if (links) {\n        if (links[0].substr(0,3) == 'www') {\n            links[0] = 'http://' + links[0];\n        }\n    }\n\n    return links;\n}\n\njSuites.editor.youtubeParser = function(url) {\n    var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\n    var match = url.match(regExp);\n\n    return (match && match[7].length == 11) ? match[7] : false;\n}\n\njSuites.editor.getDefaultToolbar = function() { \n    return [\n        {\n            icon:'undo',\n            onclick: function() {\n                document.execCommand('undo');\n            }\n        },\n        {\n            icon:'redo',\n            onclick: function() {\n                document.execCommand('redo');\n            }\n        },\n        {\n            type:'divisor'\n        },\n        {\n            icon:'format_bold',\n            onclick: function(a,b,c) {\n                document.execCommand('bold');\n\n                if (document.queryCommandState(\"bold\")) {\n                    c.classList.add('selected');\n                } else {\n                    c.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_italic',\n            onclick: function(a,b,c) {\n                document.execCommand('italic');\n\n                if (document.queryCommandState(\"italic\")) {\n                    c.classList.add('selected');\n                } else {\n                    c.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_underline',\n            onclick: function(a,b,c) {\n                document.execCommand('underline');\n\n                if (document.queryCommandState(\"underline\")) {\n                    c.classList.add('selected');\n                } else {\n                    c.classList.remove('selected');\n                }\n            }\n        },\n        {\n            type:'divisor'\n        },\n        {\n            icon:'format_list_bulleted',\n            onclick: function(a,b,c) {\n                document.execCommand('insertUnorderedList');\n\n                if (document.queryCommandState(\"insertUnorderedList\")) {\n                    c.classList.add('selected');\n                } else {\n                    c.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_list_numbered',\n            onclick: function(a,b,c) {\n                document.execCommand('insertOrderedList');\n\n                if (document.queryCommandState(\"insertOrderedList\")) {\n                    c.classList.add('selected');\n                } else {\n                    c.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_indent_increase',\n            onclick: function(a,b,c) {\n                document.execCommand('indent', true, null);\n\n                if (document.queryCommandState(\"indent\")) {\n                    c.classList.add('selected');\n                } else {\n                    c.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_indent_decrease',\n            onclick: function(a,b,c) {\n                document.execCommand('outdent');\n\n                if (document.queryCommandState(\"outdent\")) {\n                    c.classList.add('selected');\n                } else {\n                    c.classList.remove('selected');\n                }\n            }\n        }\n        /*{\n            type:'select',\n            items: ['Verdana','Arial','Courier New'],\n            onchange: function() {\n            }\n        },\n        {\n            type:'select',\n            items: ['10px','12px','14px','16px','18px','20px','22px'],\n            onchange: function() {\n            }\n        },\n        {\n            icon:'format_align_left',\n            onclick: function() {\n                document.execCommand('JustifyLeft');\n\n                if (document.queryCommandState(\"JustifyLeft\")) {\n                    this.classList.add('selected');\n                } else {\n                    this.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_align_center',\n            onclick: function() {\n                document.execCommand('justifyCenter');\n\n                if (document.queryCommandState(\"justifyCenter\")) {\n                    this.classList.add('selected');\n                } else {\n                    this.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_align_right',\n            onclick: function() {\n                document.execCommand('justifyRight');\n\n                if (document.queryCommandState(\"justifyRight\")) {\n                    this.classList.add('selected');\n                } else {\n                    this.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_align_justify',\n            onclick: function() {\n                document.execCommand('justifyFull');\n\n                if (document.queryCommandState(\"justifyFull\")) {\n                    this.classList.add('selected');\n                } else {\n                    this.classList.remove('selected');\n                }\n            }\n        },\n        {\n            icon:'format_list_bulleted',\n            onclick: function() {\n                document.execCommand('insertUnorderedList');\n\n                if (document.queryCommandState(\"insertUnorderedList\")) {\n                    this.classList.add('selected');\n                } else {\n                    this.classList.remove('selected');\n                }\n            }\n        }*/\n    ];\n}\n\r\n\r\njSuites.image = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        minWidth: false,\r\n        onchange: null,\r\n        singleFile: true,\r\n        remoteParser: null,\r\n        text:{\r\n            extensionNotAllowed:'The extension is not allowed',\r\n            imageTooSmall:'The resolution is too low, try a image with a better resolution. width > 800px',\r\n        }\r\n    };\r\n\r\n    // Loop through our object\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Upload icon\r\n    el.classList.add('jupload');\r\n\r\n    // Add image\r\n    obj.addImage = function(file) {\r\n        if (! file.date) {\r\n            file.date = '';\r\n        }\r\n        var img = document.createElement('img');\r\n        img.setAttribute('data-date', file.lastmodified ? file.lastmodified : file.date);\r\n        img.setAttribute('data-name', file.name);\r\n        img.setAttribute('data-size', file.size);\r\n        img.setAttribute('data-small', file.small ? file.small : '');\r\n        img.setAttribute('data-cover', file.cover ? 1 : 0);\r\n        img.setAttribute('data-extension', file.extension);\r\n        img.setAttribute('src', file.file);\r\n        img.className = 'jfile';\r\n        img.style.width = '100%';\r\n\r\n        return img;\r\n    }\r\n\r\n    // Add image\r\n    obj.addImages = function(files) {\r\n        if (obj.options.singleFile == true) {\r\n            el.innerHTML = '';\r\n        }\r\n\r\n        for (var i = 0; i < files.length; i++) {\r\n            el.appendChild(obj.addImage(files[i]));\r\n        }\r\n    }\r\n\r\n    obj.addFromFile = function(file) {\r\n        var type = file.type.split('/');\r\n        if (type[0] == 'image') {\r\n            if (obj.options.singleFile == true) {\r\n                el.innerHTML = '';\r\n            }\r\n\r\n            var imageFile = new FileReader();\r\n            imageFile.addEventListener(\"load\", function (v) {\r\n\r\n                var img = new Image();\r\n\r\n                img.onload = function onload() {\r\n                    var canvas = document.createElement('canvas');\r\n                    canvas.width = img.width;\r\n                    canvas.height = img.height;\r\n\r\n                    var ctx = canvas.getContext('2d');\r\n                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n                    var data = {\r\n                        file: canvas.toDataURL(),\r\n                        extension: file.name.substr(file.name.lastIndexOf('.') + 1),\r\n                        name: file.name,\r\n                        size: file.size,\r\n                        lastmodified: file.lastModified,\r\n                    }\r\n                    var newImage = obj.addImage(data);\r\n                    el.appendChild(newImage);\r\n\r\n                    // Onchange\r\n                    if (typeof(obj.options.onchange) == 'function') {\r\n                        obj.options.onchange(newImage);\r\n                    }\r\n                };\r\n\r\n                img.src = v.srcElement.result;\r\n            });\r\n\r\n            imageFile.readAsDataURL(file);\r\n        } else {\r\n            alert(text.extentionNotAllowed);\r\n        }\r\n    }\r\n\r\n    obj.addFromUrl = function(src) {\r\n        if (src.substr(0,4) != 'data' && ! obj.options.remoteParser) {\r\n            console.error('remoteParser not defined in your initialization');\r\n        } else {\r\n            // This is to process cross domain images\r\n            if (src.substr(0,4) == 'data') {\r\n                var extension = src.split(';')\r\n                extension = extension[0].split('/');\r\n                extension = extension[1];\r\n            } else {\r\n                var extension = src.substr(src.lastIndexOf('.') + 1);\r\n                // Work for cross browsers\r\n                src = obj.options.remoteParser + src;\r\n            }\r\n\r\n            var img = new Image();\r\n\r\n            img.onload = function onload() {\r\n                var canvas = document.createElement('canvas');\r\n                canvas.width = img.width;\r\n                canvas.height = img.height;\r\n\r\n                var ctx = canvas.getContext('2d');\r\n                ctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\r\n                canvas.toBlob(function(blob) {\r\n                    var data = {\r\n                        file: window.URL.createObjectURL(blob),\r\n                        extension: extension\r\n                    }\r\n                    var newImage = obj.addImage(data);\r\n                    el.appendChild(newImage);\r\n\r\n                    // Keep base64 ready to go\r\n                    var content = canvas.toDataURL();\r\n                    jSuites.files[data.file] = content.substr(content.indexOf(',') + 1);\r\n\r\n                    // Onchange\r\n                    if (typeof(obj.options.onchange) == 'function') {\r\n                        obj.options.onchange(newImage);\r\n                    }\r\n                });\r\n            };\r\n\r\n            img.src = src;\r\n        }\r\n    }\r\n\r\n    var attachmentInput = document.createElement('input');\r\n    attachmentInput.type = 'file';\r\n    attachmentInput.setAttribute('accept', 'image/*');\r\n    attachmentInput.onchange = function() {\r\n        for (var i = 0; i < this.files.length; i++) {\r\n            obj.addFromFile(this.files[i]);\r\n        }\r\n    }\r\n\r\n    el.addEventListener(\"dblclick\", function(e) {\r\n        jSuites.click(attachmentInput);\r\n    });\r\n\r\n    el.addEventListener('dragenter', function(e) {\r\n        el.style.border = '1px dashed #000';\r\n    });\r\n\r\n    el.addEventListener('dragleave', function(e) {\r\n        el.style.border = '1px solid #eee';\r\n    });\r\n\r\n    el.addEventListener('dragstop', function(e) {\r\n        el.style.border = '1px solid #eee';\r\n    });\r\n\r\n    el.addEventListener('dragover', function(e) {\r\n        e.preventDefault();\r\n    });\r\n\r\n    el.addEventListener('drop', function(e) {\r\n        e.preventDefault();  \r\n        e.stopPropagation();\r\n\r\n\r\n        var html = (e.originalEvent || e).dataTransfer.getData('text/html');\r\n        var file = (e.originalEvent || e).dataTransfer.files;\r\n\r\n        if (file.length) {\r\n            for (var i = 0; i < e.dataTransfer.files.length; i++) {\r\n                obj.addFromFile(e.dataTransfer.files[i]);\r\n            }\r\n        } else if (html) {\r\n            if (obj.options.singleFile == true) {\r\n                el.innerHTML = '';\r\n            }\r\n\r\n            // Create temp element\r\n            var div = document.createElement('div');\r\n            div.innerHTML = html;\r\n\r\n            // Extract images\r\n            var img = div.querySelectorAll('img');\r\n\r\n            if (img.length) {\r\n                for (var i = 0; i < img.length; i++) {\r\n                    obj.addFromUrl(img[i].src);\r\n                }\r\n            }\r\n        }\r\n\r\n        el.style.border = '1px solid #eee';\r\n\r\n        return false;\r\n    });\r\n\r\n    el.image = obj;\r\n\r\n    return obj;\r\n});\r\n\r\n/**\n * (c) jLoading\n * https://github.com/paulhodel/jtools\n *\n * @author: Paul Hodel <paul.hodel@gmail.com>\n * @description: Page loading spin\n */\n\njSuites.loading = (function() {\n    var obj = {};\n\n    var loading = document.createElement('div');\n    loading.className = 'jloading';\n\n    obj.show = function() {\n        document.body.appendChild(loading);\n    };\n\n    obj.hide = function() {\n        document.body.removeChild(loading);\n    };\n\n    return obj;\n})();\r\n\r\n/**\n * (c) jLogin\n * https://github.com/paulhodel/jtools\n *\n * @author: Paul Hodel <paul.hodel@gmail.com>\n * @description: Login helper\n */\n\njSuites.login = (function(el, options) {\n    var obj = {};\n    obj.options = {};\n\n    // Default configuration\n    var defaults = {\n        url: window.location.href,\n        prepareRequest: null,\n        accessToken: null,\n        deviceToken: null,\n        facebookUrl: null,\n        facebookAuthentication: null,\n        maxHeight: null,\n        onload: null,\n        onsuccess: null,\n        onerror: null,\n        message: null,\n        logo: null,\n        newProfile: false,\n        newProfileUrl: false,\n        newProfileLogin: false,\n        fullscreen: false,\n        newPasswordValidation: null,\n    };\n\n    // Loop through our object\n    for (var property in defaults) {\n        if (options && options.hasOwnProperty(property)) {\n            obj.options[property] = options[property];\n        } else {\n            obj.options[property] = defaults[property];\n        }\n    }\n\n    // Message console container\n    if (! obj.options.message) {\n        var messageElement = document.querySelector('.message');\n        if (messageElement) {\n            obj.options.message = messageElement;\n        }\n    }\n\n    // Action\n    var action = null;\n\n    // Container\n    var container = document.createElement('form');\n    el.appendChild(container);\n\n    // Logo\n    var divLogo = document.createElement('div');\n    divLogo.className = 'jlogin-logo'\n    container.appendChild(divLogo);\n\n    if (obj.options.logo) {\n        var logo = document.createElement('img');\n        logo.src = obj.options.logo;\n        divLogo.appendChild(logo);\n    }\n\n    // Code\n    var labelCode = document.createElement('label');\n    labelCode.innerHTML = 'Please enter here the code received';\n    var inputCode = document.createElement('input');\n    inputCode.type = 'number';\n    inputCode.id = 'code';\n    inputCode.setAttribute('maxlength', 6);\n    var divCode = document.createElement('div');\n    divCode.appendChild(labelCode);\n    divCode.appendChild(inputCode);\n\n    // Hash\n    var inputHash = document.createElement('input');\n    inputHash.type = 'hidden';\n    inputHash.name = 'h';\n    var divHash = document.createElement('div');\n    divHash.appendChild(inputHash);\n\n    // Recovery\n    var inputRecovery = document.createElement('input');\n    inputRecovery.type = 'hidden';\n    inputRecovery.name = 'recovery';\n    inputRecovery.value = '1';\n    var divRecovery = document.createElement('div');\n    divRecovery.appendChild(inputRecovery);\n\n    // Login\n    var labelLogin = document.createElement('label');\n    labelLogin.innerHTML = 'Login';\n    var inputLogin = document.createElement('input');\n    inputLogin.type = 'text';\n    inputLogin.name = 'login';\n    inputLogin.setAttribute('autocomplete', 'off');\n    inputLogin.onkeyup = function() {\n        this.value = this.value.toLowerCase().replace(/[^a-zA-Z0-9_+]+/gi, '');\n    } \n    var divLogin = document.createElement('div');\n    divLogin.appendChild(labelLogin);\n    divLogin.appendChild(inputLogin);\n\n    // Name\n    var labelName = document.createElement('label');\n    labelName.innerHTML = 'Name';\n    var inputName = document.createElement('input');\n    inputName.type = 'text';\n    inputName.name = 'name';\n    var divName = document.createElement('div');\n    divName.appendChild(labelName);\n    divName.appendChild(inputName);\n\n    // Email\n    var labelUsername = document.createElement('label');\n    labelUsername.innerHTML = 'E-mail';\n    var inputUsername = document.createElement('input');\n    inputUsername.type = 'text';\n    inputUsername.name = 'username';\n    inputUsername.setAttribute('autocomplete', 'new-username');\n    var divUsername = document.createElement('div');\n    divUsername.appendChild(labelUsername);\n    divUsername.appendChild(inputUsername);\n\n    // Password\n    var labelPassword = document.createElement('label');\n    labelPassword.innerHTML = 'New password';\n    var inputPassword = document.createElement('input');\n    inputPassword.type = 'password';\n    inputPassword.name = 'password';\n    inputPassword.setAttribute('autocomplete', 'new-password');\n    var divPassword = document.createElement('div');\n    divPassword.appendChild(labelPassword);\n    divPassword.appendChild(inputPassword);\n    divPassword.onkeydown = function(e) {\n        if (e.keyCode == 13) {\n            obj.execute();\n        }\n    }\n\n    // Repeat password\n    var labelRepeatPassword = document.createElement('label');\n    labelRepeatPassword.innerHTML = 'Repeat the new password';\n    var inputRepeatPassword = document.createElement('input');\n    inputRepeatPassword.type = 'password';\n    inputRepeatPassword.name = 'password';\n    var divRepeatPassword = document.createElement('div');\n    divRepeatPassword.appendChild(labelRepeatPassword);\n    divRepeatPassword.appendChild(inputRepeatPassword);\n\n    // Remember checkbox\n    var labelRemember = document.createElement('label');\n    labelRemember.innerHTML = 'Remember me on this device';\n    var inputRemember = document.createElement('input');\n    inputRemember.type = 'checkbox';\n    inputRemember.name = 'remember';\n    inputRemember.value = '1';\n    labelRemember.appendChild(inputRemember);\n    var divRememberButton = document.createElement('div');\n    divRememberButton.className = 'rememberButton';\n    divRememberButton.appendChild(labelRemember);\n\n    // Login button\n    var actionButton = document.createElement('input');\n    actionButton.type = 'button';\n    actionButton.value = 'Log In';\n    actionButton.onclick = function() {\n        obj.execute();\n    }\n    var divActionButton = document.createElement('div');\n    divActionButton.appendChild(actionButton);\n\n    // Cancel button\n    var cancelButton = document.createElement('div');\n    cancelButton.innerHTML = 'Cancel';\n    cancelButton.className = 'cancelButton';\n    cancelButton.onclick = function() {\n        obj.requestAccess();\n    }\n    var divCancelButton = document.createElement('div');\n    divCancelButton.appendChild(cancelButton);\n\n    // Captcha\n    var labelCaptcha = document.createElement('label');\n    labelCaptcha.innerHTML = 'Please type here the code below';\n    var inputCaptcha = document.createElement('input');\n    inputCaptcha.type = 'text';\n    inputCaptcha.name = 'captcha';\n    var imageCaptcha = document.createElement('img');\n    var divCaptcha = document.createElement('div');\n    divCaptcha.className = 'jlogin-captcha';\n    divCaptcha.appendChild(labelCaptcha);\n    divCaptcha.appendChild(inputCaptcha);\n    divCaptcha.appendChild(imageCaptcha);\n\n    // Facebook\n    var facebookButton = document.createElement('div');\n    facebookButton.innerHTML = 'Login with Facebook';\n    facebookButton.className = 'facebookButton';\n    var divFacebookButton = document.createElement('div');\n    divFacebookButton.appendChild(facebookButton);\n    divFacebookButton.onclick = function() {\n        obj.requestLoginViaFacebook();\n    }\n    // Forgot password\n    var inputRequest = document.createElement('span');\n    inputRequest.innerHTML = 'Request a new password';\n    var divRequestButton = document.createElement('div');\n    divRequestButton.className = 'requestButton';\n    divRequestButton.appendChild(inputRequest);\n    divRequestButton.onclick = function() {\n        obj.requestNewPassword();\n    }\n    // Create a new Profile\n    var inputNewProfile = document.createElement('span');\n    inputNewProfile.innerHTML = 'Create a new profile';\n    var divNewProfileButton = document.createElement('div');\n    divNewProfileButton.className = 'newProfileButton';\n    divNewProfileButton.appendChild(inputNewProfile);\n    divNewProfileButton.onclick = function() {\n        obj.newProfile();\n    }\n\n    el.className = 'jlogin';\n\n    if (obj.options.fullscreen == true) {\n        el.classList.add('jlogin-fullscreen');\n    }\n\n    /** \n     * Show message\n     */\n    obj.showMessage = function(data) {\n        var message = (typeof(data) == 'object') ? data.message : data;\n\n        if (typeof(obj.options.showMessage) == 'function') {\n            obj.options.showMessage(data);\n        } else {\n            jSuites.alert(data);\n        }\n    }\n\n    /**\n     * New profile\n     */\n    obj.newProfile = function() {\n        container.innerHTML = '';\n        container.appendChild(divLogo);\n        if (obj.options.newProfileLogin) {\n            container.appendChild(divLogin);\n        }\n        container.appendChild(divName);\n        container.appendChild(divUsername);\n        container.appendChild(divActionButton);\n        if (obj.options.facebookAuthentication == true) {\n            container.appendChild(divFacebookButton);\n        }\n        container.appendChild(divCancelButton);\n\n        // Reset inputs\n        inputLogin.value = '';\n        inputUsername.value = '';\n        inputPassword.value = '';\n\n        // Button\n        actionButton.value = 'Create new profile';\n\n        // Action\n        action = 'newProfile';\n    }\n\n    /**\n     * Request the email with the recovery instructions\n     */\n    obj.requestNewPassword = function() {\n        if (Array.prototype.indexOf.call(container.children, divCaptcha) >= 0) {\n            var captcha = true;\n        }\n\n        container.innerHTML = '';\n        container.appendChild(divLogo);\n        container.appendChild(divRecovery);\n        container.appendChild(divUsername);\n        if (captcha) {\n            container.appendChild(divCaptcha);\n        }\n        container.appendChild(divActionButton);\n        container.appendChild(divCancelButton);\n        actionButton.value = 'Request a new password';\n        inputRecovery.value = 1;\n\n        // Action\n        action = 'requestNewPassword';\n    }\n\n    /**\n     * Confirm recovery code\n     */\n    obj.codeConfirmation = function() {\n        container.innerHTML = '';\n        container.appendChild(divLogo);\n        container.appendChild(divHash);\n        container.appendChild(divCode);\n        container.appendChild(divActionButton);\n        container.appendChild(divCancelButton);\n        actionButton.value = 'Confirm code';\n        inputRecovery.value = 2;\n\n        // Action\n        action = 'codeConfirmation';\n    }\n\n    /**\n     * Update my password\n     */\n    obj.changeMyPassword = function(hash) {\n        container.innerHTML = '';\n        container.appendChild(divLogo);\n        container.appendChild(divHash);\n        container.appendChild(divPassword);\n        container.appendChild(divRepeatPassword);\n        container.appendChild(divActionButton);\n        container.appendChild(divCancelButton);\n        actionButton.value = 'Change my password';\n        inputHash.value = hash;\n\n        // Action\n        action = 'changeMyPassword';\n    }\n\n    /**\n     * Request access default method\n     */\n    obj.requestAccess = function() {\n        container.innerHTML = '';\n        container.appendChild(divLogo);\n        container.appendChild(divUsername);\n        container.appendChild(divPassword);\n        container.appendChild(divActionButton);\n        if (obj.options.facebookAuthentication == true) {\n            container.appendChild(divFacebookButton);\n        }\n        container.appendChild(divRequestButton);\n        container.appendChild(divRememberButton);\n        container.appendChild(divRequestButton);\n        if (obj.options.newProfile == true) {\n            container.appendChild(divNewProfileButton);\n        }\n\n        // Button\n        actionButton.value = 'Login';\n\n        // Password\n        inputPassword.value = '';\n\n        // Email persistence\n        if (window.localStorage.getItem('username')) {\n            inputUsername.value = window.localStorage.getItem('username');\n            inputPassword.focus();\n        } else {\n            inputUsername.focus();\n        }\n\n        // Action\n        action = 'requestAccess';\n    }\n\n    /**\n     * Request login via facebook\n     */\n    obj.requestLoginViaFacebook = function() {\n        if (typeof(deviceNotificationToken) == 'undefined') {\n            FB.getLoginStatus(function(response) {\n                if (! response.status || response.status != 'connected') {\n                    FB.login(function(response) {\n                        if (response.authResponse) {\n                            obj.execute({ f:response.authResponse.accessToken });\n                        } else {\n                            obj.showMessage('Not authorized by facebook');\n                        }\n                    }, {scope: 'public_profile,email'});\n                } else {\n                    obj.execute({ f:response.authResponse.accessToken });\n                }\n            }, true);\n        } else {\n            jDestroy = function() {\n                fbLogin.removeEventListener('loadstart', jStart);\n                fbLogin.removeEventListener('loaderror', jError);\n                fbLogin.removeEventListener('exit', jExit);\n                fbLogin.close();\n                fbLogin = null;\n            }\n\n            jStart = function(event) {\n                var url = event.url;\n                if (url.indexOf(\"access_token\") >= 0) {\n                    setTimeout(function(){\n                        var u = url.match(/=(.*?)&/);\n                        if (u[1].length > 32) {\n                            obj.execute({ f:u[1] });\n                        }\n                        jDestroy();\n                   },500);\n                }\n\n                if (url.indexOf(\"error=access_denied\") >= 0) {\n                   setTimeout(jDestroy ,500);\n                   // Not authorized by facebook\n                   obj.showMessage('Not authorized by facebook');\n                }\n            }\n\n            jError = function(event) {\n                jDestroy();\n            }\n        \n            jExit = function(event) {\n                jDestroy();\n            }\n\n            fbLogin = window.open(obj.options.facebookUrl, \"_blank\", \"location=no,closebuttoncaption=Exit,disallowoverscroll=yes,toolbar=no\");\n            fbLogin.addEventListener('loadstart', jStart);\n            fbLogin.addEventListener('loaderror', jError);\n            fbLogin.addEventListener('exit', jExit);\n        }\n\n        // Action\n        action = 'requestLoginViaFacebook';\n    }\n\n    // Perform request\n    obj.execute = function(data) {\n        // New profile\n        if (action == 'newProfile') {\n            var pattern = new RegExp(/^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/);\n            if (! inputUsername.value || ! pattern.test(inputUsername.value)) {\n                var message = 'Invalid e-mail address'; \n            }\n\n            var pattern = new RegExp(/^[a-zA-Z0-9\\_\\-\\.\\s+]+$/);\n            if (! inputLogin.value || ! pattern.test(inputLogin.value)) {\n                var message = 'Invalid username, please use only characters and numbers';\n            }\n\n            if (message) {\n                obj.showMessage(message);\n                return false;\n            }\n        } else if (action == 'changeMyPassword') {\r\n            if (inputPassword.value.length < 3) {\r\n                var message = 'Password is too short';\r\n            } else  if (inputPassword.value != inputRepeatPassword.value) {\r\n                var message = 'Password should match';\r\n            } else {\r\n                if (typeof(obj.options.newPasswordValidation) == 'function') {\r\n                    var val = obj.options.newPasswordValidation(obj, inputPassword.value, inputPassword.value);\r\n                    if (val != undefined) {\r\n                        message = val;\r\n                    }\r\n                }\r\n            }\n\n            if (message) {\r\n                obj.showMessage(message);\r\n                return false;\r\n            }\r\n        }\n\n        // Keep email\n        if (inputUsername.value != '') {\n            window.localStorage.setItem('username', inputUsername.value);\n        }\n\n        // Captcha\n        if (Array.prototype.indexOf.call(container.children, divCaptcha) >= 0) {\n            if (inputCaptcha.value == '') {\n                obj.showMessage('Please enter the captch code below');\n                return false;\n            }\n        }\n\n        // Url\n        var url = obj.options.url;\n\n        // Device token\n        if (obj.options.deviceToken) {\n            url += '?token=' + obj.options.deviceToken;\n        }\n\n        // Callback\n        var onsuccess = function(result) {\n            if (result) {\n                // Successfully response\n                if (result.success == 1) {\n                    // Recovery process\n                    if (action == 'requestNewPassword') {\n                        obj.codeConfirmation();\n                    } else if (action == 'codeConfirmation') {\n                        obj.requestAccess();\n                    } else if (action == 'newProfile') {\n                        obj.requestAccess();\n                        // New profile\n                        result.newProfile = true;\n                    }\n\n                    // Token\n                    if (result.token) {\n                        // Set token\n                        obj.options.accessToken = result.token;\n                        // Save token\n                        window.localStorage.setItem('Access-Token', result.token);\n                    }\n                }\n\n                // Show message\n                if (result.message) {\n                    // Show message\n                    obj.showMessage(result.message)\n                }\n\n                // Request captcha code\n                if (! result.data) {\n                    if (Array.prototype.indexOf.call(container.children, divCaptcha) >= 0) {\n                        divCaptcha.remove();\n                    }\n                } else {\n                    container.insertBefore(divCaptcha, divActionButton);\n                    imageCaptcha.setAttribute('src', 'data:image/png;base64,' + result.data);\n                }\n\n                // Give time to user see the message\n                if (result.hash) {\n                    // Change password\n                    obj.changeMyPassword(result.hash);\n                } else if (result.url) {\n                    // App initialization\n                    if (result.success == 1) {\n                        if (typeof(obj.options.onsuccess) == 'function') {\n                            obj.options.onsuccess(result);\n                        } else {\n                            if (result.message) {\n                                setTimeout(function() { window.location.href = result.url; }, 2000);\n                            } else {\n                                window.location.href = result.url;\n                            }\n                        }\n                    } else {\n                        if (typeof(obj.options.onerror) == 'function') {\n                            obj.options.onerror(result);\n                        }\n                    }\n                }\n            }\n        }\n\n        // Password\n        if (! data) {\n            var data = jSuites.getFormElements(el);\n            // Encode passworfd\n            if (data.password) {\n                data.password = jSuites.login.sha512(data.password);\n            }\n            // Recovery code\n            if (Array.prototype.indexOf.call(container.children, divCode) >= 0 && inputCode.value) {\n                data.h = jSuites.login.sha512(inputCode.value);\n            }\n        }\n\n        // Loading\n        el.classList.add('jlogin-loading');\n\n        // Url\n        var url = (action == 'newProfile' && obj.options.newProfileUrl) ? obj.options.newProfileUrl : obj.options.url;\n\n        // Remote call\n        jSuites.ajax({\n            url: url,\n            method: 'POST',\n            dataType: 'json',\n            data: data,\n            success: function(result) {\n                // Remove loading\n                el.classList.remove('jlogin-loading');\n                // Callback\n                onsuccess(result);\n            },\n            error: function(result) {\n                // Error\n                el.classList.remove('jlogin-loading');\n\n                if (typeof(obj.options.onerror) == 'function') {\n                    obj.options.onerror(result);\n                }\n            }\n        });\n    }\n\n    var queryString = window.location.href.split('?');\r\n    if (queryString[1] && queryString[1].length == 130 && queryString[1].substr(0,2) == 'h=') {\r\n        obj.changeMyPassword(queryString[1].substr(2));\r\n    } else {\n        obj.requestAccess();\n    }\n\n    return obj;\n});\n\njSuites.login.sha512 = (function(str) {\n    function int64(msint_32, lsint_32) {\n        this.highOrder = msint_32;\n        this.lowOrder = lsint_32;\n    }\n\n    var H = [new int64(0x6a09e667, 0xf3bcc908), new int64(0xbb67ae85, 0x84caa73b),\n        new int64(0x3c6ef372, 0xfe94f82b), new int64(0xa54ff53a, 0x5f1d36f1),\n        new int64(0x510e527f, 0xade682d1), new int64(0x9b05688c, 0x2b3e6c1f),\n        new int64(0x1f83d9ab, 0xfb41bd6b), new int64(0x5be0cd19, 0x137e2179)];\n\n    var K = [new int64(0x428a2f98, 0xd728ae22), new int64(0x71374491, 0x23ef65cd),\n        new int64(0xb5c0fbcf, 0xec4d3b2f), new int64(0xe9b5dba5, 0x8189dbbc),\n        new int64(0x3956c25b, 0xf348b538), new int64(0x59f111f1, 0xb605d019),\n        new int64(0x923f82a4, 0xaf194f9b), new int64(0xab1c5ed5, 0xda6d8118),\n        new int64(0xd807aa98, 0xa3030242), new int64(0x12835b01, 0x45706fbe),\n        new int64(0x243185be, 0x4ee4b28c), new int64(0x550c7dc3, 0xd5ffb4e2),\n        new int64(0x72be5d74, 0xf27b896f), new int64(0x80deb1fe, 0x3b1696b1),\n        new int64(0x9bdc06a7, 0x25c71235), new int64(0xc19bf174, 0xcf692694),\n        new int64(0xe49b69c1, 0x9ef14ad2), new int64(0xefbe4786, 0x384f25e3),\n        new int64(0x0fc19dc6, 0x8b8cd5b5), new int64(0x240ca1cc, 0x77ac9c65),\n        new int64(0x2de92c6f, 0x592b0275), new int64(0x4a7484aa, 0x6ea6e483),\n        new int64(0x5cb0a9dc, 0xbd41fbd4), new int64(0x76f988da, 0x831153b5),\n        new int64(0x983e5152, 0xee66dfab), new int64(0xa831c66d, 0x2db43210),\n        new int64(0xb00327c8, 0x98fb213f), new int64(0xbf597fc7, 0xbeef0ee4),\n        new int64(0xc6e00bf3, 0x3da88fc2), new int64(0xd5a79147, 0x930aa725),\n        new int64(0x06ca6351, 0xe003826f), new int64(0x14292967, 0x0a0e6e70),\n        new int64(0x27b70a85, 0x46d22ffc), new int64(0x2e1b2138, 0x5c26c926),\n        new int64(0x4d2c6dfc, 0x5ac42aed), new int64(0x53380d13, 0x9d95b3df),\n        new int64(0x650a7354, 0x8baf63de), new int64(0x766a0abb, 0x3c77b2a8),\n        new int64(0x81c2c92e, 0x47edaee6), new int64(0x92722c85, 0x1482353b),\n        new int64(0xa2bfe8a1, 0x4cf10364), new int64(0xa81a664b, 0xbc423001),\n        new int64(0xc24b8b70, 0xd0f89791), new int64(0xc76c51a3, 0x0654be30),\n        new int64(0xd192e819, 0xd6ef5218), new int64(0xd6990624, 0x5565a910),\n        new int64(0xf40e3585, 0x5771202a), new int64(0x106aa070, 0x32bbd1b8),\n        new int64(0x19a4c116, 0xb8d2d0c8), new int64(0x1e376c08, 0x5141ab53),\n        new int64(0x2748774c, 0xdf8eeb99), new int64(0x34b0bcb5, 0xe19b48a8),\n        new int64(0x391c0cb3, 0xc5c95a63), new int64(0x4ed8aa4a, 0xe3418acb),\n        new int64(0x5b9cca4f, 0x7763e373), new int64(0x682e6ff3, 0xd6b2b8a3),\n        new int64(0x748f82ee, 0x5defb2fc), new int64(0x78a5636f, 0x43172f60),\n        new int64(0x84c87814, 0xa1f0ab72), new int64(0x8cc70208, 0x1a6439ec),\n        new int64(0x90befffa, 0x23631e28), new int64(0xa4506ceb, 0xde82bde9),\n        new int64(0xbef9a3f7, 0xb2c67915), new int64(0xc67178f2, 0xe372532b),\n        new int64(0xca273ece, 0xea26619c), new int64(0xd186b8c7, 0x21c0c207),\n        new int64(0xeada7dd6, 0xcde0eb1e), new int64(0xf57d4f7f, 0xee6ed178),\n        new int64(0x06f067aa, 0x72176fba), new int64(0x0a637dc5, 0xa2c898a6),\n        new int64(0x113f9804, 0xbef90dae), new int64(0x1b710b35, 0x131c471b),\n        new int64(0x28db77f5, 0x23047d84), new int64(0x32caab7b, 0x40c72493),\n        new int64(0x3c9ebe0a, 0x15c9bebc), new int64(0x431d67c4, 0x9c100d4c),\n        new int64(0x4cc5d4be, 0xcb3e42b6), new int64(0x597f299c, 0xfc657e2a),\n        new int64(0x5fcb6fab, 0x3ad6faec), new int64(0x6c44198c, 0x4a475817)];\n\n    var W = new Array(64);\n    var a, b, c, d, e, f, g, h, i, j;\n    var T1, T2;\n    var charsize = 8;\n\n    function utf8_encode(str) {\n        return unescape(encodeURIComponent(str));\n    }\n\n    function str2binb(str) {\n        var bin = [];\n        var mask = (1 << charsize) - 1;\n        var len = str.length * charsize;\n    \n        for (var i = 0; i < len; i += charsize) {\n            bin[i >> 5] |= (str.charCodeAt(i / charsize) & mask) << (32 - charsize - (i % 32));\n        }\n    \n        return bin;\n    }\n\n    function binb2hex(binarray) {\n        var hex_tab = \"0123456789abcdef\";\n        var str = \"\";\n        var length = binarray.length * 4;\n        var srcByte;\n\n        for (var i = 0; i < length; i += 1) {\n            srcByte = binarray[i >> 2] >> ((3 - (i % 4)) * 8);\n            str += hex_tab.charAt((srcByte >> 4) & 0xF) + hex_tab.charAt(srcByte & 0xF);\n        }\n\n        return str;\n    }\n\n    function safe_add_2(x, y) {\n        var lsw, msw, lowOrder, highOrder;\n\n        lsw = (x.lowOrder & 0xFFFF) + (y.lowOrder & 0xFFFF);\n        msw = (x.lowOrder >>> 16) + (y.lowOrder >>> 16) + (lsw >>> 16);\n        lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\n\n        lsw = (x.highOrder & 0xFFFF) + (y.highOrder & 0xFFFF) + (msw >>> 16);\n        msw = (x.highOrder >>> 16) + (y.highOrder >>> 16) + (lsw >>> 16);\n        highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\n\n        return new int64(highOrder, lowOrder);\n    }\n\n    function safe_add_4(a, b, c, d) {\n        var lsw, msw, lowOrder, highOrder;\n\n        lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF);\n        msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (lsw >>> 16);\n        lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\n\n        lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (msw >>> 16);\n        msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (lsw >>> 16);\n        highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\n\n        return new int64(highOrder, lowOrder);\n    }\n\n    function safe_add_5(a, b, c, d, e) {\n        var lsw, msw, lowOrder, highOrder;\n\n        lsw = (a.lowOrder & 0xFFFF) + (b.lowOrder & 0xFFFF) + (c.lowOrder & 0xFFFF) + (d.lowOrder & 0xFFFF) + (e.lowOrder & 0xFFFF);\n        msw = (a.lowOrder >>> 16) + (b.lowOrder >>> 16) + (c.lowOrder >>> 16) + (d.lowOrder >>> 16) + (e.lowOrder >>> 16) + (lsw >>> 16);\n        lowOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\n\n        lsw = (a.highOrder & 0xFFFF) + (b.highOrder & 0xFFFF) + (c.highOrder & 0xFFFF) + (d.highOrder & 0xFFFF) + (e.highOrder & 0xFFFF) + (msw >>> 16);\n        msw = (a.highOrder >>> 16) + (b.highOrder >>> 16) + (c.highOrder >>> 16) + (d.highOrder >>> 16) + (e.highOrder >>> 16) + (lsw >>> 16);\n        highOrder = ((msw & 0xFFFF) << 16) | (lsw & 0xFFFF);\n\n        return new int64(highOrder, lowOrder);\n    }\n\n    function maj(x, y, z) {\n        return new int64(\n            (x.highOrder & y.highOrder) ^ (x.highOrder & z.highOrder) ^ (y.highOrder & z.highOrder),\n            (x.lowOrder & y.lowOrder) ^ (x.lowOrder & z.lowOrder) ^ (y.lowOrder & z.lowOrder)\n        );\n    }\n\n    function ch(x, y, z) {\n        return new int64(\n            (x.highOrder & y.highOrder) ^ (~x.highOrder & z.highOrder),\n            (x.lowOrder & y.lowOrder) ^ (~x.lowOrder & z.lowOrder)\n        );\n    }\n\n    function rotr(x, n) {\n        if (n <= 32) {\n            return new int64(\n             (x.highOrder >>> n) | (x.lowOrder << (32 - n)),\n             (x.lowOrder >>> n) | (x.highOrder << (32 - n))\n            );\n        } else {\n            return new int64(\n             (x.lowOrder >>> n) | (x.highOrder << (32 - n)),\n             (x.highOrder >>> n) | (x.lowOrder << (32 - n))\n            );\n        }\n    }\n\n    function sigma0(x) {\n        var rotr28 = rotr(x, 28);\n        var rotr34 = rotr(x, 34);\n        var rotr39 = rotr(x, 39);\n\n        return new int64(\n            rotr28.highOrder ^ rotr34.highOrder ^ rotr39.highOrder,\n            rotr28.lowOrder ^ rotr34.lowOrder ^ rotr39.lowOrder\n        );\n    }\n\n    function sigma1(x) {\n        var rotr14 = rotr(x, 14);\n        var rotr18 = rotr(x, 18);\n        var rotr41 = rotr(x, 41);\n\n        return new int64(\n            rotr14.highOrder ^ rotr18.highOrder ^ rotr41.highOrder,\n            rotr14.lowOrder ^ rotr18.lowOrder ^ rotr41.lowOrder\n        );\n    }\n\n    function gamma0(x) {\n        var rotr1 = rotr(x, 1), rotr8 = rotr(x, 8), shr7 = shr(x, 7);\n\n        return new int64(\n            rotr1.highOrder ^ rotr8.highOrder ^ shr7.highOrder,\n            rotr1.lowOrder ^ rotr8.lowOrder ^ shr7.lowOrder\n        );\n    }\n\n    function gamma1(x) {\n        var rotr19 = rotr(x, 19);\n        var rotr61 = rotr(x, 61);\n        var shr6 = shr(x, 6);\n\n        return new int64(\n            rotr19.highOrder ^ rotr61.highOrder ^ shr6.highOrder,\n            rotr19.lowOrder ^ rotr61.lowOrder ^ shr6.lowOrder\n        );\n    }\n\n    function shr(x, n) {\n        if (n <= 32) {\n            return new int64(\n                x.highOrder >>> n,\n                x.lowOrder >>> n | (x.highOrder << (32 - n))\n            );\n        } else {\n            return new int64(\n                0,\n                x.highOrder << (32 - n)\n            );\n        }\n    }\n\n    var str = utf8_encode(str);\n    var strlen = str.length*charsize;\n    str = str2binb(str);\n\n    str[strlen >> 5] |= 0x80 << (24 - strlen % 32);\n    str[(((strlen + 128) >> 10) << 5) + 31] = strlen;\n\n    for (var i = 0; i < str.length; i += 32) {\n        a = H[0];\n        b = H[1];\n        c = H[2];\n        d = H[3];\n        e = H[4];\n        f = H[5];\n        g = H[6];\n        h = H[7];\n\n        for (var j = 0; j < 80; j++) {\n            if (j < 16) {\n                W[j] = new int64(str[j*2 + i], str[j*2 + i + 1]);\n            } else {\n                W[j] = safe_add_4(gamma1(W[j - 2]), W[j - 7], gamma0(W[j - 15]), W[j - 16]);\n            }\n\n            T1 = safe_add_5(h, sigma1(e), ch(e, f, g), K[j], W[j]);\n            T2 = safe_add_2(sigma0(a), maj(a, b, c));\n            h = g;\n            g = f;\n            f = e;\n            e = safe_add_2(d, T1);\n            d = c;\n            c = b;\n            b = a;\n            a = safe_add_2(T1, T2);\n        }\n\n        H[0] = safe_add_2(a, H[0]);\n        H[1] = safe_add_2(b, H[1]);\n        H[2] = safe_add_2(c, H[2]);\n        H[3] = safe_add_2(d, H[3]);\n        H[4] = safe_add_2(e, H[4]);\n        H[5] = safe_add_2(f, H[5]);\n        H[6] = safe_add_2(g, H[6]);\n        H[7] = safe_add_2(h, H[7]);\n    }\n\n    var binarray = [];\n    for (var i = 0; i < H.length; i++) {\n        binarray.push(H[i].highOrder);\n        binarray.push(H[i].lowOrder);\n    }\n\n    return binb2hex(binarray);\n});\r\n\r\n/**\r\n * (c) jTools Input Mask\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Input mask\r\n */\r\n\r\njSuites.mask = (function() {\r\n    var obj = {};\r\n    var index = 0;\r\n    var values = []\r\n    var pieces = [];\r\n\r\n    obj.run = function(value, mask, decimal) {\r\n        if (value && mask) {\r\n            if (! decimal) {\r\n                decimal = '.';\r\n            }\r\n            if (value == Number(value)) {\r\n                var number = (''+value).split('.');\r\n                var value = number[0];\r\n                var valueDecimal = number[1];\r\n            } else {\r\n                value = '' + value;\r\n            }\r\n            index = 0;\r\n            values = [];\r\n            // Create mask token\r\n            obj.prepare(mask);\r\n            // Current value\r\n            var currentValue = value;\r\n            if (currentValue) {\r\n                // Checking current value\r\n                for (var i = 0; i < currentValue.length; i++) {\r\n                    if (currentValue[i] != null) {\r\n                        obj.process(currentValue[i]);\r\n                    }\r\n                }\r\n            }\r\n            if (valueDecimal) {\r\n                obj.process(decimal);\r\n                var currentValue = valueDecimal;\r\n                if (currentValue) {\r\n                    // Checking current value\r\n                    for (var i = 0; i < currentValue.length; i++) {\r\n                        if (currentValue[i] != null) {\r\n                            obj.process(currentValue[i]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            // Formatted value\r\n            return values.join('');\r\n        } else {\r\n            return '';\r\n        }\r\n    }\r\n\r\n    obj.apply = function(e) {\r\n        if (e.target && ! e.target.getAttribute('readonly')) {\r\n            var mask = e.target.getAttribute('data-mask');\r\n            if (mask && e.keyCode > 46) {\r\n                index = 0;\r\n                values = [];\r\n                // Create mask token\r\n                obj.prepare(mask);\r\n                // Current value\r\n                if (e.target.selectionStart < e.target.selectionEnd) {\r\n                    var currentValue = e.target.value.substring(0, e.target.selectionStart); \r\n                } else {\r\n                    var currentValue = e.target.value;\r\n                }\r\n                if (currentValue) {\r\n                    // Checking current value\r\n                    for (var i = 0; i < currentValue.length; i++) {\r\n                        if (currentValue[i] != null) {\r\n                            obj.process(currentValue[i]);\r\n                        }\r\n                    }\r\n                }\r\n                // New input\r\n                obj.process(obj.fromKeyCode(e));\r\n                // Update value to the element\r\n                e.target.value = values.join('');\r\n                if (pieces.length == values.length && pieces[pieces.length-1].length == values[values.length-1].length) {\r\n                    e.target.setAttribute('data-completed', 'true');\r\n                } else {\r\n                    e.target.setAttribute('data-completed', 'false');\r\n                }\r\n                // Prevent default\r\n                e.preventDefault();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Process inputs and save to values\r\n     */\r\n    obj.process = function(input) {\r\n        do {\r\n            if (pieces[index] == 'mm') {\r\n                if (values[index] == null || values[index] == '') {\r\n                    if (parseInt(input) > 1 && parseInt(input) < 10) {\r\n                        values[index] = '0' + input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (parseInt(input) < 10) {\r\n                        values[index] = input;\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    if (values[index] == 1 && values[index] < 2 && parseInt(input) < 3) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (values[index] == 0 && values[index] < 10) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else {\r\n                        return false\r\n                    }\r\n                }\r\n            } else if (pieces[index] == 'dd') {\r\n                if (values[index] == null || values[index] == '') {\r\n                    if (parseInt(input) > 3 && parseInt(input) < 10) {\r\n                        values[index] = '0' + input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (parseInt(input) < 10) {\r\n                        values[index] = input;\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    if (values[index] == 3 && parseInt(input) < 2) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (values[index] < 3 && parseInt(input) < 10) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else {\r\n                        return false\r\n                    }\r\n                }\r\n            } else if (pieces[index] == 'hh24') {\r\n                if (values[index] == null || values[index] == '') {\r\n                    if (parseInt(input) > 2 && parseInt(input) < 10) {\r\n                        values[index] = '0' + input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (parseInt(input) < 10) {\r\n                        values[index] = input;\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    if (values[index] == 2 && parseInt(input) < 4) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (values[index] < 2 && parseInt(input) < 10) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else {\r\n                        return false\r\n                    }\r\n                }\r\n            } else if (pieces[index] == 'hh') {\r\n                if (values[index] == null || values[index] == '') {\r\n                    if (parseInt(input) > 1 && parseInt(input) < 10) {\r\n                        values[index] = '0' + input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (parseInt(input) < 10) {\r\n                        values[index] = input;\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    if (values[index] == 1 && parseInt(input) < 3) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (values[index] < 1 && parseInt(input) < 10) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                    } else {\r\n                        return false\r\n                    }\r\n                }\r\n            } else if (pieces[index] == 'mi' || pieces[index] == 'ss') {\r\n                if (values[index] == null || values[index] == '') {\r\n                    if (parseInt(input) > 5 && parseInt(input) < 10) {\r\n                        values[index] = '0' + input;\r\n                        index++;\r\n                        return true;\r\n                    } else if (parseInt(input) < 10) {\r\n                        values[index] = input;\r\n                        return true;\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                } else {\r\n                    if (parseInt(input) < 10) {\r\n                        values[index] += input;\r\n                        index++;\r\n                        return true;\r\n                     } else {\r\n                        return false\r\n                    }\r\n                }\r\n            } else if (pieces[index] == 'yy' || pieces[index] == 'yyyy') {\r\n                if (parseInt(input) < 10) {\r\n                    if (values[index] == null || values[index] == '') {\r\n                        values[index] = input;\r\n                    } else {\r\n                        values[index] += input;\r\n                    }\r\n                    \r\n                    if (values[index].length == pieces[index].length) {\r\n                        index++;\r\n                    }\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else if (pieces[index] == '#' || pieces[index] == '#.##' || pieces[index] == '#,##' || pieces[index] == '# ##') {\r\n                if (input.match(/[0-9]/g)) {\r\n                    if (pieces[index] == '#.##') {\r\n                        var separator = '.';\r\n                    } else if (pieces[index] == '#,##') {\r\n                        var separator = ',';\r\n                    } else if (pieces[index] == '# ##') {\r\n                        var separator = ' ';\r\n                    } else {\r\n                        var separator = '';\r\n                    }\r\n                    if (values[index] == null || values[index] == '') {\r\n                        values[index] = input;\r\n                    } else {\r\n                        values[index] += input;\r\n                        if (separator) {\r\n                            values[index] = values[index].match(/[0-9]/g).join('');\r\n                            var t = [];\r\n                            var s = 0;\r\n                            for (var j = values[index].length - 1; j >= 0 ; j--) {\r\n                                t.push(values[index][j]);\r\n                                s++;\r\n                                if (! (s % 3)) {\r\n                                    t.push(separator);\r\n                                }\r\n                            }\r\n                            t = t.reverse();\r\n                            values[index] = t.join('');\r\n                            if (values[index].substr(0,1) == separator) {\r\n                                values[index] = values[index].substr(1);\r\n                            } \r\n                        }\r\n                    }\r\n                    return true;\r\n                } else {\r\n                    if (pieces[index] == '#.##' && input == '.') {\r\n                        // Do nothing\r\n                    } else if (pieces[index] == '#,##' && input == ',') {\r\n                        // Do nothing\r\n                    } else if (pieces[index] == '# ##' && input == ' ') {\r\n                        // Do nothing\r\n                    } else {\r\n                        if (values[index]) {\r\n                            index++;\r\n                            if (pieces[index]) {\r\n                                if (pieces[index] == input) {\r\n                                    values[index] = input;\r\n                                    return true;\r\n                                } else {\r\n                                    if (pieces[index] == '0' && pieces[index+1] == input) {\r\n                                        index++;\r\n                                        values[index] = input;\r\n                                        return true;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n            } else if (pieces[index] == '0') {\r\n                if (input.match(/[0-9]/g)) {\r\n                    values[index] = input;\r\n                    index++;\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else if (pieces[index] == 'a') {\r\n                if (input.match(/[a-zA-Z]/g)) {\r\n                    values[index] = input;\r\n                    index++;\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            } else {\r\n                if (pieces[index] != null) {\r\n                    if (pieces[index] == '\\\\a') {\r\n                        var v = 'a';\r\n                    } else if (pieces[index] == '\\\\0') {\r\n                        var v = '0';\r\n                    } else if (pieces[index] == '[-]') {\r\n                        if (input == '-' || input == '+') {\r\n                            var v = input;\r\n                        } else {\r\n                            var v = ' ';\r\n                        }\r\n                    } else {\r\n                        var v = pieces[index];\r\n                    }\r\n                    values[index] = v;\r\n                    if (input == v) {\r\n                        index++;\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            index++;\r\n        } while (pieces[index]);\r\n    }\r\n\r\n    /**\r\n     * Create tokens for the mask\r\n     */\r\n    obj.prepare = function(mask) {\r\n        pieces = [];\r\n        for (var i = 0; i < mask.length; i++) {\r\n            if (mask[i].match(/[0-9]|[a-z]|\\\\/g)) {\r\n                if (mask[i] == 'y' && mask[i+1] == 'y' && mask[i+2] == 'y' && mask[i+3] == 'y') {\r\n                    pieces.push('yyyy');\r\n                    i += 3;\r\n                } else if (mask[i] == 'y' && mask[i+1] == 'y') {\r\n                    pieces.push('yy');\r\n                    i++;\r\n                } else if (mask[i] == 'm' && mask[i+1] == 'm' && mask[i+2] == 'm' && mask[i+3] == 'm') {\r\n                    pieces.push('mmmm');\r\n                    i += 3;\r\n                } else if (mask[i] == 'm' && mask[i+1] == 'm' && mask[i+2] == 'm') {\r\n                    pieces.push('mmm');\r\n                    i += 2;\r\n                } else if (mask[i] == 'm' && mask[i+1] == 'm') {\r\n                    pieces.push('mm');\r\n                    i++;\r\n                } else if (mask[i] == 'd' && mask[i+1] == 'd') {\r\n                    pieces.push('dd');\r\n                    i++;\r\n                } else if (mask[i] == 'h' && mask[i+1] == 'h' && mask[i+2] == '2' && mask[i+3] == '4') {\r\n                    pieces.push('hh24');\r\n                    i += 3;\r\n                } else if (mask[i] == 'h' && mask[i+1] == 'h') {\r\n                    pieces.push('hh');\r\n                    i++;\r\n                } else if (mask[i] == 'm' && mask[i+1] == 'i') {\r\n                    pieces.push('mi');\r\n                    i++;\r\n                } else if (mask[i] == 's' && mask[i+1] == 's') {\r\n                    pieces.push('ss');\r\n                    i++;\r\n                } else if (mask[i] == 'a' && mask[i+1] == 'm') {\r\n                    pieces.push('am');\r\n                    i++;\r\n                } else if (mask[i] == 'p' && mask[i+1] == 'm') {\r\n                    pieces.push('pm');\r\n                    i++;\r\n                } else if (mask[i] == '\\\\' && mask[i+1] == '0') {\r\n                    pieces.push('\\\\0');\r\n                    i++;\r\n                } else if (mask[i] == '\\\\' && mask[i+1] == 'a') {\r\n                    pieces.push('\\\\a');\r\n                    i++;\r\n                } else {\r\n                    pieces.push(mask[i]);\r\n                }\r\n            } else {\r\n                if (mask[i] == '#' && mask[i+1] == '.' && mask[i+2] == '#' && mask[i+3] == '#') {\r\n                    pieces.push('#.##');\r\n                    i += 3;\r\n                } else if (mask[i] == '#' && mask[i+1] == ',' && mask[i+2] == '#' && mask[i+3] == '#') {\r\n                    pieces.push('#,##');\r\n                    i += 3;\r\n                } else if (mask[i] == '#' && mask[i+1] == ' ' && mask[i+2] == '#' && mask[i+3] == '#') {\r\n                    pieces.push('# ##');\r\n                    i += 3;\r\n                } else if (mask[i] == '[' && mask[i+1] == '-' && mask[i+2] == ']') {\r\n                    pieces.push('[-]');\r\n                    i += 2;\r\n                } else {\r\n                    pieces.push(mask[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /** \r\n     * Thanks for the collaboration\r\n     */\r\n    obj.fromKeyCode = function(e) {\r\n        var _to_ascii = {\r\n            '188': '44',\r\n            '109': '45',\r\n            '190': '46',\r\n            '191': '47',\r\n            '192': '96',\r\n            '220': '92',\r\n            '222': '39',\r\n            '221': '93',\r\n            '219': '91',\r\n            '173': '45',\r\n            '187': '61', //IE Key codes\r\n            '186': '59', //IE Key codes\r\n            '189': '45'  //IE Key codes\r\n        }\r\n\r\n        var shiftUps = {\r\n            \"96\": \"~\",\r\n            \"49\": \"!\",\r\n            \"50\": \"@\",\r\n            \"51\": \"#\",\r\n            \"52\": \"$\",\r\n            \"53\": \"%\",\r\n            \"54\": \"^\",\r\n            \"55\": \"&\",\r\n            \"56\": \"*\",\r\n            \"57\": \"(\",\r\n            \"48\": \")\",\r\n            \"45\": \"_\",\r\n            \"61\": \"+\",\r\n            \"91\": \"{\",\r\n            \"93\": \"}\",\r\n            \"92\": \"|\",\r\n            \"59\": \":\",\r\n            \"39\": \"\\\"\",\r\n            \"44\": \"<\",\r\n            \"46\": \">\",\r\n            \"47\": \"?\"\r\n        };\r\n\r\n        var c = e.which;\r\n\r\n        if (_to_ascii.hasOwnProperty(c)) {\r\n            c = _to_ascii[c];\r\n        }\r\n\r\n        if (!e.shiftKey && (c >= 65 && c <= 90)) {\r\n            c = String.fromCharCode(c + 32);\r\n        } else if (e.shiftKey && shiftUps.hasOwnProperty(c)) {\r\n            c = shiftUps[c];\r\n        } else if (96 <= c && c <= 105) {\r\n            c = String.fromCharCode(c - 48);\r\n        } else {\r\n            c = String.fromCharCode(c);\r\n        }\r\n\r\n        return c;\r\n    }\r\n\r\n    return obj;\r\n})();\r\n\r\njSuites.mobile = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    if (jSuites.el) {\r\n        jSuites.el.addEventListener('mousedown', function(e) {\r\n            if (e.target.classList.contains('option-title')) {\r\n                if (e.target.classList.contains('selected')) {\r\n                    e.target.classList.remove('selected');\r\n                } else {\r\n                    e.target.classList.add('selected');\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return obj;\r\n})();\r\n\r\njSuites.pages = (function() {\r\n    var container = null;\r\n    var current = null;\r\n\r\n    // Create a page\r\n    var createPage = function(options, callback) {\r\n        // Create page\r\n        var page = document.createElement('div');\r\n        page.classList.add('page');\r\n\r\n        // Always hidden\r\n        page.style.display = 'none';\r\n\r\n        // Keep options\r\n        page.options = options ? options : {};\r\n\r\n        if (! current) {\r\n            container.appendChild(page);\r\n        } else {\r\n            container.insertBefore(page, current.nextSibling);\r\n        }\r\n\r\n        jSuites.ajax({\r\n            url: page.options.url,\r\n            method: 'GET',\r\n            success: function(result) {\r\n                // Push to refresh controls\r\n                jSuites.refresh(page, page.options.onpush);\r\n\n                // Open page\r\n                page.innerHTML = result;\r\n                // Get javascript\r\n                var script = page.getElementsByTagName('script');\r\n                // Run possible inline scripts\r\n                for (var i = 0; i < script.length; i++) {\r\n                    // Get type\r\n                    var type = script[i].getAttribute('type');\r\n                    if (! type || type == 'text/javascript') {\r\n                        eval(script[i].innerHTML);\r\n                    }\r\n                }\r\n                // Set title\r\n                page.setTitle = function(text) {\r\n                    this.children[0].children[0].children[1].innerHTML = text;\r\n                }\r\n                // Show page\r\n                if (! page.options.closed) {\r\n                    showPage(page);\r\n                }\r\n                // Onload callback\r\n                if (typeof(page.options.onload) == 'function') {\r\n                    page.options.onload(page);\r\n                }\r\n                // Force callback\r\n                if (typeof(callback) == 'function') {\r\n                    callback(page);\r\n                }\r\n            }\r\n        });\r\n\r\n        return page;\r\n    }\r\n\r\n    var showPage = function(page, ignoreHistory, callback) {\r\n        if (current) {\r\n            if (current == page) {\r\n                current = page;\r\n            } else {\r\n                // Keep scroll in the top\r\n                window.scrollTo({ top: 0 });\r\n\r\n                // Show page\r\n                page.style.display = '';\r\n\r\n                var a = Array.prototype.indexOf.call(container.children, current);\r\n                var b = Array.prototype.indexOf.call(container.children, page);\r\n\r\n                // Leave\r\n                if (typeof(current.options.onleave) == 'function') {\r\n                    current.options.onleave(current, page, ignoreHistory);\r\n                }\r\n\r\n                jSuites.slideLeft(container, (a < b ? 0 : 1), function() {\r\n                    current.style.display = 'none';\r\n                    current = page;\r\n                });\r\n\r\n                // Enter\r\n                if (typeof(page.options.onenter) == 'function') {\r\n                    page.options.onenter(page, current, ignoreHistory);\r\n                }\r\n            }\r\n        } else {\r\n            // Show\r\n            page.style.display = '';\r\n\r\n            // Keep current\r\n            current = page;\r\n\r\n            // Enter\r\n            if (typeof(page.options.onenter) == 'function') {\r\n                page.options.onenter(page);\r\n            }\r\n        }\r\n\r\n        // Add history\r\n        if (! ignoreHistory) {\r\n            // Add history\r\n            window.history.pushState({ route: page.options.route }, page.options.title, page.options.route);\r\n        }\r\n\r\n        // Callback\r\n        if (typeof(callback) == 'function') {\r\n            callback(page);\r\n        }\r\n    }\r\n\r\n    // Init method\r\n    var obj = function(route, mixed) {\r\n\r\n        // Create page container\r\n        if (! container) {\r\n            container = document.querySelector('.pages');\r\n            if (! container) {\r\n                container = document.createElement('div');\r\n                container.className = 'pages';\r\n            }\r\n\r\n            // Append container to the application\r\n            if (jSuites.el) {\r\n                jSuites.el.appendChild(container);\r\n            } else {\r\n                document.body.appendChild(container);\r\n            }\r\n        }\r\n\r\n        if (! obj.pages[route]) {\r\n            if (! route) {\r\n                alert('Error, no route provided');\r\n            } else {\r\n                if (typeof(mixed) == 'function') {\r\n                    var options = {};\r\n                    var callback = mixed;\r\n                } else {\r\n                    // Page options\r\n                    var options = mixed ? mixed : {};\r\n                }\r\n\r\n                // Closed\r\n                options.closed = mixed && mixed.closed ? 1 : 0;\r\n                // Keep Route\r\n                options.route = route;\r\n\r\n                // New page url\r\n                if (! options.url) {\r\n                    var routePath = route.split('#');\r\n                    options.url = jSuites.pages.path + routePath[0] + '.html';\r\n                }\r\n                // Title\r\n                if (! options.title) {\r\n                    options.title = 'Untitled';\r\n                }\r\n\r\n                // Create new page\r\n                obj.pages[route] = createPage(options, callback ? callback : null);\r\n            }\r\n        } else {\r\n            // Update config\r\n            if (mixed) {\r\n                // History\r\n                var ignoreHistory = 0;\r\n\r\n                if (typeof(mixed) == 'function') {\r\n                    var callback = mixed;\r\n                } else {\r\n                    if (typeof(mixed.onenter) == 'function') {\r\n                        obj.pages[route].options.onenter = mixed.onenter;\r\n                    }\r\n                    if (typeof(mixed.onleave) == 'function') {\r\n                        obj.pages[route].options.onleave = mixed.onleave;\r\n                    }\r\n\r\n                    // Ignore history\r\n                    ignoreHistory = mixed.ignoreHistory ? 1 : 0; \r\n                }\r\n            }\r\n\r\n            showPage(obj.pages[route], ignoreHistory, callback ? callback : null);\r\n        }\r\n    }\r\n\r\n    obj.pages = {};\r\n\r\n    // Get page\r\n    obj.get = function(route) {\r\n        if (obj.pages[route]) {\r\n            return obj.pages[route]; \r\n        }\r\n    }\r\n\r\n    obj.getContainer = function() {\r\n        return container;\r\n    }\r\n\r\n    obj.destroy = function() {\r\n        // Current is null\r\n        current = null;\r\n        // Destroy containers\r\n        obj.pages = {};\r\n        // Reset container\r\n        if (container) {\r\n            container.innerHTML = '';\r\n        }\r\n    }\r\n\r\n    return obj;\r\n})();\r\n\r\n// Path\r\njSuites.pages.path = 'pages';\r\n\r\n// Panel\r\njSuites.panel = (function() {\r\n    // No initial panel declared\r\n    var panel = null;\r\n\r\n    var obj = function(route) {\r\n        if (! panel) {\r\n            obj.create(jSuites.pages.path + route + '.html');\r\n        }\r\n\r\n        // Show panel\r\n        panel.style.display = '';\r\n\r\n        // Add animation\r\n        if (panel.classList.contains('panel-left')) {\r\n            jSuites.slideLeft(panel, 1);\r\n        } else {\r\n            jSuites.slideRight(panel, 1);\r\n        }\r\n    }\r\n\r\n    obj.create = function(route) {\r\n        if (! panel) {\r\n            // Create element\r\n            panel = document.createElement('div');\r\n            panel.classList.add('panel');\r\n            panel.classList.add('panel-left');\r\n            panel.style.display = 'none';\r\n\r\n            // Bind to the app\r\n            if (jSuites.el) {\r\n                jSuites.el.appendChild(panel);\r\n            } else {\r\n                document.body.appendChild(panel);\r\n            }\r\n        }\r\n\r\n        // Remote content\r\n        if (route) {\r\n\t        var url = jSuites.pages.path + route + '.html';\r\n\r\n            jSuites.ajax({\r\n                url: url,\r\n                method: 'GET',\r\n                success: function(result) {\r\n                    // Set content\r\n                    panel.innerHTML = result;\r\n                    // Get javascript\r\n                    var script = panel.getElementsByTagName('script');\r\n                    // Run possible inline scripts\r\n                    for (var i = 0; i < script.length; i++) {\r\n                        // Get type\r\n                        var type = script[i].getAttribute('type');\r\n                        if (! type || type == 'text/javascript') {\r\n                            eval(script[i].innerHTML);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    obj.close = function() {\r\n        if (panel) {\r\n            // Animation\r\n            if (panel.classList.contains('panel-left')) {\r\n                jSuites.slideLeft(panel, 0, function() {\r\n                    panel.style.display = 'none';\r\n                });\r\n            } else {\r\n                jSuites.slideRight(panel, 0, function() {\r\n                    panel.style.display = 'none';\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.get = function() {\r\n        return panel;\r\n    }\r\n\r\n    obj.destroy = function() {\r\n        panel.remove();\r\n        panel = null;\r\n    }\r\n\r\n    return obj;\r\n})();\r\n\r\njSuites.toolbar = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = options;\r\n\r\n    obj.selectItem = function(element) {\r\n        var elements = toolbarContent.children;\r\n        for (var i = 0; i < elements.length; i++) {\r\n            elements[i].classList.remove('selected');\r\n        }\r\n        element.classList.add('selected');\r\n    }\r\n\r\n    obj.hide = function() {\r\n        jSuites.slideBottom(toolbar, 0, function() {\r\n            toolbar.style.display = 'none';\r\n        });\r\n    }\r\n\r\n    obj.show = function() {\r\n        toolbar.style.display = '';\r\n        jSuites.slideBottom(toolbar, 1);\r\n    }\r\n\r\n    obj.get = function() {\r\n        return toolbar;\r\n    }\r\n\r\n    obj.setBadge = function(index, value) {\r\n        toolbarContent.children[index].children[1].firstChild.innerHTML = value;\r\n    }\r\n\r\n    obj.destroy = function() {\r\n        toolbar.remove();\r\n        toolbar = null;\r\n    }\r\n\r\n    var toolbar = document.createElement('div');\r\n    toolbar.classList.add('jtoolbar');\r\n    toolbar.onclick = function(e) {\r\n        var element = jSuites.getElement(e.target, 'jtoolbar-item');\r\n        if (element) {\r\n            obj.selectItem(element);\r\n        }\r\n    }\r\n\r\n    var toolbarContent = document.createElement('div');\r\n    toolbar.appendChild(toolbarContent);\r\n\r\n    for (var i = 0; i < options.items.length; i++) {\r\n        var toolbarItem = document.createElement('div');\r\n        toolbarItem.classList.add('jtoolbar-item');\r\n        if (options.items[i].route) {\r\n            toolbarItem.setAttribute('data-href', options.items[i].route);\r\n            jSuites.pages(options.items[i].route, {\r\n                closed: true,\r\n                onenter: function() {\r\n                    obj.selectItem(toolbarItem);\r\n                }\r\n            });\r\n        }\r\n\r\n        if (options.items[i].icon) {\r\n            var toolbarIcon = document.createElement('i');\r\n            toolbarIcon.classList.add('material-icons');\r\n            toolbarIcon.innerHTML = options.items[i].icon;\r\n            toolbarItem.appendChild(toolbarIcon);\r\n        }\r\n\r\n        var toolbarBadge = document.createElement('div');\r\n        toolbarBadge.classList.add('jbadge');\r\n        var toolbarBadgeContent = document.createElement('div');\r\n        toolbarBadgeContent.innerHTML = options.items[i].badge ? options.items[i].badge : '';\r\n        toolbarBadge.appendChild(toolbarBadgeContent);\r\n        toolbarItem.appendChild(toolbarBadge);\r\n\r\n        if (options.items[i].title) {\r\n            var toolbarTitle = document.createElement('span');\r\n            toolbarTitle.innerHTML = options.items[i].title;\r\n            toolbarItem.appendChild(toolbarTitle);\r\n        }\r\n\r\n        toolbarContent.appendChild(toolbarItem);\r\n    }\r\n\r\n    el.toolbar = obj;\r\n\r\n    el.appendChild(toolbar);\r\n\r\n    return obj;\r\n});\r\n\r\njSuites.actionsheet = (function() {\r\n    var actionsheet = document.createElement('div');\r\n    actionsheet.className = 'jactionsheet';\r\n    actionsheet.style.display = 'none';\r\n\r\n    var actionContent = document.createElement('div');\r\n    actionContent.className = 'jactionsheet-content';\r\n    actionsheet.appendChild(actionContent);\r\n\r\n    var obj = function(options) {\r\n        if (options) {\r\n            obj.options = options;\r\n        }\r\n\r\n        // Reset container\r\n        actionContent.innerHTML = '';\r\n\r\n        // Create new elements\r\n        for (var i = 0; i < obj.options.length; i++) {\r\n            var actionGroup = document.createElement('div');\r\n            actionGroup.className = 'jactionsheet-group';\r\n\r\n            for (var j = 0; j < obj.options[i].length; j++) {\r\n                var v = obj.options[i][j];\r\n                var actionItem = document.createElement('div');\r\n                var actionInput = document.createElement('input');\r\n                actionInput.type = 'button';\r\n                actionInput.value = v.title;\r\n                if (v.className) {\r\n                    actionInput.className = v.className; \r\n                }\r\n                if (v.onclick) {\r\n                    actionInput.onclick = v.onclick; \r\n                }\r\n                if (v.action == 'cancel') {\r\n                    actionInput.style.color = 'red';\r\n                }\r\n                actionItem.appendChild(actionInput);\r\n                actionGroup.appendChild(actionItem);\r\n            }\r\n\r\n            actionContent.appendChild(actionGroup);\r\n        }\r\n\r\n        // Show\r\n        actionsheet.style.display = '';\r\n\r\n        // Append\r\n        jSuites.el.appendChild(actionsheet);\r\n\r\n        // Animation\r\n        jSuites.slideBottom(actionContent, true);\r\n    }\r\n\r\n    obj.close = function() {\r\n        if (actionsheet.style.display != 'none') {\r\n            // Remove any existing actionsheet\r\n            jSuites.slideBottom(actionContent, false, function() {\r\n                actionsheet.remove();\r\n                actionsheet.style.display = 'none';\r\n            });\r\n        }\r\n    }\r\n\r\n    var mouseUp = function(e) {\r\n        obj.close();\r\n    }\r\n\r\n    actionsheet.addEventListener('mouseup', mouseUp);\r\n\r\n    obj.options = {};\r\n\r\n    return obj;\r\n})();\r\n\r\n/**\r\n * (c) jSuites modal\r\n * https://github.com/paulhodel/jsuites\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Modal\r\n */\r\n\r\njSuites.modal = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        url: null,\r\n        onopen: null,\r\n        onclose: null,\r\n        closed: false,\r\n        width: null,\r\n        height: null,\r\n        title: null,\r\n    };\r\n\r\n    // Loop through our object\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Title\r\n    if (! obj.options.title && el.getAttribute('title')) {\r\n        obj.options.title = el.getAttribute('title');\r\n    }\r\n\r\n    var temp = document.createElement('div');\r\n    for (var i = 0; i < el.children.length; i++) {\r\n        temp.appendChild(el.children[i]);\r\n    }\r\n\r\n    obj.content = document.createElement('div');\r\n    obj.content.className = 'jmodal_content';\r\n    obj.content.innerHTML = el.innerHTML;\r\n\r\n    for (var i = 0; i < temp.children.length; i++) {\r\n        obj.content.appendChild(temp.children[i]);\r\n    }\r\n\r\n    obj.container = document.createElement('div');\r\n    obj.container.className = 'jmodal';\r\n    obj.container.appendChild(obj.content);\r\n\r\n    if (obj.options.width) {\r\n        obj.container.style.width = obj.options.width;\r\n    }\r\n    if (obj.options.height) {\r\n        obj.container.style.height = obj.options.height;\r\n    }\r\n    if (obj.options.title) {\r\n        obj.container.setAttribute('title', obj.options.title);\r\n    } else {\r\n        obj.container.classList.add('no-title');\r\n    }\r\n    el.innerHTML = '';\r\n    el.style.display = 'none';\r\n    el.appendChild(obj.container);\r\n\r\n    // Backdrop\r\n    var backdrop = document.createElement('div');\r\n    backdrop.className = 'jmodal_backdrop';\r\n    el.appendChild(backdrop);\r\n\r\n    obj.open = function() {\r\n        el.style.display = 'block';\r\n        // Fullscreen\r\n        const rect = obj.container.getBoundingClientRect();\r\n        if (jSuites.getWindowWidth() < rect.width) {\r\n            obj.container.style.top = '';\r\n            obj.container.style.left = '';\r\n            obj.container.classList.add('jmodal_fullscreen');\r\n            jSuites.slideBottom(obj.container, 1);\r\n        } else {\r\n            backdrop.style.display = 'block';\r\n        }\r\n        // Current\r\n        jSuites.modal.current = obj;\r\n        // Event\r\n        if (typeof(obj.options.onopen) == 'function') {\r\n            obj.options.onopen(el, obj);\r\n        }\r\n    }\r\n\r\n    obj.resetPosition = function() {\r\n        obj.container.style.top = '';\r\n        obj.container.style.left = '';\r\n    }\r\n\r\n    obj.isOpen = function() {\r\n        return el.style.display != 'none' ? true : false;\r\n    }\r\n\r\n    obj.close = function() {\r\n        el.style.display = 'none';\r\n        // Backdrop\r\n        backdrop.style.display = '';\r\n        // Current\r\n        jSuites.modal.current = null;\r\n        // Remove fullscreen class\r\n        obj.container.classList.remove('jmodal_fullscreen');\r\n        // Event\r\n        if (typeof(obj.options.onclose) == 'function') {\r\n            obj.options.onclose(el, obj);\r\n        }\r\n    }\r\n\r\n    if (! jSuites.modal.hasEvents) {\r\n        jSuites.modal.current = obj;\r\n\r\n        if ('ontouchstart' in document.documentElement === true) {\r\n            document.addEventListener(\"touchstart\", jSuites.modal.mouseDownControls);\r\n        } else {\r\n            document.addEventListener('mousedown', jSuites.modal.mouseDownControls);\r\n            document.addEventListener('mousemove', jSuites.modal.mouseMoveControls);\r\n            document.addEventListener('mouseup', jSuites.modal.mouseUpControls);\r\n        }\r\n\r\n        document.addEventListener('keydown', jSuites.modal.keyDownControls);\r\n\r\n        jSuites.modal.hasEvents = true;\r\n    }\r\n\r\n    if (obj.options.url) {\r\n        jSuites.ajax({\r\n            url: obj.options.url,\r\n            method: 'GET',\r\n            success: function(data) {\r\n                obj.content.innerHTML = data;\r\n\r\n                if (! obj.options.closed) {\r\n                    obj.open();\r\n                }\r\n            }\r\n        });\r\n    } else {\r\n        if (! obj.options.closed) {\r\n            obj.open();\r\n        }\r\n    }\r\n\r\n    // Keep object available from the node\r\n    el.modal = obj;\r\n\r\n    return obj;\r\n});\r\n\r\njSuites.modal.current = null;\r\njSuites.modal.position = null;\r\n\r\njSuites.modal.keyDownControls = function(e) {\r\n    if (e.which == 27) {\r\n        if (jSuites.modal.current) {\r\n            jSuites.modal.current.close();\r\n        }\r\n    }\r\n}\r\n\r\njSuites.modal.mouseUpControls = function(e) {\r\n    if (jSuites.modal.current) {\r\n        jSuites.modal.current.container.style.cursor = 'auto';\r\n    }\r\n    jSuites.modal.position = null;\r\n}\r\n\r\njSuites.modal.mouseMoveControls = function(e) {\r\n    if (jSuites.modal.current && jSuites.modal.position) {\r\n        if (e.which == 1 || e.which == 3) {\r\n            var position = jSuites.modal.position;\r\n            jSuites.modal.current.container.style.top = (position[1] + (e.clientY - position[3]) + (position[5] / 2)) + 'px';\r\n            jSuites.modal.current.container.style.left = (position[0] + (e.clientX - position[2]) + (position[4] / 2)) + 'px';\r\n            jSuites.modal.current.container.style.cursor = 'move';\r\n        } else {\r\n            jSuites.modal.current.container.style.cursor = 'auto';\r\n        }\r\n    }\r\n}\r\n\r\njSuites.modal.mouseDownControls = function(e) {\r\n    jSuites.modal.position = [];\r\n\r\n    if (e.target.classList.contains('jmodal')) {\r\n        setTimeout(function() {\r\n            // Get target info\r\n            var rect = e.target.getBoundingClientRect();\r\n\r\n            if (e.changedTouches && e.changedTouches[0]) {\r\n                var x = e.changedTouches[0].clientX;\r\n                var y = e.changedTouches[0].clientY;\r\n            } else {\r\n                var x = e.clientX;\r\n                var y = e.clientY;\r\n            }\r\n\r\n            if (rect.width - (x - rect.left) < 50 && (y - rect.top) < 50) {\r\n                setTimeout(function() {\r\n                    jSuites.modal.current.close();\r\n                }, 100);\r\n            } else {\r\n                if (e.target.getAttribute('title') && (y - rect.top) < 50) {\r\n                    if (document.selection) {\r\n                        document.selection.empty();\r\n                    } else if ( window.getSelection ) {\r\n                        window.getSelection().removeAllRanges();\r\n                    }\r\n\r\n                    jSuites.modal.position = [\r\n                        rect.left,\r\n                        rect.top,\r\n                        e.clientX,\r\n                        e.clientY,\r\n                        rect.width,\r\n                        rect.height,\r\n                    ];\r\n                }\r\n            }\r\n        }, 100);\r\n    }\r\n}\r\n\r\n\r\njSuites.notification = (function(options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        icon: null,\r\n        name: 'Notification',\r\n        date: null,\r\n        title: null,\r\n        message: null,\r\n        timeout: 4000,\r\n        autoHide: true,\r\n        closeable: true,\r\n    };\r\n\r\n    // Loop through our object\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    var notification = document.createElement('div');\r\n    notification.className = 'jnotification';\r\n\r\n    var notificationContainer = document.createElement('div');\r\n    notificationContainer.className = 'jnotification-container';\r\n    notification.appendChild(notificationContainer);\r\n\r\n    var notificationHeader = document.createElement('div');\r\n    notificationHeader.className = 'jnotification-header';\r\n    notificationContainer.appendChild(notificationHeader);\r\n\r\n    var notificationImage = document.createElement('div');\r\n    notificationImage.className = 'jnotification-image';\r\n    notificationHeader.appendChild(notificationImage);\r\n\r\n    if (obj.options.icon) {\r\n        var notificationIcon = document.createElement('img');\r\n        notificationIcon.src = obj.options.icon;\r\n        notificationImage.appendChild(notificationIcon);\r\n    }\r\n\r\n    var notificationName = document.createElement('div');\r\n    notificationName.className = 'jnotification-name';\r\n    notificationName.innerHTML = obj.options.name;\r\n    notificationHeader.appendChild(notificationName);\r\n\r\n    if (obj.options.closeable == true) {\r\n        var notificationClose = document.createElement('div');\r\n        notificationClose.className = 'jnotification-close';\r\n        notificationClose.onclick = function() {\r\n            obj.hide();\r\n        }\r\n        notificationHeader.appendChild(notificationClose);\r\n    }\r\n\r\n    var notificationDate = document.createElement('div');\r\n    notificationDate.className = 'jnotification-date';\r\n    notificationHeader.appendChild(notificationDate);\r\n\r\n    var notificationContent = document.createElement('div');\r\n    notificationContent.className = 'jnotification-content';\r\n    notificationContainer.appendChild(notificationContent);\r\n\r\n    if (obj.options.title) {\r\n        var notificationTitle = document.createElement('div');\r\n        notificationTitle.className = 'jnotification-title';\r\n        notificationTitle.innerHTML = obj.options.title;\r\n        notificationContent.appendChild(notificationTitle);\r\n    }\r\n\r\n    var notificationMessage = document.createElement('div');\r\n    notificationMessage.className = 'jnotification-message';\r\n    notificationMessage.innerHTML = obj.options.message;\r\n    notificationContent.appendChild(notificationMessage);\r\n\r\n    obj.show = function() {\r\n        document.body.appendChild(notification);\r\n        if (jSuites.getWindowWidth() > 800) { \r\n            jSuites.fadeIn(notification);\r\n        } else {\r\n            jSuites.slideTop(notification, 1);\r\n        }\r\n    }\r\n\r\n    obj.hide = function() {\r\n        if (jSuites.getWindowWidth() > 800) { \r\n            jSuites.fadeOut(notification, function() {\r\n                notification.parentNode.removeChild(notification);\r\n            });\r\n        } else {\r\n            jSuites.slideTop(notification, 0, function() {\r\n                notification.parentNode.removeChild(notification);\r\n            });\r\n        }\r\n    };\r\n\r\n    obj.show();\r\n\r\n    if (obj.options.autoHide == true) {\r\n        setTimeout(function() {\r\n            obj.hide();\r\n        }, obj.options.timeout);\r\n    }\r\n\r\n    if (jSuites.getWindowWidth() < 800) {\r\n        notification.addEventListener(\"swipeup\", function(e) {\r\n            obj.hide();\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        });\r\n    }\r\n\r\n    return obj;\r\n});\r\n\r\njSuites.rating = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        number: 5,\r\n        value: 0,\r\n        tooltip: [ 'Very bad', 'Bad', 'Average', 'Good', 'Very good' ],\r\n        onchange: null,\r\n    };\r\n\r\n    // Loop through the initial configuration\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Class\r\n    el.classList.add('jrating');\r\n\r\n    // Add elements\r\n    for (var i = 0; i < obj.options.number; i++) {\r\n        var div = document.createElement('div');\r\n        div.setAttribute('data-index', (i + 1))\r\n        div.setAttribute('title', obj.options.tooltip[i])\r\n        el.appendChild(div);\r\n    }\r\n\r\n    // Set value\r\n    obj.setValue = function(index) {\r\n        for (var i = 0; i < obj.options.number; i++) {\r\n            if (i < index) {\r\n                el.children[i].classList.add('jrating-selected');\r\n            } else {\r\n                el.children[i].classList.remove('jrating-over');\r\n                el.children[i].classList.remove('jrating-selected');\r\n            }\r\n        }\r\n\r\n        obj.options.value = index;\r\n\r\n        if (typeof(obj.options.onchange) == 'function') {\r\n            obj.options.onchange(el, index);\r\n        }\r\n    }\r\n\r\n    obj.getValue = function() {\r\n        return obj.options.value;\r\n    }\r\n\r\n    if (obj.options.value) {\r\n        for (var i = 0; i < obj.options.number; i++) {\r\n            if (i < obj.options.value) {\r\n                el.children[i].classList.add('jrating-selected');\r\n            }\r\n        }\r\n    }\r\n\r\n    // Events\r\n    el.addEventListener(\"click\", function(e) {\r\n        var index = e.target.getAttribute('data-index');\r\n        if (index != undefined) {\r\n            if (index == obj.options.value) {\r\n                obj.setValue(0);\r\n            } else {\r\n                obj.setValue(index);\r\n            }\r\n        }\r\n    });\r\n\r\n    el.addEventListener(\"mouseover\", function(e) {\r\n        var index = e.target.getAttribute('data-index');\r\n        for (var i = 0; i < obj.options.number; i++) {\r\n            if (i < index) {\r\n                el.children[i].classList.add('jrating-over');\r\n            } else {\r\n                el.children[i].classList.remove('jrating-over');\r\n            }\r\n        }\r\n    });\r\n\r\n    el.addEventListener(\"mouseout\", function(e) {\r\n        for (var i = 0; i < obj.options.number; i++) {\r\n            el.children[i].classList.remove('jrating-over');\r\n        }\r\n    });\r\n\r\n    el.rating = obj;\r\n\r\n    return obj;\r\n});\r\n\r\n\r\n/**\r\n * (c) Image slider\r\n * https://github.com/paulhodel/jtools\r\n *\r\n * @author: Paul Hodel <paul.hodel@gmail.com>\r\n * @description: Image Slider\r\n */\r\n\r\njSuites.slider = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n    obj.currentImage = null;\r\n\r\n    if (options) {\r\n        obj.options = options;\r\n    }\r\n\r\n    // Items\r\n    obj.options.items = [];\r\n\r\n    if (! el.classList.contains('jslider')) {\r\n        el.classList.add('jslider');\r\n\r\n        // Create container\r\n        var container = document.createElement('div');\r\n        container.className = 'jslider-container';\r\n\r\n        // Move children inside\r\n        if (el.children.length > 0) {\r\n            // Keep children items\r\n            for (var i = 0; i < el.children.length; i++) {\r\n                obj.options.items.push(el.children[i]);\r\n            }\r\n        }\r\n        if (obj.options.items.length > 0) {\r\n            for (var i = 0; i < obj.options.items.length; i++) {\r\n                obj.options.items[i].classList.add('jfile');\r\n                var index = obj.options.items[i].src.lastIndexOf('/');\r\n                if (index < 0) {\r\n                    obj.options.items[i].setAttribute('data-name', obj.options.items[i].src);\r\n                } else {\r\n                    obj.options.items[i].setAttribute('data-name', obj.options.items[i].src.substr(index + 1));\r\n                }\r\n                var index = obj.options.items[i].src.lastIndexOf('/');\r\n\r\n                container.appendChild(obj.options.items[i]);\r\n            }\r\n        }\r\n        el.appendChild(container);\r\n        // Add close buttom\r\n        var close = document.createElement('div');\r\n        close.className = 'jslider-close';\r\n        close.innerHTML = '';\r\n        close.onclick =  function() {\r\n            obj.close();\r\n        }\r\n        el.appendChild(close);\r\n    } else {\r\n        var container = el.querySelector('slider-container');\r\n    }\r\n\r\n    obj.show = function(target) {\r\n        if (! target) {\r\n            var target = container.children[0];\r\n        }\r\n\r\n        if (! container.classList.contains('jslider-preview')) {\r\n            container.classList.add('jslider-preview');\r\n            close.style.display = 'block';\r\n        }\r\n\r\n        // Hide all images\r\n        for (var i = 0; i < container.children.length; i++) {\r\n            container.children[i].style.display = 'none';\r\n        }\r\n\r\n        // Show clicked only\r\n        target.style.display = 'block';\r\n\r\n        // Is there any previous\r\n        if (target.previousSibling) {\r\n            container.classList.add('jslider-left');\r\n        } else {\r\n            container.classList.remove('jslider-left');\r\n        }\r\n\r\n        // Is there any next\r\n        if (target.nextSibling) {\r\n            container.classList.add('jslider-right');\r\n        } else {\r\n            container.classList.remove('jslider-right');\r\n        }\r\n\r\n        obj.currentImage = target;\r\n    }\r\n\r\n    obj.open = function() {\r\n        obj.show();\r\n\r\n        // Event\r\n        if (typeof(obj.options.onopen) == 'function') {\r\n            obj.options.onopen(el);\r\n        }\r\n    }\r\n\r\n    obj.close = function() {\r\n        container.classList.remove('jslider-preview');\r\n        container.classList.remove('jslider-left');\r\n        container.classList.remove('jslider-right');\r\n\r\n        for (var i = 0; i < container.children.length; i++) {\r\n            container.children[i].style.display = '';\r\n        }\r\n\r\n        close.style.display = '';\r\n\r\n        obj.currentImage = null;\r\n\r\n        // Event\r\n        if (typeof(obj.options.onclose) == 'function') {\r\n            obj.options.onclose(el);\r\n        }\r\n    }\r\n\r\n    obj.reset = function() {\r\n        container.innerHTML = '';\r\n    }\r\n\r\n    obj.addFile = function(v, ignoreEvents) {\r\n        var img = document.createElement('img');\r\n        img.setAttribute('data-lastmodified', v.lastmodified);\r\n        img.setAttribute('data-name', v.name);\r\n        img.setAttribute('data-size', v.size);\r\n        img.setAttribute('data-extension', v.extension);\r\n        img.setAttribute('data-cover', v.cover);\r\n        img.setAttribute('src', v.file);\r\n        img.className = 'jfile';\r\n        container.appendChild(img);\r\n        obj.options.items.push(img);\r\n\r\n        // Onchange\r\n        if (! ignoreEvents) {\r\n            if (typeof(obj.options.onchange) == 'function') {\r\n                obj.options.onchange(el, v);\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.addFiles = function(files) {\r\n        for (var i = 0; i < files.length; i++) {\r\n            obj.addFile(files[i]);\r\n        }\r\n    }\r\n\r\n    obj.next = function() {\r\n        if (obj.currentImage.nextSibling) {\r\n            obj.show(obj.currentImage.nextSibling);\r\n        }\r\n    }\r\n    \r\n    obj.prev = function() {\r\n        if (obj.currentImage.previousSibling) {\r\n            obj.show(obj.currentImage.previousSibling);\r\n        }\r\n    }\r\n\r\n    obj.getData = function() {\r\n        return jSuites.getFiles(container);\r\n    }\r\n\r\n    // Append data\r\n    if (obj.options.data && obj.options.data.length) {\r\n        for (var i = 0; i < obj.options.data.length; i++) {\r\n            if (obj.options.data[i]) {\r\n                obj.addFile(obj.options.data[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Allow insert\r\n    if (obj.options.allowAttachment) {\r\n        var attachmentInput = document.createElement('input');\r\n        attachmentInput.type = 'file';\r\n        attachmentInput.className = 'slider-attachment';\r\n        attachmentInput.setAttribute('accept', 'image/*');\r\n        attachmentInput.style.display = 'none';\r\n        attachmentInput.onchange = function() {\r\n            var reader = [];\r\n\r\n            for (var i = 0; i < this.files.length; i++) {\r\n                var type = this.files[i].type.split('/');\r\n\r\n                if (type[0] == 'image') {\r\n                    var extension = this.files[i].name;\r\n                    extension = extension.split('.');\r\n                    extension = extension[extension.length-1];\r\n\r\n                    var file = {\r\n                        size: this.files[i].size,\r\n                        name: this.files[i].name,\r\n                        extension: extension,\r\n                        cover: 0,\r\n                        lastmodified: this.files[i].lastModified,\r\n                    }\r\n\r\n                    reader[i] = new FileReader();\r\n                    reader[i].addEventListener(\"load\", function (e) {\r\n                        file.file = e.target.result;\r\n                        obj.addFile(file);\r\n                    }, false);\r\n\r\n                    reader[i].readAsDataURL(this.files[i]);\r\n                } else {\r\n                    alert('The extension is not allowed');\r\n                }\r\n            };\r\n        }\r\n\r\n        var attachmentIcon = document.createElement('i');\r\n        attachmentIcon.innerHTML = 'attachment';\r\n        attachmentIcon.className = 'jslider-attach material-icons';\r\n        attachmentIcon.onclick = function() {\r\n            jSuites.click(attachmentInput);\r\n        }\r\n\r\n        el.appendChild(attachmentInput);\r\n        el.appendChild(attachmentIcon);\r\n    }\r\n\r\n    // Push to refresh\r\n    var longTouchTimer = null;\r\n\r\n    var mouseDown = function(e) {\r\n        if (e.target.tagName == 'IMG') {\r\n            // Remove\r\n            var targetImage = e.target;\r\n            longTouchTimer = setTimeout(function() {\r\n                if (e.target.src.substr(0,4) == 'data') {\r\n                    e.target.remove();\r\n                } else {\r\n                    if (e.target.classList.contains('jremove')) {\r\n                        e.target.classList.remove('jremove');\r\n                    } else {\r\n                        e.target.classList.add('jremove');\r\n                    }\r\n                }\r\n\r\n                // Onchange\r\n                if (typeof(obj.options.onchange) == 'function') {\r\n                    obj.options.onchange(el, e.target);\r\n                }\r\n            }, 1000);\r\n        }\r\n    }\r\n\r\n    var mouseUp = function(e) {\r\n        if (longTouchTimer) {\r\n            clearTimeout(longTouchTimer);\r\n        }\r\n\r\n        // Open slider\r\n        if (e.target.tagName == 'IMG') {\r\n            if (! e.target.classList.contains('jremove')) {\r\n                obj.show(e.target);\r\n            }\r\n        } else {\r\n            // Arrow controls\r\n            if (e.target.clientWidth - e.offsetX < 40) {\r\n                // Show next image\r\n                obj.next();\r\n            } else if (e.offsetX < 40) {\r\n                // Show previous image\r\n                obj.prev();\r\n            }\r\n        }\r\n    }\r\n\r\n    container.addEventListener('mousedown', mouseDown);\r\n    container.addEventListener('touchstart', mouseDown);\r\n    container.addEventListener('mouseup', mouseUp);\r\n    container.addEventListener('touchend', mouseUp);\r\n\r\n    // Add global events\r\n    el.addEventListener(\"swipeleft\", function(e) {\r\n        obj.next();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    });\r\n\r\n    el.addEventListener(\"swiperight\", function(e) {\r\n        obj.prev();\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n    });\r\n\r\n\r\n    el.slider = obj;\r\n\r\n    return obj;\r\n});\r\n\r\n/**\n * (c) jTools v1.0.1 - Element sorting\n * https://github.com/paulhodel/jtools\n *\n * @author: Paul Hodel <paul.hodel@gmail.com>\n * @description: Element drag and drop sorting\n */\n\njSuites.sorting = (function(el, options) {\n    el.classList.add('jsorting');\n\n    el.addEventListener('dragstart', function(e) {\n        e.target.classList.add('dragging');\n    });\n\n    el.addEventListener('dragover', function(e) {\n        e.preventDefault();\n\n        if (e.target.clientHeight / 2 > e.offsetY) {\n            e.path[0].style.borderTop = '1px dotted #ccc';\n            e.path[0].style.borderBottom = '';\n        } else {\n            e.path[0].style.borderTop = '';\n            e.path[0].style.borderBottom = '1px dotted #ccc';\n        }\n    });\n\n    el.addEventListener('dragleave', function(e) {\n        e.path[0].style.borderTop = '';\n        e.path[0].style.borderBottom = '';\n    });\n\n    el.addEventListener('dragend', function(e) {\n        e.path[1].querySelector('.dragging').classList.remove('dragging');\n    });\n\n    el.addEventListener('drop', function(e) {\n        var element = e.path[1].querySelector('.dragging');\n\n        if (e.target.clientHeight / 2 > e.offsetY) {\n            e.path[1].insertBefore(element, e.path[0]);\n        } else {\n            e.path[1].insertBefore(element, e.path[0].nextSibling);\n        }\n\n        e.path[0].style.borderTop = '';\n        e.path[0].style.borderBottom = '';\n    });\n\n    for (var i = 0; i < el.children.length; i++) {\n        el.children[i].setAttribute('draggable', 'true');\n    };\n\n    return el;\n});\r\n\r\njSuites.tabs = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        data: null,\r\n        allowCreate: false,\r\n        onload: null,\r\n        onchange: null,\r\n        oncreate: null,\r\n        animation: false,\r\n        create: null,\r\n        autoName: false,\r\n        prefixName: '',\r\n        hideHeaders: false,\r\n    };\r\n\r\n    // Loop through the initial configuration\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Class\r\n    el.classList.add('jtabs');\r\n\r\n    if (obj.options.animation == true) {\r\n        // Border\r\n        var border = document.createElement('div');\r\n        border.className = 'jtabs-border';\r\n        el.appendChild(border);\r\n\r\n        var setBorder = function(index) {\r\n            var rect = headers.children[index].getBoundingClientRect();\r\n            var rectContent = content.children[index].getBoundingClientRect();\r\n            border.style.width = rect.width + 'px';\r\n            border.style.left = (rect.left - rectContent.left) + 'px';\r\n            border.style.top = rect.height + 'px';\r\n        }\r\n    }\r\n\r\n    // Set value\r\n    obj.open = function(index) {\r\n        for (var i = 0; i < headers.children.length; i++) {\r\n            headers.children[i].classList.remove('jtabs-selected');\r\n            if (content.children[i]) {\r\n                content.children[i].classList.remove('jtabs-selected');\r\n            }\r\n        }\r\n\r\n        headers.children[index].classList.add('jtabs-selected');\r\n        if (content.children[index]) {\r\n            content.children[index].classList.add('jtabs-selected');\r\n        }\r\n\r\n        // Hide\r\n        if (obj.options.hideHeaders == true && (headers.children.length < 2 && obj.options.allowCreate == false)) {\r\n            headers.style.display = 'none';\r\n        } else {\r\n            headers.style.display = '';\r\n            // Set border\r\n            if (obj.options.animation == true) {\r\n                setTimeout(function() {\r\n                    setBorder(index);\r\n                }, 100);\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.selectIndex = function(a) {\r\n        var index = Array.prototype.indexOf.call(headers.children, a);\r\n        if (index >= 0) {\r\n            obj.open(index);\r\n        }\r\n    }\r\n\r\n    obj.create = function(title, div) {\r\n        if (typeof(obj.options.create) == 'function') {\r\n            obj.options.create();\r\n        } else {\r\n            obj.appendElement(title, div);\r\n\r\n            if (typeof(obj.options.oncreate) == 'function') {\r\n                obj.options.oncreate(el, div)\r\n            }\r\n        }\r\n    }\r\n\r\n    obj.appendElement = function(title, div) {\r\n        if (! title) {\r\n            if (obj.options.autoName == true) {\r\n                var title = obj.options.prefixName;\r\n                title += ' ' + (parseInt(content.children.length) + 1);\r\n            } else {\r\n                var title = prompt('Title?', '');\r\n            }\r\n        }\r\n\r\n        if (title) {\r\n            // Add headers\r\n            var header = document.createElement('div');\r\n            header.innerHTML = title;\r\n            if (obj.options.allowCreate) {\r\n                headers.insertBefore(header, headers.lastChild);\r\n            } else {\r\n                headers.appendChild(header);\r\n            }\r\n\r\n            // Add content\r\n            if (! div) {\r\n                var div = document.createElement('div');\r\n            }\r\n            content.appendChild(div);\r\n\r\n            // Open new tab\r\n            obj.selectIndex(header);\r\n        }\r\n    }\r\n\r\n    // Create from data\r\n    if (obj.options.data) {\r\n        // Make sure the component is blank\r\n        el.innerHTML = '';\r\n        var headers = document.createElement('div');\r\n        var content = document.createElement('div');\r\n        headers.classList.add('jtabs-headers');\r\n        content.classList.add('jtabs-content');\r\n        el.appendChild(headers);\r\n        el.appendChild(content);\r\n\r\n        for (var i = 0; i < obj.options.data.length; i++) {\r\n            var headersItem = document.createElement('div');\r\n            headers.appendChild(headersItem);\r\n            var contentItem = document.createElement('div');\r\n            content.appendChild(contentItem);\r\n\r\n            headersItem.innerHTML = obj.options.data[i].title;\r\n            if (obj.options.data[i].content) {\r\n                contentItem.innerHTML = obj.options.data[i].content;\r\n            } else if (obj.options.data[i].url) {\r\n                jSuites.ajax({\r\n                    url: obj.options.data[i].url,\r\n                    type: 'GET',\r\n                    success: function(result) {\r\n                        contentItem.innerHTML = result;\r\n                    },\r\n                    complete: function() {\r\n                        if (typeof(obj.options.onload) == 'function') {\r\n                            obj.options.onload(el);\r\n\r\n                            obj.open(0);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    } else if (el.children[0] && el.children[1]) {\r\n        // Create from existing elements\r\n        var headers = el.children[0];\r\n        var content = el.children[1];\r\n        headers.classList.add('jtabs-headers');\r\n        content.classList.add('jtabs-content');\r\n    } else {\r\n        el.innerHTML = '';\r\n        var headers = document.createElement('div');\r\n        var content = document.createElement('div');\r\n        headers.classList.add('jtabs-headers');\r\n        content.classList.add('jtabs-content');\r\n        el.appendChild(headers);\r\n        el.appendChild(content);\r\n    }\r\n\r\n    // New\r\n    if (obj.options.allowCreate == true) {\r\n        var add = document.createElement('i');\r\n        add.className = 'jtabs-add';\r\n        headers.appendChild(add);\r\n    }\r\n\r\n    // Events\r\n    headers.addEventListener(\"click\", function(e) {\r\n        if (e.target.tagName == 'DIV') {\r\n            obj.selectIndex(e.target);\r\n        } else {\r\n            obj.create();\r\n        }\r\n    });\r\n\r\n    if (headers.children.length) {\r\n        obj.open(0);\r\n    }\r\n\r\n    el.tabs = obj;\r\n\r\n    return obj;\r\n});\r\n\r\njSuites.tags = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    /**\r\n     * @typedef {Object} defaults\r\n     * @property {(string|Array)} value - Initial value of the compontent\r\n     * @property {number} limit - Max number of tags inside the element\r\n     * @property {string} search - The URL for suggestions\r\n     * @property {string} placeholder - The default instruction text on the element\r\n     * @property {validation} validation - Method to validate the tags\r\n     * @property {requestCallback} onbeforechange - Method to be execute before any changes on the element\r\n     * @property {requestCallback} onchange - Method to be execute after any changes on the element\r\n     * @property {requestCallback} onfocus - Method to be execute when on focus\r\n     * @property {requestCallback} onblur - Method to be execute when on blur\r\n     * @property {requestCallback} onload - Method to be execute when the element is loaded\r\n     */\r\n    var defaults = {\r\n        value: null,\r\n        limit: null,\r\n        limitMessage: 'The limit of entries is: ',\r\n        search: null,\r\n        placeholder: null,\r\n        validation: null,\r\n        onbeforechange: null,\r\n        onchange: null,\r\n        onfocus: null,\r\n        onblur: null,\r\n        onload: null,\r\n        colors: null,\r\n    };\r\n\r\n    // Loop through though the default configuration\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    // Search helpers\r\n    var searchContainer = null;\r\n    var searchTerms = null;\r\n    var searchIndex = 0;\r\n    var searchTimer = 0;\r\n\r\n    /**\r\n     * Add a new tag to the element\r\n     * @param {(?string|Array)} value - The value of the new element\r\n     */\r\n    obj.add = function(value, focus) {\r\n        if (typeof(obj.options.onbeforechange) == 'function') {\r\n            var v = obj.options.onbeforechange(el, obj, value);\r\n            if (v != null) {\r\n                value = v;\r\n            }\r\n        }\r\n\r\n        // Close search\r\n        if (searchContainer) {\r\n            searchContainer.style.display = '';\r\n        }\r\n\r\n        if (obj.options.limit > 0 && el.children.length >= obj.options.limit) {\r\n            alert(obj.options.limitMessage + ' ' + obj.options.limit);\r\n        } else {\r\n            // Get node\r\n            var node = getSelectionStart();\r\n\r\n            // Mix argument string or array\r\n            if (! value || typeof(value) == 'string') {\r\n                var div = document.createElement('div');\r\n                div.innerHTML = value ? value : '<br>';\r\n                if (node && node.parentNode.classList.contains('jtags')) {\r\n                    el.insertBefore(div, node.nextSibling);\r\n                } else {\r\n                    el.appendChild(div);\r\n                }\r\n            } else {\r\n                if (node && node.parentNode.classList.contains('jtags')) {\r\n                    if (! node.innerText.replace(\"\\n\", \"\")) {\r\n                        el.removeChild(node);\r\n                    }\r\n                }\r\n\r\n                for (var i = 0; i <= value.length; i++) {\r\n                    if (! obj.options.limit || el.children.length < obj.options.limit) {\r\n                        var div = document.createElement('div');\r\n                        div.innerHTML = value[i] ? value[i] : '<br>';\r\n                        el.appendChild(div);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Place caret\r\n            if (focus) {\r\n                setTimeout(function() {\r\n                    caret(div);\r\n                }, 0);\r\n            }\r\n\r\n            // Filter\r\n            filter();\r\n\r\n            if (typeof(obj.options.onchange) == 'function') {\r\n                obj.options.onchange(el, obj, value ? value : '');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get all tags in the element\r\n     * @return {Array} data - All tags as an array\r\n     */\r\n    obj.getData = function() {\r\n        var data = [];\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            var value = obj.getValue(i);\r\n            if (value) {\r\n                var id = el.children[i].getAttribute('data-id');\r\n                if (! id) {\r\n                    id = value;\r\n                }\r\n                data.push({ id: id, value: value });\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Get the value of one tag. Null for all tags\r\n     * @param {?number} index - Tag index number. Null for all tags.\r\n     * @return {string} value - All tags separated by comma\r\n     */\r\n    obj.getValue = function(index) {\r\n        var value = null;\r\n\r\n        if (index != null) {\r\n            // Get one individual value\r\n            value = el.children[index].innerText.replace(\"\\n\", \"\");\r\n        } else {\r\n            // Get all\r\n            var data = [];\r\n            for (var i = 0; i < el.children.length; i++) {\r\n                value = el.children[i].innerText.replace(\"\\n\", \"\");\r\n                if (value) {\r\n                    data.push(obj.getValue(i));\r\n                }\r\n            }\r\n            value = data.join(',');\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Set the value of the element based on a string separeted by (,|;|\\r\\n)\r\n     * @param {string} value - A string with the tags\r\n     */\r\n    obj.setValue = function(text) {\r\n        // Remove whitespaces\r\n        text = text.trim();\r\n\r\n        if (text) {\r\n            // Tags\r\n            var data = extractTags(text);\r\n            // Add tags to the element\r\n            obj.add(data);\r\n        }\r\n    }\r\n\r\n    obj.reset = function() {\r\n        el.innerHTML = '<div><br></div>';\r\n    }\r\n\r\n    /**\r\n     * Verify if all tags in the element are valid\r\n     * @return {boolean}\r\n     */\r\n    obj.isValid = function() {\r\n        var test = 0;\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            if (el.children[i].classList.contains('jtags_error')) {\r\n                test++;\r\n            }\r\n        }\r\n        return test == 0 ? true : false;\r\n    }\r\n\r\n    /**\r\n     * Add one element from the suggestions to the element\r\n     * @param {object} item - Node element in the suggestions container\r\n     */ \r\n    obj.selectIndex = function(item) {\r\n        // Reset terms\r\n        searchTerms = '';\r\n        var node = getSelectionStart();\r\n        // Append text to the caret\r\n        node.innerText = item.children[1].innerText;\r\n        // Set node id\r\n        if (item.children[1].getAttribute('data-id')) {\r\n            node.setAttribute('data-id', item.children[1].getAttribute('data-id'));\r\n        }\r\n        // Close container\r\n        if (searchContainer) {\r\n            searchContainer.style.display = '';\r\n            searchContainer.innerHTML = '';\r\n        }\r\n        // Remove any error\r\n        node.classList.remove('jtags_error');\r\n        // Add new item\r\n        obj.add();\r\n    }\r\n\r\n    /**\r\n     * Search for suggestions\r\n     * @param {object} node - Target node for any suggestions\r\n     */\r\n    obj.search = function(node) {\r\n        // Create and append search container to the DOM\r\n        if (! searchContainer) {\r\n            var div = document.createElement('div');\r\n            div.style.position = 'relative';\r\n            el.parentNode.insertBefore(div, el.nextSibling);\r\n\r\n            // Create container\r\n            searchContainer = document.createElement('div');\r\n            searchContainer.classList.add('jtags_search');\r\n            div.appendChild(searchContainer);\r\n        }\r\n\r\n        // Search for\r\n        var terms = node.anchorNode.nodeValue;\r\n\r\n        // Search\r\n        if (node.anchorNode.nodeValue && terms != searchTerms) {\r\n            // Terms\r\n            searchTerms = node.anchorNode.nodeValue;\r\n            // Reset index\r\n            searchIndex = 0;\r\n            // Get remove results\r\n            jSuites.ajax({\r\n                url: obj.options.search + searchTerms,\r\n                method: 'GET',\r\n                dataType: 'json',\r\n                success: function(data) {\r\n                    // Reset container\r\n                    searchContainer.innerHTML = '';\r\n\r\n                    // Print results\r\n                    if (! data.length) {\r\n                        // Show container\r\n                        searchContainer.style.display = '';\r\n                    } else {\r\n                        // Show container\r\n                        searchContainer.style.display = 'block';\r\n\r\n                        // Show items\r\n                        var len = data.length < 11 ? data.length : 10;\r\n                        for (var i = 0; i < len; i++) {\r\n                            var div = document.createElement('div');\r\n                            if (i == 0) {\r\n                                div.classList.add('selected');\r\n                            }\r\n                            var img = document.createElement('img');\r\n                            if (data[i].image) {\r\n                                img.src = data[i].image;\r\n                            } else {\r\n                                img.style.display = 'none';\r\n                            }\r\n                            div.appendChild(img);\r\n\r\n                            var item = document.createElement('div');\r\n                            item.setAttribute('data-id', data[i].id);\r\n                            item.innerHTML = data[i].name;\r\n                            div.onclick = function() {\r\n                                // Add item\r\n                                obj.selectIndex(this);\r\n                            }\r\n                            div.appendChild(item);\r\n                            // Append item to the container\r\n                            searchContainer.appendChild(div);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    // Destroy tags element\r\n    obj.destroy = function() {\r\n        // Bind events\r\n        el.removeEventListener('mouseup', tagsMouseUp);\r\n        el.removeEventListener('keydown', tagsKeyDown);\r\n        el.removeEventListener('keyup', tagsKeyUp);\r\n        el.removeEventListener('paste', tagsPaste);\r\n        el.removeEventListener('focus', tagsFocus);\r\n        el.removeEventListener('blur', tagsBlur);\r\n        // Remove element\r\n        el.parentNode.removeChild(el);\r\n    }\r\n\r\n    var getRandomColor = function(index) {\r\n        var rand = function(min, max) {\r\n            return min + Math.random() * (max - min);\r\n        }\r\n        return 'hsl(' + rand(1, 360) + ',' + rand(40, 70) + '%,' + rand(65, 72) + '%)';\r\n    }\r\n\r\n    /**\r\n     * Filter tags\r\n     */\r\n    var filter = function() {\r\n        for (var i = 0; i < el.children.length; i++) {\r\n            // Create label design\r\n            if (! obj.getValue(i)) {\r\n                el.children[i].classList.remove('jtags_label');\r\n            } else {\r\n                el.children[i].classList.add('jtags_label');\r\n\r\n                // Validation in place\r\n                if (typeof(obj.options.validation) == 'function') {\r\n                    if (obj.getValue(i)) {\r\n                        if (! obj.options.validation(el.children[i], el.children[i].innerText, el.children[i].getAttribute('data-id'))) {\r\n                            el.children[i].classList.add('jtags_error');\r\n                        } else {\r\n                            el.children[i].classList.remove('jtags_error');\r\n                        }\r\n                    } else {\r\n                        el.children[i].classList.remove('jtags_error');\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Place caret in the element node\r\n     */\r\n    var caret = function(e) {\r\n        var range = document.createRange();\r\n        var sel = window.getSelection();\r\n        range.setStart(e, e.innerText.length);\r\n        range.collapse(true);\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n\r\n    /**\r\n     * Selection\r\n     */\r\n    var getSelectionStart = function() {\r\n        var node = document.getSelection().anchorNode;\r\n        if (node) {\r\n            return (node.nodeType == 3 ? node.parentNode : node);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Extract tags from a string\r\n     * @param {string} text - Raw string\r\n     * @return {Array} data - Array with extracted tags\r\n     */\r\n    var extractTags = function(text) {\r\n        /** @type {Array} */\r\n        var data = [];\r\n\r\n        /** @type {string} */\r\n        var word = '';\r\n\r\n        // Remove whitespaces\r\n        text = text.trim();\r\n\r\n        if (text) {\r\n            for (var i = 0; i < text.length; i++) {\r\n                if (text[i] == ',' || text[i] == ';' || text[i] == '\\r\\n') {\r\n                    if (word) {\r\n                        data.push(word);\r\n                        word = '';\r\n                    }\r\n                } else {\r\n                    word += text[i];\r\n                }\r\n            }\r\n\r\n            if (word) {\r\n                data.push(word);\r\n            }\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    /** @type {number} */\r\n    var anchorOffset = 0;\r\n\r\n    /**\r\n     * Processing event keydown on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsKeyDown = function(e) {\r\n        // Anchoroffset\r\n        anchorOffset = window.getSelection().anchorOffset;\r\n\r\n        // Verify content\r\n        if (! el.children.length) {\r\n            var div = document.createElement('div');\r\n            div.innerHTML = '<br>';\r\n            el.appendChild(div);\r\n        }\r\n        // Comma\r\n        if (e.which == 9 || e.which == 186 || e.which == 188) {\r\n            var n = window.getSelection().anchorOffset;\r\n            if (n > 1) {\r\n                if (! obj.options.limit || el.children.length < obj.options.limit) {\r\n                    obj.add('', true);\r\n                }\r\n            }\r\n            e.preventDefault();\r\n        } else if (e.which == 13) {\r\n            // Enter\r\n            if (searchContainer && searchContainer.style.display != '') {\r\n                obj.selectIndex(searchContainer.children[searchIndex]);\r\n            } else {\r\n                var n = window.getSelection().anchorOffset;\r\n                if (n > 1) {\r\n                    if (! obj.options.limit || el.children.length < obj.options.limit) {\r\n                        obj.add('', true);\r\n                    }\r\n                }\r\n            }\r\n            e.preventDefault();\r\n        } else if (e.which == 38) {\r\n            // Up\r\n            if (searchContainer && searchContainer.style.display != '') {\r\n                searchContainer.children[searchIndex].classList.remove('selected');\r\n                if (searchIndex > 0) {\r\n                    searchIndex--;\r\n                }\r\n                searchContainer.children[searchIndex].classList.add('selected');\r\n                e.preventDefault();\r\n            }\r\n        } else if (e.which == 40) {\r\n            // Down\r\n            if (searchContainer && searchContainer.style.display != '') {\r\n                searchContainer.children[searchIndex].classList.remove('selected');\r\n                if (searchIndex < 9) {\r\n                    searchIndex++;\r\n                }\r\n                searchContainer.children[searchIndex].classList.add('selected');\r\n                e.preventDefault();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Processing event keyup on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsKeyUp = function(e) {\r\n        if (e.which == 39) {\r\n            var n = window.getSelection().anchorOffset;\r\n            if (n > 1 && n == anchorOffset) {\r\n                obj.add();\r\n            }\r\n        } else if (e.which == 13 || e.which == 38 || e.which == 40) {\r\n            e.preventDefault();\r\n        } else {\r\n            if (searchTimer) {\r\n                clearTimeout(searchTimer);\r\n            }\r\n\r\n            searchTimer = setTimeout(function() {\r\n                // Current node\r\n                var node = window.getSelection();\r\n                // Search\r\n                if (obj.options.search) {\r\n                    obj.search(node);\r\n                }\r\n                searchTimer = null;\r\n            }, 300);\r\n        }\r\n\r\n        filter();\r\n    }\r\n\r\n    /**\r\n     * Processing event paste on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsPaste =  function(e) {\r\n        if (e.clipboardData || e.originalEvent.clipboardData) {\r\n            var html = (e.originalEvent || e).clipboardData.getData('text/html');\r\n            var text = (e.originalEvent || e).clipboardData.getData('text/plain');\r\n        } else if (window.clipboardData) {\r\n            var html = window.clipboardData.getData('Html');\r\n            var text = window.clipboardData.getData('Text');\r\n        }\r\n\r\n        obj.setValue(text);\r\n        e.preventDefault();\r\n    }\r\n\r\n    /**\r\n     * Processing event mouseup on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsMouseUp = function(e) {\r\n        if (e.target.parentNode && e.target.parentNode.classList.contains('jtags')) {\r\n            if (e.target.classList.contains('jtags_label') || e.target.classList.contains('jtags_error')) {\r\n                const rect = e.target.getBoundingClientRect();\r\n                if (rect.width - (e.clientX - rect.left) < 16) {\r\n                    el.removeChild(e.target);\r\n                    el.focus();\r\n                }\r\n            }\r\n        }\r\n\r\n        if (searchContainer) {\r\n            searchContainer.style.display = '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Processing event focus on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsFocus = function(e) {\r\n        if (! el.children.length || obj.getValue(el.children.length - 1)) {\r\n            if (! obj.options.limit || el.children.length < obj.options.limit) {\r\n                var div = document.createElement('div');\r\n                div.innerHTML = '<br>';\r\n                el.appendChild(div);\r\n            }\r\n        }\r\n\r\n        if (typeof(obj.options.onfocus) == 'function') {\r\n            obj.options.onfocus(el, obj, obj.getValue());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Processing event blur on the element\r\n     * @param e {object}\r\n     */\r\n    var tagsBlur = function(e) {\r\n        if (searchContainer) {\r\n            setTimeout(function() {\r\n                searchContainer.style.display = '';\r\n            }, 200);\r\n        }\r\n\r\n        for (var i = 0; i < el.children.length - 1; i++) {\r\n            // Create label design\r\n            if (! obj.getValue(i)) {\r\n                el.removeChild(el.children[i]);\r\n            }\r\n        }\r\n\r\n        if (typeof(obj.options.onblur) == 'function') {\r\n            obj.options.onblur(el, obj, obj.getValue());\r\n        }\r\n    }\r\n\r\n    // Bind events\r\n    el.addEventListener('mouseup', tagsMouseUp);\r\n    el.addEventListener('keydown', tagsKeyDown);\r\n    el.addEventListener('keyup', tagsKeyUp);\r\n    el.addEventListener('paste', tagsPaste);\r\n    el.addEventListener('focus', tagsFocus);\r\n    el.addEventListener('blur', tagsBlur);\r\n\r\n    // Prepare container\r\n    el.classList.add('jtags');\r\n    el.setAttribute('contenteditable', true);\r\n    el.setAttribute('spellcheck', false);\r\n\r\n    if (obj.options.placeholder) {\r\n        el.placeholder = obj.options.placeholder;\r\n    }\r\n\r\n    // Make sure element is empty\r\n    if (obj.options.value) {\r\n        obj.setValue(obj.options.value);\r\n    } else {\r\n        el.innerHTML = '<div><br></div>';\r\n    }\r\n\r\n    if (typeof(obj.options.onload) == 'function') {\r\n        obj.options.onload(el, obj);\r\n    }\r\n\r\n    el.tags = obj;\r\n\r\n    return obj;\r\n});\r\n\r\njSuites.tracker = (function(el, options) {\r\n    var obj = {};\r\n    obj.options = {};\r\n\r\n    // Default configuration\r\n    var defaults = {\r\n        url: null,\r\n        message: 'Are you sure? There are unsaved information in your form',\r\n        ignore: false,\r\n        currentHash: null,\r\n        submitButton:null,\r\n        onload: null,\r\n        onbeforesave: null,\r\n        onsave: null,\r\n    };\r\n\r\n    // Loop through our object\r\n    for (var property in defaults) {\r\n        if (options && options.hasOwnProperty(property)) {\r\n            obj.options[property] = options[property];\r\n        } else {\r\n            obj.options[property] = defaults[property];\r\n        }\r\n    }\r\n\r\n    obj.setUrl = function(url) {\r\n        obj.options.url = url;\r\n    }\r\n\r\n    obj.load = function() {\r\n        jSuites.ajax({\r\n            url: obj.options.url,\r\n            method: 'GET',\r\n            dataType: 'json',\r\n            success: function(data) {\r\n                var elements = el.querySelectorAll(\"input, select, textarea\");\r\n \r\n                for (var i = 0; i < elements.length; i++) {\r\n                    var name = elements[i].getAttribute('name');\r\n                    if (data[name]) {\r\n                        elements[i].value = data[name];\r\n                    }\r\n                }\r\n\r\n                if (typeof(obj.options.onload) == 'function') {\r\n                    obj.options.onload(el, data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    obj.save = function() {\r\n        var test = obj.validate();\r\n\r\n        if (test) {\r\n            jSuites.alert(test);\r\n        } else {\r\n            var data = obj.getElements(true);\r\n\r\n            if (typeof(obj.options.onbeforesave) == 'function') {\r\n                var data = obj.options.onbeforesave(el, data);\r\n\r\n                if (data === false) {\r\n                    console.log('Onbeforesave returned false');\r\n                    return; \r\n                }\r\n            }\r\n\r\n            jSuites.ajax({\r\n                url: obj.options.url,\r\n                method: 'POST',\r\n                dataType: 'json',\r\n                data: data,\r\n                success: function(result) {\r\n                    jSuites.alert(result.message);\r\n\r\n                    if (typeof(obj.options.onsave) == 'function') {\r\n                        var data = obj.options.onsave(el, result);\r\n                    }\r\n\r\n                    obj.reset();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    obj.validateElement = function(element) {\r\n        var emailChecker = function(data) {\r\n            var pattern = new RegExp(/^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/);\r\n            return pattern.test(data) ? true : false; \r\n        }\r\n\r\n        var passwordChecker = function(data) {\r\n            return (data.length > 5) ? true : false;\r\n        }\r\n\r\n        var addError = function(element) {\r\n            // Add error in the element\r\n            element.classList.add('error');\r\n            // Submit button\r\n            if (obj.options.submitButton) {\r\n                obj.options.submitButton.setAttribute('disabled', true);\r\n            }\r\n            // Return error message\r\n            return element.getAttribute('data-error') || 'There is an error in the form';\r\n        }\r\n\r\n        var delError = function(element) {\r\n            var error = false;\r\n            // Remove class from this element\r\n            element.classList.remove('error');\r\n            // Get elements in the form\r\n            var elements = el.querySelectorAll(\"input, select, textarea\");\r\n            // Run all elements \r\n            for (var i = 0; i < elements.length; i++) {\r\n                if (elements[i].getAttribute('data-validation')) {\r\n                    if (elements[i].classList.contains('error')) {\r\n                        error = true;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (obj.options.submitButton) {\r\n                if (error) {\r\n                    obj.options.submitButton.setAttribute('disabled', true);\r\n                } else {\r\n                    obj.options.submitButton.removeAttribute('disabled');\r\n                }\r\n            }\r\n        }\r\n\r\n        // Blank\r\n        var test = '';\r\n        if (! element.value) {\r\n            test = addError(element);\r\n        } else if (element.getAttribute('data-email') && ! emailChecker(element.value)) {\r\n            test = addError(element);\r\n        } else if (element.getAttribute('data-password') && ! emailChecker(element.value)) {\r\n            test = addError(element);\r\n        } else {\r\n            if (element.classList.contains('error')) {\r\n                delError(element);\r\n            }\r\n        }\r\n\r\n        return test;\r\n    }\r\n\r\n    // Run form validation\r\n    obj.validate = function() {\r\n        var test = '';\r\n        // Get elements in the form\r\n        var elements = el.querySelectorAll(\"input, select, textarea\");\r\n        // Run all elements \r\n        for (var i = 0; i < elements.length; i++) {\r\n            if (elements[i].getAttribute('data-validation')) {\r\n                if (test) {\r\n                    test += \"<br>\\r\\n\";\r\n                }\r\n                test += obj.validateElement(elements[i]);\r\n            }\r\n        }\r\n        return test;\r\n    }\r\n\r\n    // Check the form\r\n    obj.getError = function() {\r\n        // Validation\r\n        return obj.validation() ? true : false;\r\n    }\r\n\r\n    // Return the form hash\r\n    obj.setHash = function() {\r\n        return obj.getHash(obj.getElements());\r\n    }\r\n\r\n    // Get the form hash\r\n    obj.getHash = function(str) {\r\n        var hash = 0, i, chr;\r\n\r\n        if (str.length === 0) {\r\n            return hash;\r\n        } else {\r\n            for (i = 0; i < str.length; i++) {\r\n              chr = str.charCodeAt(i);\r\n              hash = ((hash << 5) - hash) + chr;\r\n              hash |= 0;\r\n            }\r\n        }\r\n\r\n        return hash;\r\n    }\r\n\r\n    // Is there any change in the form since start tracking?\r\n    obj.isChanged = function() {\r\n        var hash = obj.setHash();\r\n        return (obj.options.currentHash != hash);\r\n    }\r\n\r\n    // Restart tracking\r\n    obj.resetTracker = function() {\r\n        obj.options.currentHash = obj.setHash();\r\n        obj.options.ignore = false;\r\n    }\r\n\r\n    obj.reset = function() {\r\n        obj.options.currentHash = obj.setHash();\r\n        obj.options.ignore = false;\r\n    }\r\n\r\n    // Ignore flag\r\n    obj.setIgnore = function(ignoreFlag) {\r\n        obj.options.ignore = ignoreFlag ? true : false;\r\n    }\r\n\r\n    // Get form elements\r\n    obj.getElements = function(asArray) {\r\n        var data = {};\r\n        var elements = el.querySelectorAll(\"input, select, textarea\");\r\n\r\n        for (var i = 0; i < elements.length; i++) {\r\n            var element = elements[i];\r\n            var name = element.name;\r\n            var value = element.value;\r\n\r\n            if (name) {\r\n                data[name] = value;\r\n            }\r\n        }\r\n\r\n        return asArray == true ? data : JSON.stringify(data);\r\n    }\r\n\r\n    // Start tracking in one second\r\n    setTimeout(function() {\r\n        obj.options.currentHash = obj.setHash();\r\n    }, 1000);\r\n\r\n    // Alert\r\n    window.addEventListener(\"beforeunload\", function (e) {\r\n        if (obj.isChanged() && obj.options.ignore == false) {\r\n            var confirmationMessage =  obj.options.message? obj.options.message : \"\\o/\";\r\n\r\n            if (confirmationMessage) {\r\n                if (typeof e == 'undefined') {\r\n                    e = window.event;\r\n                }\r\n\r\n                if (e) {\r\n                    e.returnValue = confirmationMessage;\r\n                }\r\n\r\n                return confirmationMessage;\r\n            } else {\r\n                return void(0);\r\n            }\r\n        }\r\n    });\r\n\r\n    // Validations\r\n    el.addEventListener(\"keyup\", function(e) {\r\n        if (e.target.getAttribute('data-validation')) {\r\n            obj.validateElement(e.target);\r\n        }\r\n    });\r\n\r\n    el.tracker = obj;\r\n\r\n    return obj;\r\n});\r\n\r\n\r\n\r\n    return jSuites;\r\n\r\n})));","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basedatos\"},[_c('v-card',{staticClass:\"mx-auto my-1\",attrs:{\"loading\":_vm.loading}},[_c('template',{slot:\"progress\"},[_c('v-progress-linear',{attrs:{\"color\":\"deep-purple\",\"height\":\"10\",\"indeterminate\":\"\"}})],1),_c('v-img',{attrs:{\"height\":\"250\",\"src\":\"https://c1.thejournal.ie/media/2020/04/2-6947938-390x285.jpg\"}}),_c('v-card-title',[_vm._v(\"Seleccione el archivo excel y crguelo.\")]),_c('v-card-text',[_c('v-row',{staticClass:\"mx-0\",attrs:{\"align\":\"center\"}},[_c('v-file-input',{staticClass:\"v-btn v-size--default white\",staticStyle:{\"font-weight\":\"bolder\",\"font-size\":\"larger\",\"cursor\":\"pointer!important\",\"margin-top\":\"40px\"},attrs:{\"rules\":_vm.fileRules,\"show-size\":\"\",\"counter\":\"\",\"accept\":\".csv\",\"placeholder\":\"Elegir archivo ...\"},on:{\"change\":_vm.submitFile},model:{value:(_vm.fileExcel),callback:function ($$v) {_vm.fileExcel=$$v},expression:\"fileExcel\"}})],1),_c('div',{staticStyle:{\"margin-top\":\"60px\"}},[_vm._v(\"La base de datos permitira realizar el calculo automatico de nmero de piezas y promedios.\")])],1),_c('v-divider',{staticClass:\"mx-4\"}),_c('v-card-title',[_vm._v(\"Datos del archivo cargado\")]),_c('v-card-text',[_c('v-chip-group',{attrs:{\"active-class\":\"primary white--text\",\"column\":\"\"},model:{value:(_vm.selection),callback:function ($$v) {_vm.selection=$$v},expression:\"selection\"}},[_c('v-chip',[_vm._v(_vm._s(_vm.$store.state.archivo))]),_c('v-chip',[_vm._v(_vm._s(_vm.$store.state.archivoSize))]),_c('v-chip',[_vm._v(_vm._s(_vm.$store.state.archivoTipo))]),_c('v-chip',[_vm._v(_vm._s(_vm.$store.state.archivoUltimaFecha))]),_c('v-chip',[_vm._v(\"Registros: \"+_vm._s(_vm.$store.state.archivoRegistros))])],1)],1)],2),_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"color\":\"#FBFBFB\",\"dark\":\"\",\"max-width\":\"490\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card-text',{staticClass:\"headline font-weight-bold\",staticStyle:{\"text-align\":\"center\",\"color\":\"black\"}},[_vm._v(\"\\n              Cargando registros ...\\n            \")])],1),_c('v-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"cols\":\"12\"}},[_c('v-progress-circular',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.colorSnack},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.msgSanck)+\"\\n          \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n              Cerrar\\n          \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"basedatos\">\n   \n   <v-card :loading=\"loading\" class=\"mx-auto my-1\" >\n    <template slot=\"progress\">\n      <v-progress-linear color=\"deep-purple\" height=\"10\" indeterminate></v-progress-linear>\n    </template>\n\n    <v-img height=\"250\" src=\"https://c1.thejournal.ie/media/2020/04/2-6947938-390x285.jpg\"></v-img>\n\n    <v-card-title>Seleccione el archivo excel y crguelo.</v-card-title>\n\n    <v-card-text>\n      <v-row align=\"center\" class=\"mx-0\">\n        <v-file-input class=\"v-btn v-size--default white\" \n                        :rules=\"fileRules\"\n\n                        show-size\n                        counter\n                        accept=\".csv\"\n                        placeholder=\"Elegir archivo ...\"\n                        v-model=\"fileExcel\" \n                        @change=\"submitFile\"\n                        style=\"font-weight: bolder;font-size: larger;cursor:pointer!important;margin-top:40px;\">\n          </v-file-input> \n          <!--.ods,.csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel -->\n           <!--<v-btn color=\"primary\"  @click=\"submitFile\" style=\"margin-left:0px;margin-top:40px;font-size:12px\">\n                      <v-icon right dark  style=\"font-size: 28px;margin-right:10px\">mdi-arrow-right-bold-circle</v-icon>\n                      Cargar archivo</v-btn>-->\n      </v-row>\n\n\n      \n      <div style=\"margin-top:60px\">La base de datos permitira realizar el calculo automatico de nmero de piezas y promedios.</div>\n    </v-card-text>\n\n    <v-divider class=\"mx-4\"></v-divider>\n\n    <v-card-title>Datos del archivo cargado</v-card-title>\n    <v-card-text>\n      <v-chip-group v-model=\"selection\" active-class=\"primary white--text\" column>\n        <v-chip>{{$store.state.archivo}}</v-chip>\n        <v-chip>{{$store.state.archivoSize}}</v-chip>\n        <v-chip>{{$store.state.archivoTipo}}</v-chip>\n        <v-chip>{{$store.state.archivoUltimaFecha}}</v-chip>\n        <v-chip>Registros: {{$store.state.archivoRegistros}}</v-chip>\n      </v-chip-group>\n    </v-card-text>\n  </v-card>\n\n   <v-overlay :value=\"overlay\">\n        <v-card class=\"mx-auto\" color=\"#FBFBFB\" dark max-width=\"490\">\n          <v-row>\n             <v-col cols=\"12\">\n              <v-card-text class=\"headline font-weight-bold\" style=\"text-align: center;color:black\">\n                Cargando registros ...\n              </v-card-text>\n            </v-col>\n             <v-col cols=\"12\" style=\"text-align: center;\">\n              <v-progress-circular color=\"primary\" indeterminate size=\"64\"></v-progress-circular>\n            </v-col>\n          </v-row>  \n        </v-card>\n      </v-overlay>\n\n\n\n      <v-snackbar v-model=\"snackbar\" :color=\"colorSnack\">\n            {{ msgSanck }}\n            <v-btn  text @click=\"snackbar = false\">\n                Cerrar\n            </v-btn>\n      </v-snackbar>\n\n  </div>\n</template>\n<script>export default {\n    name: 'basedatos',\n  components:{\n      \n    },\n    data(){\n        return{\n         overlay: false,\n          loading: false,\n          selection: 4,\n          fixedHeader:true,\n            dense:true,\n            hayErroresFile:'',\n            snackbar:false,\n            colorSnack:'',\n            msgSanck:'',\n            fileRules: [\n                value => !value || value.size < 20000000 || 'Archivo < 20 MB!', \n             ],\n             fileExcel: [],\n             errorFileBase64:''\n        }\n    },\n    methods:{ \n      submitFile() {\n            this.overlay=true;\n\n            this.archivo='Nombre';\n            this.archivoSize='Tamao';\n            this.archivoTipo='Tipo';\n            this.archivoUltimaFecha='ltima fecha modificacin';\n            this.$store.state.dbCargada=\"\";\n\n            this.errorFileBase64='';\n            this.hayErroresFile=false;\n\n           \n           if (this.fileExcel==undefined || this.fileExcel=='') {\n               console.log(\"No File Chosen\");\n               this.snackbar = true;\n                this.msgSanck=\"No ha elegido un archivo\";\n                this.colorSnack='red';\n                this.overlay=false;\n               return;\n               }\n\n            var arrNombre = this.fileExcel.name.split('.');\n            var ext = arrNombre[arrNombre.length-1];\n            console.log(ext); \n\n            this.$store.state.archivo=this.fileExcel.name;\n            this.$store.state.archivoSize=this.fileExcel.size/100;\n            this.$store.state.archivoTipo=this.fileExcel.type;\n            this.$store.state.archivoUltimaFecha=this.fileExcel.lastModifiedDate;\n   \n            //console.log(this.fileExcel);\n            var reader = new FileReader();\n            \n            reader.readAsBinaryString(this.fileExcel);\n            reader.onload = () => {\n                this.excel64=reader.result;\n                 //Read the Excel File data.\n              var workbook = XLSX.read(this.excel64, {\n                  type: 'binary'\n              });\n      \n              //Fetch the name of First Sheet.\n              var firstSheet = workbook.SheetNames[0];\n      \n              //Read all rows from First Sheet into an JSON array.\n              this.$store.state.database = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[firstSheet]);\n              this.$store.state.archivoRegistros = this.$store.state.database.length;\n              this.$store.state.database.forEach(myFunction)\n\n              function myFunction(arrItem, index, arr) {\n                arrItem.ID = index;\n                arr[index] = arrItem ;\n              }\n\n              this.$store.state.dbCargada=\"green\";\n              \n                console.log(this.$store.state.database);\n                this.colorSnack='green';    \n                this.snackbar = true;\n                this.msgSanck=\"Base de datos cargada\";\n                this.overlay=false;\n            }\n\n\n         //\n      },\n    }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDatos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BaseDatos.vue?vue&type=script&lang=js&\"","// Styles\nimport './VSlideGroup.sass'\n\n// Components\nimport VIcon from '../VIcon'\nimport { VFadeTransition } from '../transitions'\n\n// Extensions\nimport { BaseItemGroup } from '../VItemGroup/VItemGroup'\n\n// Mixins\nimport Mobile from '../../mixins/mobile'\n\n// Directives\nimport Resize from '../../directives/resize'\nimport Touch from '../../directives/touch'\n\n// Utilities\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport Vue, { VNode } from 'vue'\n\ninterface TouchEvent {\n  touchstartX: number\n  touchmoveX: number\n  stopPropagation: Function\n}\n\ninterface Widths {\n  content: number\n  wrapper: number\n}\n\ninterface options extends Vue {\n  $refs: {\n    content: HTMLElement\n    wrapper: HTMLElement\n  }\n}\n\nexport const BaseSlideGroup = mixins<options &\n/* eslint-disable indent */\n  ExtractVue<[\n    typeof BaseItemGroup,\n    typeof Mobile,\n  ]>\n/* eslint-enable indent */\n>(\n  BaseItemGroup,\n  Mobile,\n  /* @vue/component */\n).extend({\n  name: 'base-slide-group',\n\n  directives: {\n    Resize,\n    Touch,\n  },\n\n  props: {\n    activeClass: {\n      type: String,\n      default: 'v-slide-item--active',\n    },\n    centerActive: Boolean,\n    nextIcon: {\n      type: String,\n      default: '$next',\n    },\n    prevIcon: {\n      type: String,\n      default: '$prev',\n    },\n    showArrows: {\n      type: [Boolean, String],\n      validator: v => (\n        typeof v === 'boolean' || [\n          'always',\n          'desktop',\n          'mobile',\n        ].includes(v)\n      ),\n    },\n  },\n\n  data: () => ({\n    internalItemsLength: 0,\n    isOverflowing: false,\n    resizeTimeout: 0,\n    startX: 0,\n    scrollOffset: 0,\n    widths: {\n      content: 0,\n      wrapper: 0,\n    },\n  }),\n\n  computed: {\n    __cachedNext (): VNode {\n      return this.genTransition('next')\n    },\n    __cachedPrev (): VNode {\n      return this.genTransition('prev')\n    },\n    classes (): object {\n      return {\n        ...BaseItemGroup.options.computed.classes.call(this),\n        'v-slide-group': true,\n        'v-slide-group--has-affixes': this.hasAffixes,\n        'v-slide-group--is-overflowing': this.isOverflowing,\n      }\n    },\n    hasAffixes (): Boolean {\n      switch (this.showArrows) {\n        // Always show arrows on desktop & mobile\n        case 'always': return true\n\n        // Always show arrows on desktop\n        case 'desktop': return !this.isMobile\n\n        // Show arrows on mobile when overflowing.\n        // This matches the default 2.2 behavior\n        case true: return this.isOverflowing\n\n        // Always show on mobile\n        case 'mobile': return (\n          this.isMobile ||\n          this.isOverflowing\n        )\n\n        // https://material.io/components/tabs#scrollable-tabs\n        // Always show arrows when\n        // overflowed on desktop\n        default: return (\n          !this.isMobile &&\n          this.isOverflowing\n        )\n      }\n    },\n    hasNext (): boolean {\n      if (!this.hasAffixes) return false\n\n      const { content, wrapper } = this.widths\n\n      // Check one scroll ahead to know the width of right-most item\n      return content > Math.abs(this.scrollOffset) + wrapper\n    },\n    hasPrev (): boolean {\n      return this.hasAffixes && this.scrollOffset !== 0\n    },\n  },\n\n  watch: {\n    internalValue: 'setWidths',\n    // When overflow changes, the arrows alter\n    // the widths of the content and wrapper\n    // and need to be recalculated\n    isOverflowing: 'setWidths',\n    scrollOffset (val) {\n      this.$refs.content.style.transform = `translateX(${-val}px)`\n    },\n  },\n\n  beforeUpdate () {\n    this.internalItemsLength = (this.$children || []).length\n  },\n\n  updated () {\n    if (this.internalItemsLength === (this.$children || []).length) return\n    this.setWidths()\n  },\n\n  methods: {\n    // Always generate next for scrollable hint\n    genNext (): VNode | null {\n      const slot = this.$scopedSlots.next\n        ? this.$scopedSlots.next({})\n        : this.$slots.next || this.__cachedNext\n\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__next',\n        class: {\n          'v-slide-group__next--disabled': !this.hasNext,\n        },\n        on: {\n          click: () => this.onAffixClick('next'),\n        },\n        key: 'next',\n      }, [slot])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__content',\n        ref: 'content',\n      }, this.$slots.default)\n    },\n    genData (): object {\n      return {\n        class: this.classes,\n        directives: [{\n          name: 'resize',\n          value: this.onResize,\n        }],\n      }\n    },\n    genIcon (location: 'prev' | 'next'): VNode | null {\n      let icon = location\n\n      if (this.$vuetify.rtl && location === 'prev') {\n        icon = 'next'\n      } else if (this.$vuetify.rtl && location === 'next') {\n        icon = 'prev'\n      }\n\n      const upperLocation = `${location[0].toUpperCase()}${location.slice(1)}`\n      const hasAffix = (this as any)[`has${upperLocation}`]\n\n      if (\n        !this.showArrows &&\n        !hasAffix\n      ) return null\n\n      return this.$createElement(VIcon, {\n        props: {\n          disabled: !hasAffix,\n        },\n      }, (this as any)[`${icon}Icon`])\n    },\n    // Always generate prev for scrollable hint\n    genPrev (): VNode | null {\n      const slot = this.$scopedSlots.prev\n        ? this.$scopedSlots.prev({})\n        : this.$slots.prev || this.__cachedPrev\n\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__prev',\n        class: {\n          'v-slide-group__prev--disabled': !this.hasPrev,\n        },\n        on: {\n          click: () => this.onAffixClick('prev'),\n        },\n        key: 'prev',\n      }, [slot])\n    },\n    genTransition (location: 'prev' | 'next') {\n      return this.$createElement(VFadeTransition, [this.genIcon(location)])\n    },\n    genWrapper (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-slide-group__wrapper',\n        directives: [{\n          name: 'touch',\n          value: {\n            start: (e: TouchEvent) => this.overflowCheck(e, this.onTouchStart),\n            move: (e: TouchEvent) => this.overflowCheck(e, this.onTouchMove),\n            end: (e: TouchEvent) => this.overflowCheck(e, this.onTouchEnd),\n          },\n        }],\n        ref: 'wrapper',\n      }, [this.genContent()])\n    },\n    calculateNewOffset (direction: 'prev' | 'next', widths: Widths, rtl: boolean, currentScrollOffset: number) {\n      const sign = rtl ? -1 : 1\n      const newAbosluteOffset = sign * currentScrollOffset +\n        (direction === 'prev' ? -1 : 1) * widths.wrapper\n\n      return sign * Math.max(Math.min(newAbosluteOffset, widths.content - widths.wrapper), 0)\n    },\n    onAffixClick (location: 'prev' | 'next') {\n      this.$emit(`click:${location}`)\n      this.scrollTo(location)\n    },\n    onResize () {\n      /* istanbul ignore next */\n      if (this._isDestroyed) return\n\n      this.setWidths()\n    },\n    onTouchStart (e: TouchEvent) {\n      const { content } = this.$refs\n\n      this.startX = this.scrollOffset + e.touchstartX as number\n\n      content.style.setProperty('transition', 'none')\n      content.style.setProperty('willChange', 'transform')\n    },\n    onTouchMove (e: TouchEvent) {\n      this.scrollOffset = this.startX - e.touchmoveX\n    },\n    onTouchEnd () {\n      const { content, wrapper } = this.$refs\n      const maxScrollOffset = content.clientWidth - wrapper.clientWidth\n\n      content.style.setProperty('transition', null)\n      content.style.setProperty('willChange', null)\n\n      if (this.$vuetify.rtl) {\n        /* istanbul ignore else */\n        if (this.scrollOffset > 0 || !this.isOverflowing) {\n          this.scrollOffset = 0\n        } else if (this.scrollOffset <= -maxScrollOffset) {\n          this.scrollOffset = -maxScrollOffset\n        }\n      } else {\n        /* istanbul ignore else */\n        if (this.scrollOffset < 0 || !this.isOverflowing) {\n          this.scrollOffset = 0\n        } else if (this.scrollOffset >= maxScrollOffset) {\n          this.scrollOffset = maxScrollOffset\n        }\n      }\n    },\n    overflowCheck (e: TouchEvent, fn: (e: TouchEvent) => void) {\n      e.stopPropagation()\n      this.isOverflowing && fn(e)\n    },\n    scrollIntoView /* istanbul ignore next */ () {\n      if (!this.selectedItem) {\n        return\n      }\n\n      if (\n        this.selectedIndex === 0 ||\n        (!this.centerActive && !this.isOverflowing)\n      ) {\n        this.scrollOffset = 0\n      } else if (this.centerActive) {\n        this.scrollOffset = this.calculateCenteredOffset(\n          this.selectedItem.$el as HTMLElement,\n          this.widths,\n          this.$vuetify.rtl\n        )\n      } else if (this.isOverflowing) {\n        this.scrollOffset = this.calculateUpdatedOffset(\n          this.selectedItem.$el as HTMLElement,\n          this.widths,\n          this.$vuetify.rtl,\n          this.scrollOffset\n        )\n      }\n    },\n    calculateUpdatedOffset (selectedElement: HTMLElement, widths: Widths, rtl: boolean, currentScrollOffset: number): number {\n      const clientWidth = selectedElement.clientWidth\n      const offsetLeft = rtl\n        ? (widths.content - selectedElement.offsetLeft - clientWidth)\n        : selectedElement.offsetLeft\n\n      if (rtl) {\n        currentScrollOffset = -currentScrollOffset\n      }\n\n      const totalWidth = widths.wrapper + currentScrollOffset\n      const itemOffset = clientWidth + offsetLeft\n      const additionalOffset = clientWidth * 0.4\n\n      if (offsetLeft <= currentScrollOffset) {\n        currentScrollOffset = Math.max(offsetLeft - additionalOffset, 0)\n      } else if (totalWidth <= itemOffset) {\n        currentScrollOffset = Math.min(currentScrollOffset - (totalWidth - itemOffset - additionalOffset), widths.content - widths.wrapper)\n      }\n\n      return rtl ? -currentScrollOffset : currentScrollOffset\n    },\n    calculateCenteredOffset (selectedElement: HTMLElement, widths: Widths, rtl: boolean): number {\n      const { offsetLeft, clientWidth } = selectedElement\n\n      if (rtl) {\n        const offsetCentered = widths.content - offsetLeft - clientWidth / 2 - widths.wrapper / 2\n        return -Math.min(widths.content - widths.wrapper, Math.max(0, offsetCentered))\n      } else {\n        const offsetCentered = offsetLeft + clientWidth / 2 - widths.wrapper / 2\n        return Math.min(widths.content - widths.wrapper, Math.max(0, offsetCentered))\n      }\n    },\n    scrollTo /* istanbul ignore next */ (location: 'prev' | 'next') {\n      this.scrollOffset = this.calculateNewOffset(location, {\n        // Force reflow\n        content: this.$refs.content ? this.$refs.content.clientWidth : 0,\n        wrapper: this.$refs.wrapper ? this.$refs.wrapper.clientWidth : 0,\n      }, this.$vuetify.rtl, this.scrollOffset)\n    },\n    setWidths /* istanbul ignore next */  () {\n      window.requestAnimationFrame(() => {\n        const { content, wrapper } = this.$refs\n\n        this.widths = {\n          content: content ? content.clientWidth : 0,\n          wrapper: wrapper ? wrapper.clientWidth : 0,\n        }\n\n        this.isOverflowing = this.widths.wrapper < this.widths.content\n\n        this.scrollIntoView()\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('div', this.genData(), [\n      this.genPrev(),\n      this.genWrapper(),\n      this.genNext(),\n    ])\n  },\n})\n\nexport default BaseSlideGroup.extend({\n  name: 'v-slide-group',\n\n  provide (): object {\n    return {\n      slideGroup: this,\n    }\n  },\n})\n","// Styles\nimport './VChipGroup.sass'\n\n// Extensions\nimport { BaseSlideGroup } from '../VSlideGroup/VSlideGroup'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(\n  BaseSlideGroup,\n  Colorable\n).extend({\n  name: 'v-chip-group',\n\n  provide () {\n    return {\n      chipGroup: this,\n    }\n  },\n\n  props: {\n    column: Boolean,\n  },\n\n  computed: {\n    classes () {\n      return {\n        ...BaseSlideGroup.options.computed.classes.call(this),\n        'v-chip-group': true,\n        'v-chip-group--column': this.column,\n      }\n    },\n  },\n\n  watch: {\n    column (val) {\n      if (val) this.scrollOffset = 0\n\n      this.$nextTick(this.onResize)\n    },\n  },\n\n  methods: {\n    genData () {\n      return this.setTextColor(this.color, {\n        ...BaseSlideGroup.options.methods.genData.call(this),\n      })\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./BaseDatos.vue?vue&type=template&id=3f25a180&\"\nimport script from \"./BaseDatos.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseDatos.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VChipGroup } from 'vuetify/lib/components/VChipGroup';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VChip,VChipGroup,VCol,VDivider,VFileInput,VImg,VOverlay,VProgressCircular,VProgressLinear,VRow,VSnackbar})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fisicos.vue?vue&type=style&index=0&id=1d857726&prod&lang=css&scoped=true&\"","import VDivider from './VDivider'\n\nexport { VDivider }\nexport default VDivider\n","// Styles\nimport './VChip.sass'\n\n// Types\nimport { VNode } from 'vue'\nimport mixins from '../../util/mixins'\n\n// Components\nimport { VExpandXTransition } from '../transitions'\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { factory as GroupableFactory } from '../../mixins/groupable'\nimport Themeable from '../../mixins/themeable'\nimport { factory as ToggleableFactory } from '../../mixins/toggleable'\nimport Routable from '../../mixins/routable'\nimport Sizeable from '../../mixins/sizeable'\n\n// Utilities\nimport { breaking } from '../../util/console'\n\n// Types\nimport { PropValidator, PropType } from 'vue/types/options'\n\n/* @vue/component */\nexport default mixins(\n  Colorable,\n  Sizeable,\n  Routable,\n  Themeable,\n  GroupableFactory('chipGroup'),\n  ToggleableFactory('inputValue')\n).extend({\n  name: 'v-chip',\n\n  props: {\n    active: {\n      type: Boolean,\n      default: true,\n    },\n    activeClass: {\n      type: String,\n      default (): string | undefined {\n        if (!this.chipGroup) return ''\n\n        return this.chipGroup.activeClass\n      },\n    } as any as PropValidator<string>,\n    close: Boolean,\n    closeIcon: {\n      type: String,\n      default: '$delete',\n    },\n    disabled: Boolean,\n    draggable: Boolean,\n    filter: Boolean,\n    filterIcon: {\n      type: String,\n      default: '$complete',\n    },\n    label: Boolean,\n    link: Boolean,\n    outlined: Boolean,\n    pill: Boolean,\n    tag: {\n      type: String,\n      default: 'span',\n    },\n    textColor: String,\n    value: null as any as PropType<any>,\n  },\n\n  data: () => ({\n    proxyClass: 'v-chip--active',\n  }),\n\n  computed: {\n    classes (): object {\n      return {\n        'v-chip': true,\n        ...Routable.options.computed.classes.call(this),\n        'v-chip--clickable': this.isClickable,\n        'v-chip--disabled': this.disabled,\n        'v-chip--draggable': this.draggable,\n        'v-chip--label': this.label,\n        'v-chip--link': this.isLink,\n        'v-chip--no-color': !this.color,\n        'v-chip--outlined': this.outlined,\n        'v-chip--pill': this.pill,\n        'v-chip--removable': this.hasClose,\n        ...this.themeClasses,\n        ...this.sizeableClasses,\n        ...this.groupClasses,\n      }\n    },\n    hasClose (): boolean {\n      return Boolean(this.close)\n    },\n    isClickable (): boolean {\n      return Boolean(\n        Routable.options.computed.isClickable.call(this) ||\n        this.chipGroup\n      )\n    },\n  },\n\n  created () {\n    const breakingProps = [\n      ['outline', 'outlined'],\n      ['selected', 'input-value'],\n      ['value', 'active'],\n      ['@input', '@active.sync'],\n    ]\n\n    /* istanbul ignore next */\n    breakingProps.forEach(([original, replacement]) => {\n      if (this.$attrs.hasOwnProperty(original)) breaking(original, replacement, this)\n    })\n  },\n\n  methods: {\n    click (e: MouseEvent): void {\n      this.$emit('click', e)\n\n      this.chipGroup && this.toggle()\n    },\n    genFilter (): VNode {\n      const children = []\n\n      if (this.isActive) {\n        children.push(\n          this.$createElement(VIcon, {\n            staticClass: 'v-chip__filter',\n            props: { left: true },\n          }, this.filterIcon)\n        )\n      }\n\n      return this.$createElement(VExpandXTransition, children)\n    },\n    genClose (): VNode {\n      return this.$createElement(VIcon, {\n        staticClass: 'v-chip__close',\n        props: {\n          right: true,\n          size: 18,\n        },\n        on: {\n          click: (e: Event) => {\n            e.stopPropagation()\n            e.preventDefault()\n\n            this.$emit('click:close')\n            this.$emit('update:active', false)\n          },\n        },\n      }, this.closeIcon)\n    },\n    genContent (): VNode {\n      return this.$createElement('span', {\n        staticClass: 'v-chip__content',\n      }, [\n        this.filter && this.genFilter(),\n        this.$slots.default,\n        this.hasClose && this.genClose(),\n      ])\n    },\n  },\n\n  render (h): VNode {\n    const children = [this.genContent()]\n    let { tag, data } = this.generateRouteLink()\n\n    data.attrs = {\n      ...data.attrs,\n      draggable: this.draggable ? 'true' : undefined,\n      tabindex: this.chipGroup && !this.disabled ? 0 : data.attrs!.tabindex,\n    }\n    data.directives!.push({\n      name: 'show',\n      value: this.active,\n    })\n    data = this.setBackgroundColor(this.color, data)\n\n    const color = this.textColor || (this.outlined && this.color)\n\n    return h(tag, this.setTextColor(color, data), children)\n  },\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teoricos.vue?vue&type=style&index=0&id=278eedf9&prod&lang=css&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basedatos\"},[_c('v-card',{staticClass:\"mx-auto my-1\",attrs:{\"loading\":_vm.loading}},[_c('template',{slot:\"progress\"},[_c('v-progress-linear',{attrs:{\"color\":\"deep-purple\",\"height\":\"10\",\"indeterminate\":\"\"}})],1),_c('v-card-text',[_c('div',{staticStyle:{\"margin-top\":\"10px\",\"font-size\":\"large\"}},[_vm._v(\"Cargue el archivo de cdigos.\")]),_c('v-row',{staticClass:\"mx-0\",attrs:{\"align\":\"center\"}},[_c('v-file-input',{staticClass:\"v-btn v-size--default white\",staticStyle:{\"font-weight\":\"bolder\",\"font-size\":\"larger\",\"cursor\":\"pointer!important\",\"margin-top\":\"40px\"},attrs:{\"rules\":_vm.fileRules,\"show-size\":\"\",\"counter\":\"\",\"accept\":\".csv\",\"placeholder\":\"Elegir archivo con cdigos ...\"},on:{\"change\":_vm.submitFileCodigos},model:{value:(_vm.fileExcelCodigos),callback:function ($$v) {_vm.fileExcelCodigos=$$v},expression:\"fileExcelCodigos\"}})],1)],1),_c('br'),_c('hr'),_c('v-card-title',[_c('v-row',[_c('v-col',{staticStyle:{\"margin-top\":\"7px\",\"font-size\":\"smaller\",\"margin-left\":\"50px\"},attrs:{\"cols\":\"3\"}},[_vm._v(\"\\n               Pegue los elementos.\\n          \")]),_c('v-col',{staticStyle:{\"text-align\":\"right\",\"margin-top\":\"-11px\"},attrs:{\"cols\":\"2\"}}),_c('v-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"cols\":\"5\"}},[_c('v-row',{staticStyle:{\"margin-top\":\"1px\"}},[_c('v-btn',{attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.agruparCodigos()}}},[_vm._v(\"Contabilizar cdigos\")]),_c('v-btn',{staticStyle:{\"margin-left\":\"5px\"},attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.clear()}}},[_vm._v(\"Limpiar\")])],1)],1)],1)],1),_c('v-divider',{staticClass:\"mx-4\"}),_c('v-card-text',[_c('v-row',{staticClass:\"mx-0\",attrs:{\"align\":\"center\"}},[_c('div',{staticClass:\"wrapper-jexcel\"},[_c('br'),_c('div',{ref:\"spreadsheet\",attrs:{\"id\":\"spreadsheet\"}})])])],1),_c('v-divider',{staticClass:\"mx-4\"})],2),_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"color\":\"#FBFBFB\",\"dark\":\"\",\"max-width\":\"490\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card-text',{staticClass:\"headline font-weight-bold\",staticStyle:{\"text-align\":\"center\",\"color\":\"black\"}},[_vm._v(\"\\n                Autenticando ...\\n              \")])],1),_c('v-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"cols\":\"12\"}},[_c('v-progress-circular',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.colorSnack},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.msgSanck)+\"\\n            \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n                Cerrar\\n            \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"basedatos\">\n\n\n  <v-card :loading=\"loading\" class=\"mx-auto my-1\" >\n    <template slot=\"progress\">\n      <v-progress-linear color=\"deep-purple\" height=\"10\" indeterminate></v-progress-linear>\n    </template>\n\n\n\n\n    <v-card-text>\n      <div style=\"margin-top:10px;font-size: large;\">Cargue el archivo de cdigos.</div>\n      <v-row align=\"center\" class=\"mx-0\">\n        <v-file-input class=\"v-btn v-size--default white\" \n                        :rules=\"fileRules\"\n                        show-size\n                        counter\n                        accept=\".csv\"\n                        placeholder=\"Elegir archivo con cdigos ...\"\n                        v-model=\"fileExcelCodigos\" \n                        @change=\"submitFileCodigos\"\n                        style=\"font-weight: bolder;font-size: larger;cursor:pointer!important;margin-top:40px;\">\n          </v-file-input> \n      </v-row>\n\n\n      \n    </v-card-text>\n<br/>\n<hr>\n\n\n\n\n\n\n     <v-card-title>\n        <v-row>\n          <v-col cols=\"3\" style=\"margin-top: 7px;font-size: smaller;margin-left: 50px;\">\n               Pegue los elementos.\n          </v-col>\n          <v-col cols=\"2\" style=\"text-align: right;margin-top: -11px;\">\n             <!--<v-select :items=\"almacenes\" @change=\"selectedValue\" label=\"Almacenes\" ></v-select>-->\n          </v-col>\n\n\n           <v-col cols=\"5\" style=\"text-align: right;\">    \n            <v-row style=\"margin-top:1px\">\n              <v-btn color=\"primary\" style=\"\"\n                  @click=\"agruparCodigos()\" \n                  :loading=\"loading\"\n                  :disabled=\"loading\">Contabilizar cdigos</v-btn>  \n\n                   <v-btn color=\"primary\" style=\"margin-left:5px\"\n                  @click=\"clear()\" \n                  :loading=\"loading\"\n                  :disabled=\"loading\">Limpiar</v-btn>  \n              \n            </v-row> \n                 \n          </v-col>\n          \n        </v-row>\n     </v-card-title>\n     <v-divider class=\"mx-4\"></v-divider>\n    <v-card-text>\n      <v-row align=\"center\" class=\"mx-0\">\n      <!-- excel section -->\n           <div class=\"wrapper-jexcel\">\n              <br />\n              <div id=\"spreadsheet\" ref=\"spreadsheet\"></div>\n            </div>\n\n      <!-- excel section -->\n      </v-row>\n     \n    </v-card-text>\n\n    <v-divider class=\"mx-4\"></v-divider>\n\n  </v-card>\n\n\n    <v-overlay :value=\"overlay\">\n        <v-card class=\"mx-auto\" color=\"#FBFBFB\" dark max-width=\"490\">\n          <v-row>\n             <v-col cols=\"12\">\n              <v-card-text class=\"headline font-weight-bold\" style=\"text-align: center;color:black\">\n                Autenticando ...\n              </v-card-text>\n            </v-col>\n             <v-col cols=\"12\" style=\"text-align: center;\">\n              <v-progress-circular color=\"primary\" indeterminate size=\"64\"></v-progress-circular>\n            </v-col>\n          </v-row>  \n        </v-card>\n      </v-overlay>\n\n    <v-snackbar v-model=\"snackbar\" :color=\"colorSnack\">\n            {{ msgSanck }}\n            <v-btn  text @click=\"snackbar = false\">\n                Cerrar\n            </v-btn>\n    </v-snackbar>\n\n\n  </div>\n  \n\n</template>\n\n<script>\nimport jexcelStyle from \"jexcel/dist/jexcel.css\"; // eslint-disable-line no-unused-vars\nimport jexcel from \"jexcel\"; //\n\nexport default {\n    name: 'basedatos',\n  components:{\n      \n    },\n    data(){\n        return{\n          fileRules: [\n                value => !value || value.size < 20000000 || 'Archivo < 20 MB!', \n             ],\n             fileExcelCodigos: [],\n             arrAuxCodigos:[],\n          almacenSeleccionado:'',\n          almacenes:[],\n          loading: false,\n          snackbar:false,\n          colorSnack:'',\n          msgSanck:'',\n          absolute: false,\n          opacity: 0.46,\n          overlay: '',\n          zIndex: 5,\n          jExcelObjX:{},\n          dialogLoading: false,\n          proveedor:'',\n          departamento:'',\n          prenda:'',\n          workListCargada:[],\n          workListInicial: [[\"\",\"\"],\n                    ],\n        }\n    },\n    computed: {\n        console: () => console,\n        window: () => window,\n        proceso(val){\n            return 4+val;\n        },\n        jExcelOptions() {\n          return {\n            data: this.workListInicial,\n            //onpaste: this.pegado,\n            //onload: this.cargado,\n            updateTable:function(instance, cell, col, row, val, label) {\n              /*if(col == 1){\n                val = val.replace(\"ACC.\",\"ACC\");\n                val = val.replace(\"CABALLERO\",\"HOMBRE\");\n                val = val.replace(\"DAMA\",\"MUJER\");\n                cell.innerText = val;\n              }*/\n\n            },\n            columns: [\n              { type: \"text\", title: \"CDIGOS\", width: \"200px\" },\n              { type: \"text\", title: \"CANTIDAD\", width: \"220px\" },\n            ]\n          };\n        }\n      },\n      mounted: function() {\n        const jExcelObj = jexcel(this.$refs[\"spreadsheet\"], this.jExcelOptions);\n        Object.assign(this, { jExcelObj }); // tucks all methods under jExcelObj object in component instance\n\n        this.getAlmacenes();\n      },\n      methods:{\n        submitFileCodigos() {\n            this.overlay=true;\n\n            this.archivo='Nombre';\n            this.archivoSize='Tamao';\n            this.archivoTipo='Tipo';\n            this.archivoUltimaFecha='ltima fecha modificacin';\n            //var arrAuxCodigos=[];\n\n            this.errorFileBase64='';\n            this.hayErroresFile=false;\n\n           \n           if (this.fileExcelCodigos==undefined || this.fileExcelCodigos=='') {\n               console.log(\"No File Chosen\");\n               this.snackbar = true;\n                this.msgSanck=\"No ha elegido un archivo\";\n                this.colorSnack='red';\n                this.overlay=false;\n               return;\n               }\n\n            var arrNombre = this.fileExcelCodigos.name.split('.');\n            var ext = arrNombre[arrNombre.length-1];\n            console.log(ext); \n\n            this.$store.state.archivoCodigos=this.fileExcelCodigos.name;\n            this.$store.state.archivoSizeCodigos=this.fileExcelCodigos.size/100;\n            this.$store.state.archivoTipoCodigos=this.fileExcelCodigos.type;\n            this.$store.state.archivoUltimaFechaCodigos=this.fileExcelCodigos.lastModifiedDate;\n   \n            //console.log(this.fileExcel);\n            var reader = new FileReader();\n            \n            reader.readAsBinaryString(this.fileExcelCodigos);\n            reader.onload = () => {\n                this.excel64=reader.result;\n                 //Read the Excel File data.\n              var workbook = XLSX.read(this.excel64, {\n                  type: 'binary'\n              });\n      \n              //Fetch the name of First Sheet.\n              var firstSheet = workbook.SheetNames[0];\n      \n              //Read all rows from First Sheet into an JSON array.\n              this.$store.state.codigos = XLSX.utils.sheet_to_row_object_array(workbook.Sheets[firstSheet]);\n              this.$store.state.archivoRegistrosCodigo = this.$store.state.codigos.length;\n              this.$store.state.codigos.forEach(myFunction)\n\n              function myFunction(arrItem, index, arr) {\n                arrItem.ID = index;\n                arr[index] = arrItem ;\n              }\n               \n          \n                console.log(this.$store.state.codigos);\n                \n                this.colorSnack='green';    \n                this.snackbar = true;\n                this.msgSanck=\"Archivo de cdigos cargados\";\n                this.overlay=false;\n            }\n\n\n         //\n      },\n        selectedValue(seleccionado){\n         this.almacenSeleccionado= seleccionado;\n        },\n        clear(){\n          \n          this.workListInicial= [[\"\",\"\"]];\n          document.getElementById('spreadsheet').jexcel.setData(this.workListInicial);\n          this.fileExcelCodigos=null;\n        },\n        cargado(){\n         console.log(\"finish.....cargado\");\n        },\n        pegado(){\n         console.log(\"finish.....\");\n         \n        },\n        insertRowc(filas) {\n        console.log(this);\n          // this.spreadsheet.insertRow();\n          for(var i=0;i < filas;i++){\n            this.jExcelObj.insertRow();\n          }\n        },\n        getAlmacenes(){\n\n          this.almacenes= [...new Set(this.$store.state.database.map(item => item.ALMACEN))].sort(); // [ 'A', 'B']\n          this.almacenes = this.almacenes.filter(item => item !== undefined && item !== null)\n          console.log(this.almacenes);\n\n        },\n        searchDB(elemento){\n\n           var veces=0;\n          for(var i=0;i <this.$store.state.codigos.length;i++ ){\n\n            if(this.$store.state.codigos[i].CODIGO==elemento){\n               veces++;\n            }\n          }\n\n          \n          return veces;\n\n        },\n        agruparCodigos(){\n\n          if(this.$store.state.codigos.length<=0){\n            this.snackbar = true;\n                this.msgSanck=\"No se han cargado cdigos\";\n                this.colorSnack='red';\n                this.overlay=false;\n               return;\n          }\n          //this.loader = 'loading';\n          this.loading=true;\n          this.overlay = true;\n          var myExcel = document.getElementById('spreadsheet').jexcel;\n          //yourTableInstance.undo();\n\n          //Se obtiene array que representa el excel cargado\n          this.workListCargada= myExcel.getData();\n\n          if(this.workListCargada.length==1 && this.workListCargada[0][0]==\"\"){\n            this.snackbar = true;\n                this.msgSanck=\"Cargue elementos para procesarlos\";\n                this.colorSnack='red';\n                this.overlay=false;\n                this.loading=false;\n               return;\n          }\n\n          /*if(this.almacenSeleccionado==''){\n              this.snackbar = true;\n                this.msgSanck=\"Seleccione un almacen\";\n                this.colorSnack='red';\n                this.overlay=false;\n                this.loading=false;\n               return;\n          }*/\n\n          this.workListCargada.forEach(element => {\n             element[1] = this.searchDB(element[0]);              \n          });\n\n          document.getElementById('spreadsheet').jexcel.setData(this.workListCargada);\n\n\n          this.snackbar=true;\n          this.colorSnack='green';\n          this.msgSanck='El proceso de agrupacin de cdigos ha terminado';\n\n\n          this.overlay = false;\n          this.loading=false;\n        }\n      }\n}\n\n</script>\n\n<style lang=\"css\" scoped>\n.introduction {\n  font-size: 14px;\n  padding: 0.5em;\n  margin-bottom: 0.3em;\n  color: gold;\n  background: #111;\n}\n\n\n\n\n/*\n.modal {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    opacity: 0;\n    visibility: hidden;\n    transform: scale(1.1);\n    transition: visibility 0s linear 0.25s, opacity 0.25s 0s, transform 0.25s;\n}\n.modal-content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    padding: 1rem 1.5rem;\n    width: 24rem;\n    border-radius: 0.5rem;\n}\n.close-button {\n    float: right;\n    width: 1.5rem;\n    line-height: 1.5rem;\n    text-align: center;\n    cursor: pointer;\n    border-radius: 0.25rem;\n    background-color: lightgray;\n}\n.close-button:hover {\n    background-color: darkgray;\n}\n.show-modal {\n    \n    visibility: visible;\n    opacity: 1;\n    \n    transform: scale(1.0);\n    transition: visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s;\n}\n\n.hide-modal {\n    \n    visibility: collapse;\n    opacity: 1;\n    \n    transform: scale(1.0);\n    transition: visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s;\n}*/\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fisicos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fisicos.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Fisicos.vue?vue&type=template&id=1d857726&scoped=true&\"\nimport script from \"./Fisicos.vue?vue&type=script&lang=js&\"\nexport * from \"./Fisicos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Fisicos.vue?vue&type=style&index=0&id=1d857726&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1d857726\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFileInput } from 'vuetify/lib/components/VFileInput';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VDivider,VFileInput,VOverlay,VProgressCircular,VProgressLinear,VRow,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"basedatos\"},[_c('v-card',{staticClass:\"mx-auto my-1\",attrs:{\"loading\":_vm.loading}},[_c('template',{slot:\"progress\"},[_c('v-progress-linear',{attrs:{\"color\":\"deep-purple\",\"height\":\"10\",\"indeterminate\":\"\"}})],1),_c('v-img',{attrs:{\"height\":\"250\",\"src\":\"https://c1.thejournal.ie/media/2020/04/2-6947938-390x285.jpg\"}}),_c('v-card-title',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\"\\n             Pegue los elementos a procesar.\\n        \")]),_c('v-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"items\":_vm.almacenes,\"label\":\"Almacenes\"},on:{\"change\":_vm.selectedValue}})],1),_c('v-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"cols\":\"3\"}},[_c('v-btn',{staticStyle:{\"margin-left\":\"0px\"},attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.calcularPromedios()}}},[_vm._v(\"Calcular promedios\")])],1),_c('v-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"cols\":\"2\"}},[_c('v-btn',{staticStyle:{\"margin-left\":\"0px\"},attrs:{\"color\":\"primary\",\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":function($event){return _vm.clear()}}},[_vm._v(\"Limpiar\")])],1)],1)],1),_c('v-divider',{staticClass:\"mx-4\"}),_c('v-card-text',[_c('v-row',{staticClass:\"mx-0\",attrs:{\"align\":\"center\"}},[_c('div',{staticClass:\"wrapper-jexcel\"},[_c('br'),_c('div',{ref:\"spreadsheet\",attrs:{\"id\":\"spreadsheet\"}})])])],1),_c('v-divider',{staticClass:\"mx-4\"})],2),_c('v-overlay',{attrs:{\"value\":_vm.overlay}},[_c('v-card',{staticClass:\"mx-auto\",attrs:{\"color\":\"#FBFBFB\",\"dark\":\"\",\"max-width\":\"490\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-card-text',{staticClass:\"headline font-weight-bold\",staticStyle:{\"text-align\":\"center\",\"color\":\"black\"}},[_vm._v(\"\\n              Autenticando ...\\n            \")])],1),_c('v-col',{staticStyle:{\"text-align\":\"center\"},attrs:{\"cols\":\"12\"}},[_c('v-progress-circular',{attrs:{\"color\":\"primary\",\"indeterminate\":\"\",\"size\":\"64\"}})],1)],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.colorSnack},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.msgSanck)+\"\\n          \"),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n              Cerrar\\n          \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"basedatos\">\n\n\n  <v-card :loading=\"loading\" class=\"mx-auto my-1\" >\n    <template slot=\"progress\">\n      <v-progress-linear color=\"deep-purple\" height=\"10\" indeterminate></v-progress-linear>\n    </template>\n\n    <v-img height=\"250\" src=\"https://c1.thejournal.ie/media/2020/04/2-6947938-390x285.jpg\"></v-img>\n     <v-card-title>\n        <v-row>\n          <v-col cols=\"4\">\n               Pegue los elementos a procesar.\n          </v-col>\n          <v-col cols=\"3\" style=\"text-align: right;\">\n             <v-select :items=\"almacenes\" @change=\"selectedValue\" label=\"Almacenes\" ></v-select>\n          </v-col>\n          <v-col cols=\"3\" style=\"text-align: left;\">     \n             <v-btn color=\"primary\" style=\"margin-left:0px\"\n                  @click=\"calcularPromedios()\" \n                  :loading=\"loading\"\n                  :disabled=\"loading\">Calcular promedios</v-btn>      \n          </v-col>\n           <v-col cols=\"2\" style=\"text-align: left;\">\n              <v-btn color=\"primary\" style=\"margin-left:0px\"\n                  @click=\"clear()\" \n                  :loading=\"loading\"\n                  :disabled=\"loading\">Limpiar</v-btn>  \n          </v-col>\n          \n        </v-row>\n     </v-card-title>\n     <v-divider class=\"mx-4\"></v-divider>\n    <v-card-text>\n      <v-row align=\"center\" class=\"mx-0\">\n      <!-- excel section -->\n           <div class=\"wrapper-jexcel\">\n              <br />\n              <div id=\"spreadsheet\" ref=\"spreadsheet\"></div>\n            </div>\n\n      <!-- excel section -->\n      </v-row>\n     \n    </v-card-text>\n\n    <v-divider class=\"mx-4\"></v-divider>\n\n  </v-card>\n\n\n    <v-overlay :value=\"overlay\">\n        <v-card class=\"mx-auto\" color=\"#FBFBFB\" dark max-width=\"490\">\n          <v-row>\n             <v-col cols=\"12\">\n              <v-card-text class=\"headline font-weight-bold\" style=\"text-align: center;color:black\">\n                Autenticando ...\n              </v-card-text>\n            </v-col>\n             <v-col cols=\"12\" style=\"text-align: center;\">\n              <v-progress-circular color=\"primary\" indeterminate size=\"64\"></v-progress-circular>\n            </v-col>\n          </v-row>  \n        </v-card>\n      </v-overlay>\n\n    <v-snackbar v-model=\"snackbar\" :color=\"colorSnack\">\n            {{ msgSanck }}\n            <v-btn  text @click=\"snackbar = false\">\n                Cerrar\n            </v-btn>\n    </v-snackbar>\n\n\n  </div>\n  \n\n</template>\n\n<script>\nimport jexcelStyle from \"jexcel/dist/jexcel.css\"; // eslint-disable-line no-unused-vars\nimport jexcel from \"jexcel\"; //\n\nexport default {\n    name: 'basedatos',\n  components:{\n      \n    },\n    data(){\n        return{\n          almacenSeleccionado:'',\n          almacenes:[],\n          loading: false,\n          snackbar:false,\n          colorSnack:'',\n          msgSanck:'',\n          absolute: false,\n          opacity: 0.46,\n          overlay: '',\n          zIndex: 5,\n          jExcelObjX:{},\n          dialogLoading: false,\n          proveedor:'',\n          departamento:'',\n          prenda:'',\n          workListCargada:[],\n          workListInicial: [[\"\",\"\",\"\",\"\",\"\"],\n                    ],\n        }\n    },\n    computed: {\n        console: () => console,\n        window: () => window,\n        proceso(val){\n            return 4+val;\n        },\n        jExcelOptions() {\n          return {\n            data: this.workListInicial,\n            //onpaste: this.pegado,\n            //onload: this.cargado,\n            updateTable:function(instance, cell, col, row, val, label) {\n              /*if(col == 1){\n                val = val.replace(\"ACC.\",\"ACC\");\n                val = val.replace(\"CABALLERO\",\"HOMBRE\");\n                val = val.replace(\"DAMA\",\"MUJER\");\n                cell.innerText = val;\n              }*/\n\n            },\n            columns: [\n              { type: \"text\", title: \"PROVEEDOR\", width: \"120px\" },\n              { type: \"text\", title: \"DEPARTAMENTO\", width: \"220px\" },\n              { type: \"text\", title: \"PRENDAS\", width: \"220px\" },\n              { type: \"text\", title: \"CANTIDAD\", width: \"100px\" },\n              { type: \"text\", title: \"PROMEDIO\", width: \"220px\" },\n            ]\n          };\n        }\n      },\n      mounted: function() {\n        const jExcelObj = jexcel(this.$refs[\"spreadsheet\"], this.jExcelOptions);\n        Object.assign(this, { jExcelObj }); // tucks all methods under jExcelObj object in component instance\n\n        this.getAlmacenes();\n      },\n      methods:{\n        selectedValue(seleccionado){\n         this.almacenSeleccionado= seleccionado;\n        },\n        clear(){\n          \n          this.workListInicial= [[\"\",\"\",\"\",\"\",\"\"]];\n          document.getElementById('spreadsheet').jexcel.setData(this.workListInicial);\n        },\n        cargado(){\n         console.log(\"finish.....cargado\");\n        },\n        pegado(){\n         console.log(\"finish.....\");\n         \n        },\n        insertRowc(filas) {\n        console.log(this);\n          // this.spreadsheet.insertRow();\n          for(var i=0;i < filas;i++){\n            this.jExcelObj.insertRow();\n          }\n        },\n        getAlmacenes(){\n\n          this.almacenes= [...new Set(this.$store.state.database.map(item => item.ALMACEN))].sort(); // [ 'A', 'B']\n          this.almacenes = this.almacenes.filter(item => item !== undefined && item !== null)\n          console.log(this.almacenes);\n\n        },\n        searchDB(elemento){\n\n           elemento[1] = elemento[1].replace(\"ACC.\",\"ACC\");\n           elemento[1] = elemento[1].replace(\"CABALLERO\",\"HOMBRE\");\n           elemento[1] = elemento[1].replace(\"CABALERO\",\"HOMBRE\");\n           elemento[1] = elemento[1].replace(\"DAMA\",\"MUJER\");\n\n           /*var arrElemento1= elemento[1].split(' ');\n           if(arrElemento1[0]=='HOMBRE')elemento[1]='HOMBRE';\n           if(arrElemento1[0]=='MUJER')elemento[1]='MUJER';*/\n          // if(arrElemento1[0]=='HOMBRE')elemento[1]='HOMBRE';\n          // if(arrElemento1[0]=='HOMBRE')elemento[1]='HOMBRE';\n              //  cell.innerText = val;\n\n          var filter = {\n            PROVEEDOR: elemento[0],\n            DEPTO: elemento[1],\n            LINEA: elemento[2],\n            ALMACEN: this.almacenSeleccionado\n          };\n          console.log(\"filter::::::::::::\");\n          console.log(filter);\n//debugger;\n         var arrResultadox=[];\n         for(var i=0;i <this.$store.state.database.length;i++ ){\n           if(this.$store.state.database[i].ALMACEN==this.almacenSeleccionado){\n           if(this.$store.state.database[i].PROVEEDOR==elemento[0]){\n             if(this.$store.state.database[i].LINEA==elemento[2]){           \n\n                  var arrLine= elemento[1].split(' ');\n                  if(arrLine[0]=='HOMBRE')elemento[1]='HOMBRE';\n                  if(arrLine[0]=='MUJER')elemento[1]='MUJER';\n\n//NIA\n                  if(this.$store.state.database[i].AREA.includes(elemento[1])){\n                     arrResultadox.push(this.$store.state.database[i]);\n              }\n              }\n           }\n           }\n\n         }\n\n          /*var arrResultadox = this.$store.state.database.filter(function(item) {\n            for (var key in filter) {\n              if (item[key] === undefined || item[key] != filter[key])\n                return false;\n            }\n            return true;\n          });*/\n\n          var importe=0.0;\n          var cantidad=0;\n          for(var i=0;i<arrResultadox.length;i++){\n            try {\n              importe+= isNaN(parseFloat(arrResultadox[i].IMPORTE.replace(',','').replace('$',''))) ? 0 : parseFloat(arrResultadox[i].IMPORTE.replace(',','').replace('$',''));\n            } catch (error) {\n              importe+= isNaN(parseFloat(arrResultadox[i][\" IMPORTE \"].replace(',','').replace('$',''))) ? 0 : parseFloat(arrResultadox[i][\" IMPORTE \"].replace(',','').replace('$',''));\n            }\n\n            cantidad+= isNaN( parseFloat(arrResultadox[i].CANTIDAD.replace(',','').replace('$',''))) ? 0 : parseFloat(arrResultadox[i].CANTIDAD.replace(',','').replace('$',''));  \n           \n    \n          }\n\n          var promedio=0.0;\n          var arrResultado=[];\n\n          if(importe==0.0){\n             arrResultado=[parseFloat(cantidad),importe];\n          }else{\n            promedio = parseFloat(parseFloat(importe)/parseFloat(cantidad)).toFixed(2);\n             arrResultado=[parseFloat(cantidad),promedio];\n          }\n\n         console.log(arrResultadox);\n          return arrResultado;\n        },\n        calcularPromedios(){\n\n          if(this.$store.state.database.length<=0){\n            this.snackbar = true;\n                this.msgSanck=\"La base de datos no ha sido cargada\";\n                this.colorSnack='red';\n                this.overlay=false;\n               return;\n          }\n          //this.loader = 'loading';\n          this.loading=true;\n          this.overlay = true;\n          var myExcel = document.getElementById('spreadsheet').jexcel;\n          //yourTableInstance.undo();\n\n          //Se obtiene array que representa el excel cargado\n          this.workListCargada= myExcel.getData();\n\n          if(this.workListCargada.length==1 && this.workListCargada[0][0]==\"\"){\n            this.snackbar = true;\n                this.msgSanck=\"Cargue elementos para procesarlos\";\n                this.colorSnack='red';\n                this.overlay=false;\n                this.loading=false;\n               return;\n          }\n\n          if(this.almacenSeleccionado==''){\n              this.snackbar = true;\n                this.msgSanck=\"Seleccione un almacen\";\n                this.colorSnack='red';\n                this.overlay=false;\n                this.loading=false;\n               return;\n          }\n\n          this.workListCargada.forEach(element => {\n             var arrResultado = this.searchDB(element);\n              element[3]=arrResultado[0];\n              element[4]=arrResultado[1];\n          });\n\n          document.getElementById('spreadsheet').jexcel.setData(this.workListCargada);\n\n\n          this.snackbar=true;\n          this.colorSnack='green';\n          this.msgSanck='El proceso de clculo de promedios y cantidades ha terminado';\n\n\n          this.overlay = false;\n          this.loading=false;\n        }\n      }\n}\n\n</script>\n\n<style lang=\"css\" scoped>\n.introduction {\n  font-size: 14px;\n  padding: 0.5em;\n  margin-bottom: 0.3em;\n  color: gold;\n  background: #111;\n}\n\n\n\n\n/*\n.modal {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5);\n    opacity: 0;\n    visibility: hidden;\n    transform: scale(1.1);\n    transition: visibility 0s linear 0.25s, opacity 0.25s 0s, transform 0.25s;\n}\n.modal-content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    background-color: white;\n    padding: 1rem 1.5rem;\n    width: 24rem;\n    border-radius: 0.5rem;\n}\n.close-button {\n    float: right;\n    width: 1.5rem;\n    line-height: 1.5rem;\n    text-align: center;\n    cursor: pointer;\n    border-radius: 0.25rem;\n    background-color: lightgray;\n}\n.close-button:hover {\n    background-color: darkgray;\n}\n.show-modal {\n    \n    visibility: visible;\n    opacity: 1;\n    \n    transform: scale(1.0);\n    transition: visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s;\n}\n\n.hide-modal {\n    \n    visibility: collapse;\n    opacity: 1;\n    \n    transform: scale(1.0);\n    transition: visibility 0s linear 0s, opacity 0.25s 0s, transform 0.25s;\n}*/\n\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teoricos.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Teoricos.vue?vue&type=script&lang=js&\"","import './VSimpleCheckbox.sass'\n\nimport ripple from '../../directives/ripple'\n\nimport Vue, { VNode, VNodeDirective } from 'vue'\nimport { VIcon } from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\n\n// Utilities\nimport mergeData from '../../util/mergeData'\nimport { wrapInArray } from '../../util/helpers'\n\nexport default Vue.extend({\n  name: 'v-simple-checkbox',\n\n  functional: true,\n\n  directives: {\n    ripple,\n  },\n\n  props: {\n    ...Colorable.options.props,\n    ...Themeable.options.props,\n    disabled: Boolean,\n    ripple: {\n      type: Boolean,\n      default: true,\n    },\n    value: Boolean,\n    indeterminate: Boolean,\n    indeterminateIcon: {\n      type: String,\n      default: '$checkboxIndeterminate',\n    },\n    onIcon: {\n      type: String,\n      default: '$checkboxOn',\n    },\n    offIcon: {\n      type: String,\n      default: '$checkboxOff',\n    },\n  },\n\n  render (h, { props, data, listeners }): VNode {\n    const children = []\n\n    if (props.ripple && !props.disabled) {\n      const ripple = h('div', Colorable.options.methods.setTextColor(props.color, {\n        staticClass: 'v-input--selection-controls__ripple',\n        directives: [{\n          name: 'ripple',\n          value: { center: true },\n        }] as VNodeDirective[],\n      }))\n\n      children.push(ripple)\n    }\n\n    let icon = props.offIcon\n    if (props.indeterminate) icon = props.indeterminateIcon\n    else if (props.value) icon = props.onIcon\n\n    children.push(h(VIcon, Colorable.options.methods.setTextColor(props.value && props.color, {\n      props: {\n        disabled: props.disabled,\n        dark: props.dark,\n        light: props.light,\n      },\n    }), icon))\n\n    const classes = {\n      'v-simple-checkbox': true,\n      'v-simple-checkbox--disabled': props.disabled,\n    }\n\n    return h('div',\n      mergeData(data, {\n        class: classes,\n        on: {\n          click: (e: MouseEvent) => {\n            e.stopPropagation()\n\n            if (data.on && data.on.input && !props.disabled) {\n              wrapInArray(data.on.input).forEach(f => f(!props.value))\n            }\n          },\n        },\n      }), children)\n  },\n})\n","// Styles\nimport './VSubheader.sass'\n\n// Mixins\nimport Themeable from '../../mixins/themeable'\nimport mixins from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nexport default mixins(\n  Themeable\n  /* @vue/component */\n).extend({\n  name: 'v-subheader',\n\n  props: {\n    inset: Boolean,\n  },\n\n  render (h): VNode {\n    return h('div', {\n      staticClass: 'v-subheader',\n      class: {\n        'v-subheader--inset': this.inset,\n        ...this.themeClasses,\n      },\n      attrs: this.$attrs,\n      on: this.$listeners,\n    }, this.$slots.default)\n  },\n})\n","import VSubheader from './VSubheader'\n\nexport { VSubheader }\nexport default VSubheader\n","// Components\nimport VSimpleCheckbox from '../VCheckbox/VSimpleCheckbox'\nimport VDivider from '../VDivider'\nimport VSubheader from '../VSubheader'\nimport {\n  VList,\n  VListItem,\n  VListItemAction,\n  VListItemContent,\n  VListItemTitle,\n} from '../VList'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport Themeable from '../../mixins/themeable'\n\n// Helpers\nimport {\n  escapeHTML,\n  getPropertyFromItem,\n} from '../../util/helpers'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode, PropType, VNodeChildren } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { SelectItemKey } from 'vuetify/types'\n\ntype ListTile = { item: any, disabled?: null | boolean, value?: boolean, index: number };\n\n/* @vue/component */\nexport default mixins(Colorable, Themeable).extend({\n  name: 'v-select-list',\n\n  // https://github.com/vuejs/vue/issues/6872\n  directives: {\n    ripple,\n  },\n\n  props: {\n    action: Boolean,\n    dense: Boolean,\n    hideSelected: Boolean,\n    items: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    itemDisabled: {\n      type: [String, Array, Function] as PropType<SelectItemKey>,\n      default: 'disabled',\n    },\n    itemText: {\n      type: [String, Array, Function] as PropType<SelectItemKey>,\n      default: 'text',\n    },\n    itemValue: {\n      type: [String, Array, Function] as PropType<SelectItemKey>,\n      default: 'value',\n    },\n    noDataText: String,\n    noFilter: Boolean,\n    searchInput: null as unknown as PropType<any>,\n    selectedItems: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n  },\n\n  computed: {\n    parsedItems (): any[] {\n      return this.selectedItems.map(item => this.getValue(item))\n    },\n    tileActiveClass (): string {\n      return Object.keys(this.setTextColor(this.color).class || {}).join(' ')\n    },\n    staticNoDataTile (): VNode {\n      const tile = {\n        attrs: {\n          role: undefined,\n        },\n        on: {\n          mousedown: (e: Event) => e.preventDefault(), // Prevent onBlur from being called\n        },\n      }\n\n      return this.$createElement(VListItem, tile, [\n        this.genTileContent(this.noDataText),\n      ])\n    },\n  },\n\n  methods: {\n    genAction (item: object, inputValue: any): VNode {\n      return this.$createElement(VListItemAction, [\n        this.$createElement(VSimpleCheckbox, {\n          props: {\n            color: this.color,\n            value: inputValue,\n          },\n          on: {\n            input: () => this.$emit('select', item),\n          },\n        }),\n      ])\n    },\n    genDivider (props: { [key: string]: any }) {\n      return this.$createElement(VDivider, { props })\n    },\n    genFilteredText (text: string) {\n      text = text || ''\n\n      if (!this.searchInput || this.noFilter) return escapeHTML(text)\n\n      const { start, middle, end } = this.getMaskedCharacters(text)\n\n      return `${escapeHTML(start)}${this.genHighlight(middle)}${escapeHTML(end)}`\n    },\n    genHeader (props: { [key: string]: any }): VNode {\n      return this.$createElement(VSubheader, { props }, props.header)\n    },\n    genHighlight (text: string): string {\n      return `<span class=\"v-list-item__mask\">${escapeHTML(text)}</span>`\n    },\n    getMaskedCharacters (text: string): {\n      start: string\n      middle: string\n      end: string\n    } {\n      const searchInput = (this.searchInput || '').toString().toLocaleLowerCase()\n      const index = text.toLocaleLowerCase().indexOf(searchInput)\n\n      if (index < 0) return { start: '', middle: text, end: '' }\n\n      const start = text.slice(0, index)\n      const middle = text.slice(index, index + searchInput.length)\n      const end = text.slice(index + searchInput.length)\n      return { start, middle, end }\n    },\n    genTile ({\n      item,\n      index,\n      disabled = null,\n      value = false,\n    }: ListTile): VNode | VNode[] | undefined {\n      if (!value) value = this.hasItem(item)\n\n      if (item === Object(item)) {\n        disabled = disabled !== null\n          ? disabled\n          : this.getDisabled(item)\n      }\n\n      const tile = {\n        attrs: {\n          // Default behavior in list does not\n          // contain aria-selected by default\n          'aria-selected': String(value),\n          id: `list-item-${this._uid}-${index}`,\n          role: 'option',\n        },\n        on: {\n          mousedown: (e: Event) => {\n            // Prevent onBlur from being called\n            e.preventDefault()\n          },\n          click: () => disabled || this.$emit('select', item),\n        },\n        props: {\n          activeClass: this.tileActiveClass,\n          disabled,\n          ripple: true,\n          inputValue: value,\n        },\n      }\n\n      if (!this.$scopedSlots.item) {\n        return this.$createElement(VListItem, tile, [\n          this.action && !this.hideSelected && this.items.length > 0\n            ? this.genAction(item, value)\n            : null,\n          this.genTileContent(item, index),\n        ])\n      }\n\n      const parent = this\n      const scopedSlot = this.$scopedSlots.item({\n        parent,\n        item,\n        attrs: {\n          ...tile.attrs,\n          ...tile.props,\n        },\n        on: tile.on,\n      })\n\n      return this.needsTile(scopedSlot)\n        ? this.$createElement(VListItem, tile, scopedSlot)\n        : scopedSlot\n    },\n    genTileContent (item: any, index = 0): VNode {\n      const innerHTML = this.genFilteredText(this.getText(item))\n\n      return this.$createElement(VListItemContent,\n        [this.$createElement(VListItemTitle, {\n          domProps: { innerHTML },\n        })]\n      )\n    },\n    hasItem (item: object) {\n      return this.parsedItems.indexOf(this.getValue(item)) > -1\n    },\n    needsTile (slot: VNode[] | undefined) {\n      return slot!.length !== 1 ||\n        slot![0].componentOptions == null ||\n        slot![0].componentOptions.Ctor.options.name !== 'v-list-item'\n    },\n    getDisabled (item: object) {\n      return Boolean(getPropertyFromItem(item, this.itemDisabled, false))\n    },\n    getText (item: object) {\n      return String(getPropertyFromItem(item, this.itemText, item))\n    },\n    getValue (item: object) {\n      return getPropertyFromItem(item, this.itemValue, this.getText(item))\n    },\n  },\n\n  render (): VNode {\n    const children: VNodeChildren = []\n    const itemsLength = this.items.length\n    for (let index = 0; index < itemsLength; index++) {\n      const item = this.items[index]\n\n      if (this.hideSelected &&\n        this.hasItem(item)\n      ) continue\n\n      if (item == null) children.push(this.genTile({ item, index }))\n      else if (item.header) children.push(this.genHeader(item))\n      else if (item.divider) children.push(this.genDivider(item))\n      else children.push(this.genTile({ item, index }))\n    }\n\n    children.length || children.push(this.$slots['no-data'] || this.staticNoDataTile)\n\n    this.$slots['prepend-item'] && children.unshift(this.$slots['prepend-item'])\n\n    this.$slots['append-item'] && children.push(this.$slots['append-item'])\n\n    return this.$createElement(VList, {\n      staticClass: 'v-select-list',\n      class: this.themeClasses,\n      attrs: {\n        role: 'listbox',\n        tabindex: -1,\n      },\n      props: { dense: this.dense },\n    }, children)\n  },\n})\n","import Vue from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { deepEqual } from '../../util/helpers'\n\nexport default Vue.extend({\n  name: 'comparable',\n  props: {\n    valueComparator: {\n      type: Function,\n      default: deepEqual,\n    } as PropValidator<typeof deepEqual>,\n  },\n})\n","import Vue from 'vue'\n\n/* @vue/component */\nexport default Vue.extend({\n  name: 'filterable',\n\n  props: {\n    noDataText: {\n      type: String,\n      default: '$vuetify.noDataText',\n    },\n  },\n})\n","// Styles\nimport '../VTextField/VTextField.sass'\nimport './VSelect.sass'\n\n// Components\nimport VChip from '../VChip'\nimport VMenu from '../VMenu'\nimport VSelectList from './VSelectList'\n\n// Extensions\nimport VInput from '../VInput'\nimport VTextField from '../VTextField/VTextField'\n\n// Mixins\nimport Comparable from '../../mixins/comparable'\nimport Filterable from '../../mixins/filterable'\n\n// Directives\nimport ClickOutside from '../../directives/click-outside'\n\n// Utilities\nimport mergeData from '../../util/mergeData'\nimport { getPropertyFromItem, getObjectValueByPath, keyCodes } from '../../util/helpers'\nimport { consoleError } from '../../util/console'\n\n// Types\nimport mixins from '../../util/mixins'\nimport { VNode, VNodeDirective, PropType, VNodeData } from 'vue'\nimport { PropValidator } from 'vue/types/options'\nimport { SelectItemKey } from 'vuetify/types'\n\nexport const defaultMenuProps = {\n  closeOnClick: false,\n  closeOnContentClick: false,\n  disableKeys: true,\n  openOnClick: false,\n  maxHeight: 304,\n}\n\n// Types\nconst baseMixins = mixins(\n  VTextField,\n  Comparable,\n  Filterable\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  $refs: {\n    menu: InstanceType<typeof VMenu>\n    label: HTMLElement\n    input: HTMLInputElement\n    'prepend-inner': HTMLElement\n    'append-inner': HTMLElement\n    prefix: HTMLElement\n    suffix: HTMLElement\n  }\n}\n\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-select',\n\n  directives: {\n    ClickOutside,\n  },\n\n  props: {\n    appendIcon: {\n      type: String,\n      default: '$dropdown',\n    },\n    attach: {\n      type: null as unknown as PropType<string | boolean | Element | VNode>,\n      default: false,\n    },\n    cacheItems: Boolean,\n    chips: Boolean,\n    clearable: Boolean,\n    deletableChips: Boolean,\n    disableLookup: Boolean,\n    eager: Boolean,\n    hideSelected: Boolean,\n    items: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<any[]>,\n    itemColor: {\n      type: String,\n      default: 'primary',\n    },\n    itemDisabled: {\n      type: [String, Array, Function] as PropType<SelectItemKey>,\n      default: 'disabled',\n    },\n    itemText: {\n      type: [String, Array, Function] as PropType<SelectItemKey>,\n      default: 'text',\n    },\n    itemValue: {\n      type: [String, Array, Function] as PropType<SelectItemKey>,\n      default: 'value',\n    },\n    menuProps: {\n      type: [String, Array, Object],\n      default: () => defaultMenuProps,\n    },\n    multiple: Boolean,\n    openOnClear: Boolean,\n    returnObject: Boolean,\n    smallChips: Boolean,\n  },\n\n  data () {\n    return {\n      cachedItems: this.cacheItems ? this.items : [],\n      menuIsBooted: false,\n      isMenuActive: false,\n      lastItem: 20,\n      // As long as a value is defined, show it\n      // Otherwise, check if multiple\n      // to determine which default to provide\n      lazyValue: this.value !== undefined\n        ? this.value\n        : this.multiple ? [] : undefined,\n      selectedIndex: -1,\n      selectedItems: [] as any[],\n      keyboardLookupPrefix: '',\n      keyboardLookupLastTime: 0,\n    }\n  },\n\n  computed: {\n    /* All items that the select has */\n    allItems (): object[] {\n      return this.filterDuplicates(this.cachedItems.concat(this.items))\n    },\n    classes (): object {\n      return {\n        ...VTextField.options.computed.classes.call(this),\n        'v-select': true,\n        'v-select--chips': this.hasChips,\n        'v-select--chips--small': this.smallChips,\n        'v-select--is-menu-active': this.isMenuActive,\n        'v-select--is-multi': this.multiple,\n      }\n    },\n    /* Used by other components to overwrite */\n    computedItems (): object[] {\n      return this.allItems\n    },\n    computedOwns (): string {\n      return `list-${this._uid}`\n    },\n    computedCounterValue (): number {\n      return this.multiple\n        ? this.selectedItems.length\n        : (this.getText(this.selectedItems[0]) || '').toString().length\n    },\n    directives (): VNodeDirective[] | undefined {\n      return this.isFocused ? [{\n        name: 'click-outside',\n        value: {\n          handler: this.blur,\n          closeConditional: this.closeConditional,\n        },\n      }] : undefined\n    },\n    dynamicHeight () {\n      return 'auto'\n    },\n    hasChips (): boolean {\n      return this.chips || this.smallChips\n    },\n    hasSlot (): boolean {\n      return Boolean(this.hasChips || this.$scopedSlots.selection)\n    },\n    isDirty (): boolean {\n      return this.selectedItems.length > 0\n    },\n    listData (): object {\n      const scopeId = this.$vnode && (this.$vnode.context!.$options as { [key: string]: any })._scopeId\n      const attrs = scopeId ? {\n        [scopeId]: true,\n      } : {}\n\n      return {\n        attrs: {\n          ...attrs,\n          id: this.computedOwns,\n        },\n        props: {\n          action: this.multiple,\n          color: this.itemColor,\n          dense: this.dense,\n          hideSelected: this.hideSelected,\n          items: this.virtualizedItems,\n          itemDisabled: this.itemDisabled,\n          itemText: this.itemText,\n          itemValue: this.itemValue,\n          noDataText: this.$vuetify.lang.t(this.noDataText),\n          selectedItems: this.selectedItems,\n        },\n        on: {\n          select: this.selectItem,\n        },\n        scopedSlots: {\n          item: this.$scopedSlots.item,\n        },\n      }\n    },\n    staticList (): VNode {\n      if (this.$slots['no-data'] || this.$slots['prepend-item'] || this.$slots['append-item']) {\n        consoleError('assert: staticList should not be called if slots are used')\n      }\n\n      return this.$createElement(VSelectList, this.listData)\n    },\n    virtualizedItems (): object[] {\n      return (this.$_menuProps as any).auto\n        ? this.computedItems\n        : this.computedItems.slice(0, this.lastItem)\n    },\n    menuCanShow: () => true,\n    $_menuProps (): object {\n      let normalisedProps = typeof this.menuProps === 'string'\n        ? this.menuProps.split(',')\n        : this.menuProps\n\n      if (Array.isArray(normalisedProps)) {\n        normalisedProps = normalisedProps.reduce((acc, p) => {\n          acc[p.trim()] = true\n          return acc\n        }, {})\n      }\n\n      return {\n        ...defaultMenuProps,\n        eager: this.eager,\n        value: this.menuCanShow && this.isMenuActive,\n        nudgeBottom: normalisedProps.offsetY ? 1 : 0, // convert to int\n        ...normalisedProps,\n      }\n    },\n  },\n\n  watch: {\n    internalValue (val) {\n      this.initialValue = val\n      this.setSelectedItems()\n    },\n    isMenuActive (val) {\n      window.setTimeout(() => this.onMenuActiveChange(val))\n    },\n    items: {\n      immediate: true,\n      handler (val) {\n        if (this.cacheItems) {\n          // Breaks vue-test-utils if\n          // this isn't calculated\n          // on the next tick\n          this.$nextTick(() => {\n            this.cachedItems = this.filterDuplicates(this.cachedItems.concat(val))\n          })\n        }\n\n        this.setSelectedItems()\n      },\n    },\n  },\n\n  methods: {\n    /** @public */\n    blur (e?: Event) {\n      VTextField.options.methods.blur.call(this, e)\n      this.isMenuActive = false\n      this.isFocused = false\n      this.selectedIndex = -1\n    },\n    /** @public */\n    activateMenu () {\n      if (\n        !this.isInteractive ||\n        this.isMenuActive\n      ) return\n\n      this.isMenuActive = true\n    },\n    clearableCallback () {\n      this.setValue(this.multiple ? [] : undefined)\n      this.setMenuIndex(-1)\n      this.$nextTick(() => this.$refs.input && this.$refs.input.focus())\n\n      if (this.openOnClear) this.isMenuActive = true\n    },\n    closeConditional (e: Event) {\n      if (!this.isMenuActive) return true\n\n      return (\n        !this._isDestroyed &&\n\n        // Click originates from outside the menu content\n        // Multiple selects don't close when an item is clicked\n        (!this.getContent() ||\n        !this.getContent().contains(e.target as Node)) &&\n\n        // Click originates from outside the element\n        this.$el &&\n        !this.$el.contains(e.target as Node) &&\n        e.target !== this.$el\n      )\n    },\n    filterDuplicates (arr: any[]) {\n      const uniqueValues = new Map()\n      for (let index = 0; index < arr.length; ++index) {\n        const item = arr[index]\n        const val = this.getValue(item)\n\n        // TODO: comparator\n        !uniqueValues.has(val) && uniqueValues.set(val, item)\n      }\n      return Array.from(uniqueValues.values())\n    },\n    findExistingIndex (item: object) {\n      const itemValue = this.getValue(item)\n\n      return (this.internalValue || []).findIndex((i: object) => this.valueComparator(this.getValue(i), itemValue))\n    },\n    getContent () {\n      return this.$refs.menu && this.$refs.menu.$refs.content\n    },\n    genChipSelection (item: object, index: number) {\n      const isDisabled = (\n        !this.isInteractive ||\n        this.getDisabled(item)\n      )\n\n      return this.$createElement(VChip, {\n        staticClass: 'v-chip--select',\n        attrs: { tabindex: -1 },\n        props: {\n          close: this.deletableChips && !isDisabled,\n          disabled: isDisabled,\n          inputValue: index === this.selectedIndex,\n          small: this.smallChips,\n        },\n        on: {\n          click: (e: MouseEvent) => {\n            if (isDisabled) return\n\n            e.stopPropagation()\n\n            this.selectedIndex = index\n          },\n          'click:close': () => this.onChipInput(item),\n        },\n        key: JSON.stringify(this.getValue(item)),\n      }, this.getText(item))\n    },\n    genCommaSelection (item: object, index: number, last: boolean) {\n      const color = index === this.selectedIndex && this.computedColor\n      const isDisabled = (\n        !this.isInteractive ||\n        this.getDisabled(item)\n      )\n\n      return this.$createElement('div', this.setTextColor(color, {\n        staticClass: 'v-select__selection v-select__selection--comma',\n        class: {\n          'v-select__selection--disabled': isDisabled,\n        },\n        key: JSON.stringify(this.getValue(item)),\n      }), `${this.getText(item)}${last ? '' : ', '}`)\n    },\n    genDefaultSlot (): (VNode | VNode[] | null)[] {\n      const selections = this.genSelections()\n      const input = this.genInput()\n\n      // If the return is an empty array\n      // push the input\n      if (Array.isArray(selections)) {\n        selections.push(input)\n      // Otherwise push it into children\n      } else {\n        selections.children = selections.children || []\n        selections.children.push(input)\n      }\n\n      return [\n        this.genFieldset(),\n        this.$createElement('div', {\n          staticClass: 'v-select__slot',\n          directives: this.directives,\n        }, [\n          this.genLabel(),\n          this.prefix ? this.genAffix('prefix') : null,\n          selections,\n          this.suffix ? this.genAffix('suffix') : null,\n          this.genClearIcon(),\n          this.genIconSlot(),\n          this.genHiddenInput(),\n        ]),\n        this.genMenu(),\n        this.genProgress(),\n      ]\n    },\n    genIcon (\n      type: string,\n      cb?: (e: Event) => void,\n      extraData?: VNodeData\n    ) {\n      const icon = VInput.options.methods.genIcon.call(this, type, cb, extraData)\n\n      if (type === 'append') {\n        // Don't allow the dropdown icon to be focused\n        icon.children![0].data = mergeData(icon.children![0].data!, {\n          attrs: {\n            tabindex: icon.children![0].componentOptions!.listeners && '-1',\n            'aria-hidden': 'true',\n            'aria-label': undefined,\n          },\n        })\n      }\n\n      return icon\n    },\n    genInput (): VNode {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      delete input.data!.attrs!.name\n\n      input.data = mergeData(input.data!, {\n        domProps: { value: null },\n        attrs: {\n          readonly: true,\n          type: 'text',\n          'aria-readonly': String(this.isReadonly),\n          'aria-activedescendant': getObjectValueByPath(this.$refs.menu, 'activeTile.id'),\n          autocomplete: getObjectValueByPath(input.data!, 'attrs.autocomplete', 'off'),\n        },\n        on: { keypress: this.onKeyPress },\n      })\n\n      return input\n    },\n    genHiddenInput (): VNode {\n      return this.$createElement('input', {\n        domProps: { value: this.lazyValue },\n        attrs: {\n          type: 'hidden',\n          name: this.attrs$.name,\n        },\n      })\n    },\n    genInputSlot (): VNode {\n      const render = VTextField.options.methods.genInputSlot.call(this)\n\n      render.data!.attrs = {\n        ...render.data!.attrs,\n        role: 'button',\n        'aria-haspopup': 'listbox',\n        'aria-expanded': String(this.isMenuActive),\n        'aria-owns': this.computedOwns,\n      }\n\n      return render\n    },\n    genList (): VNode {\n      // If there's no slots, we can use a cached VNode to improve performance\n      if (this.$slots['no-data'] || this.$slots['prepend-item'] || this.$slots['append-item']) {\n        return this.genListWithSlot()\n      } else {\n        return this.staticList\n      }\n    },\n    genListWithSlot (): VNode {\n      const slots = ['prepend-item', 'no-data', 'append-item']\n        .filter(slotName => this.$slots[slotName])\n        .map(slotName => this.$createElement('template', {\n          slot: slotName,\n        }, this.$slots[slotName]))\n      // Requires destructuring due to Vue\n      // modifying the `on` property when passed\n      // as a referenced object\n      return this.$createElement(VSelectList, {\n        ...this.listData,\n      }, slots)\n    },\n    genMenu (): VNode {\n      const props = this.$_menuProps as any\n      props.activator = this.$refs['input-slot']\n\n      // Attach to root el so that\n      // menu covers prepend/append icons\n      if (\n        // TODO: make this a computed property or helper or something\n        this.attach === '' || // If used as a boolean prop (<v-menu attach>)\n        this.attach === true || // If bound to a boolean (<v-menu :attach=\"true\">)\n        this.attach === 'attach' // If bound as boolean prop in pug (v-menu(attach))\n      ) {\n        props.attach = this.$el\n      } else {\n        props.attach = this.attach\n      }\n\n      return this.$createElement(VMenu, {\n        attrs: { role: undefined },\n        props,\n        on: {\n          input: (val: boolean) => {\n            this.isMenuActive = val\n            this.isFocused = val\n          },\n          scroll: this.onScroll,\n        },\n        ref: 'menu',\n      }, [this.genList()])\n    },\n    genSelections (): VNode {\n      let length = this.selectedItems.length\n      const children = new Array(length)\n\n      let genSelection\n      if (this.$scopedSlots.selection) {\n        genSelection = this.genSlotSelection\n      } else if (this.hasChips) {\n        genSelection = this.genChipSelection\n      } else {\n        genSelection = this.genCommaSelection\n      }\n\n      while (length--) {\n        children[length] = genSelection(\n          this.selectedItems[length],\n          length,\n          length === children.length - 1\n        )\n      }\n\n      return this.$createElement('div', {\n        staticClass: 'v-select__selections',\n      }, children)\n    },\n    genSlotSelection (item: object, index: number): VNode[] | undefined {\n      return this.$scopedSlots.selection!({\n        attrs: {\n          class: 'v-chip--select',\n        },\n        parent: this,\n        item,\n        index,\n        select: (e: Event) => {\n          e.stopPropagation()\n          this.selectedIndex = index\n        },\n        selected: index === this.selectedIndex,\n        disabled: !this.isInteractive,\n      })\n    },\n    getMenuIndex () {\n      return this.$refs.menu ? (this.$refs.menu as { [key: string]: any }).listIndex : -1\n    },\n    getDisabled (item: object) {\n      return getPropertyFromItem(item, this.itemDisabled, false)\n    },\n    getText (item: object) {\n      return getPropertyFromItem(item, this.itemText, item)\n    },\n    getValue (item: object) {\n      return getPropertyFromItem(item, this.itemValue, this.getText(item))\n    },\n    onBlur (e?: Event) {\n      e && this.$emit('blur', e)\n    },\n    onChipInput (item: object) {\n      if (this.multiple) this.selectItem(item)\n      else this.setValue(null)\n      // If all items have been deleted,\n      // open `v-menu`\n      if (this.selectedItems.length === 0) {\n        this.isMenuActive = true\n      } else {\n        this.isMenuActive = false\n      }\n      this.selectedIndex = -1\n    },\n    onClick (e: MouseEvent) {\n      if (!this.isInteractive) return\n\n      if (!this.isAppendInner(e.target)) {\n        this.isMenuActive = true\n      }\n\n      if (!this.isFocused) {\n        this.isFocused = true\n        this.$emit('focus')\n      }\n\n      this.$emit('click', e)\n    },\n    onEscDown (e: Event) {\n      e.preventDefault()\n      if (this.isMenuActive) {\n        e.stopPropagation()\n        this.isMenuActive = false\n      }\n    },\n    onKeyPress (e: KeyboardEvent) {\n      if (\n        this.multiple ||\n        !this.isInteractive ||\n        this.disableLookup\n      ) return\n\n      const KEYBOARD_LOOKUP_THRESHOLD = 1000 // milliseconds\n      const now = performance.now()\n      if (now - this.keyboardLookupLastTime > KEYBOARD_LOOKUP_THRESHOLD) {\n        this.keyboardLookupPrefix = ''\n      }\n      this.keyboardLookupPrefix += e.key.toLowerCase()\n      this.keyboardLookupLastTime = now\n\n      const index = this.allItems.findIndex(item => {\n        const text = (this.getText(item) || '').toString()\n\n        return text.toLowerCase().startsWith(this.keyboardLookupPrefix)\n      })\n      const item = this.allItems[index]\n      if (index !== -1) {\n        this.lastItem = Math.max(this.lastItem, index + 5)\n        this.setValue(this.returnObject ? item : this.getValue(item))\n        this.$nextTick(() => this.$refs.menu.getTiles())\n        setTimeout(() => this.setMenuIndex(index))\n      }\n    },\n    onKeyDown (e: KeyboardEvent) {\n      if (this.isReadonly && e.keyCode !== keyCodes.tab) return\n\n      const keyCode = e.keyCode\n      const menu = this.$refs.menu\n\n      // If enter, space, open menu\n      if ([\n        keyCodes.enter,\n        keyCodes.space,\n      ].includes(keyCode)) this.activateMenu()\n\n      this.$emit('keydown', e)\n\n      if (!menu) return\n\n      // If menu is active, allow default\n      // listIndex change from menu\n      if (this.isMenuActive && keyCode !== keyCodes.tab) {\n        this.$nextTick(() => {\n          menu.changeListIndex(e)\n          this.$emit('update:list-index', menu.listIndex)\n        })\n      }\n\n      // If menu is not active, up and down can do\n      // one of 2 things. If multiple, opens the\n      // menu, if not, will cycle through all\n      // available options\n      if (\n        !this.isMenuActive &&\n        [keyCodes.up, keyCodes.down].includes(keyCode)\n      ) return this.onUpDown(e)\n\n      // If escape deactivate the menu\n      if (keyCode === keyCodes.esc) return this.onEscDown(e)\n\n      // If tab - select item or close menu\n      if (keyCode === keyCodes.tab) return this.onTabDown(e)\n\n      // If space preventDefault\n      if (keyCode === keyCodes.space) return this.onSpaceDown(e)\n    },\n    onMenuActiveChange (val: boolean) {\n      // If menu is closing and mulitple\n      // or menuIndex is already set\n      // skip menu index recalculation\n      if (\n        (this.multiple && !val) ||\n        this.getMenuIndex() > -1\n      ) return\n\n      const menu = this.$refs.menu\n\n      if (!menu || !this.isDirty) return\n\n      // When menu opens, set index of first active item\n      for (let i = 0; i < menu.tiles.length; i++) {\n        if (menu.tiles[i].getAttribute('aria-selected') === 'true') {\n          this.setMenuIndex(i)\n          break\n        }\n      }\n    },\n    onMouseUp (e: MouseEvent) {\n      if (\n        this.hasMouseDown &&\n        e.which !== 3 &&\n        this.isInteractive\n      ) {\n        // If append inner is present\n        // and the target is itself\n        // or inside, toggle menu\n        if (this.isAppendInner(e.target)) {\n          this.$nextTick(() => (this.isMenuActive = !this.isMenuActive))\n        // If user is clicking in the container\n        // and field is enclosed, activate it\n        } else if (this.isEnclosed) {\n          this.isMenuActive = true\n        }\n      }\n\n      VTextField.options.methods.onMouseUp.call(this, e)\n    },\n    onScroll () {\n      if (!this.isMenuActive) {\n        requestAnimationFrame(() => (this.getContent().scrollTop = 0))\n      } else {\n        if (this.lastItem > this.computedItems.length) return\n\n        const showMoreItems = (\n          this.getContent().scrollHeight -\n          (this.getContent().scrollTop +\n          this.getContent().clientHeight)\n        ) < 200\n\n        if (showMoreItems) {\n          this.lastItem += 20\n        }\n      }\n    },\n    onSpaceDown (e: KeyboardEvent) {\n      e.preventDefault()\n    },\n    onTabDown (e: KeyboardEvent) {\n      const menu = this.$refs.menu\n\n      if (!menu) return\n\n      const activeTile = menu.activeTile\n\n      // An item that is selected by\n      // menu-index should toggled\n      if (\n        !this.multiple &&\n        activeTile &&\n        this.isMenuActive\n      ) {\n        e.preventDefault()\n        e.stopPropagation()\n\n        activeTile.click()\n      } else {\n        // If we make it here,\n        // the user has no selected indexes\n        // and is probably tabbing out\n        this.blur(e)\n      }\n    },\n    onUpDown (e: KeyboardEvent) {\n      const menu = this.$refs.menu\n\n      if (!menu) return\n\n      e.preventDefault()\n\n      // Multiple selects do not cycle their value\n      // when pressing up or down, instead activate\n      // the menu\n      if (this.multiple) return this.activateMenu()\n\n      const keyCode = e.keyCode\n\n      // Cycle through available values to achieve\n      // select native behavior\n      menu.isBooted = true\n\n      window.requestAnimationFrame(() => {\n        menu.getTiles()\n        keyCodes.up === keyCode ? menu.prevTile() : menu.nextTile()\n        menu.activeTile && menu.activeTile.click()\n      })\n    },\n    selectItem (item: object) {\n      if (!this.multiple) {\n        this.setValue(this.returnObject ? item : this.getValue(item))\n        this.isMenuActive = false\n      } else {\n        const internalValue = (this.internalValue || []).slice()\n        const i = this.findExistingIndex(item)\n\n        i !== -1 ? internalValue.splice(i, 1) : internalValue.push(item)\n        this.setValue(internalValue.map((i: object) => {\n          return this.returnObject ? i : this.getValue(i)\n        }))\n\n        // When selecting multiple\n        // adjust menu after each\n        // selection\n        this.$nextTick(() => {\n          this.$refs.menu &&\n            (this.$refs.menu as { [key: string]: any }).updateDimensions()\n        })\n\n        // We only need to reset list index for multiple\n        // to keep highlight when an item is toggled\n        // on and off\n        if (!this.multiple) return\n\n        const listIndex = this.getMenuIndex()\n\n        this.setMenuIndex(-1)\n\n        // There is no item to re-highlight\n        // when selections are hidden\n        if (this.hideSelected) return\n\n        this.$nextTick(() => this.setMenuIndex(listIndex))\n      }\n    },\n    setMenuIndex (index: number) {\n      this.$refs.menu && ((this.$refs.menu as { [key: string]: any }).listIndex = index)\n    },\n    setSelectedItems () {\n      const selectedItems = []\n      const values = !this.multiple || !Array.isArray(this.internalValue)\n        ? [this.internalValue]\n        : this.internalValue\n\n      for (const value of values) {\n        const index = this.allItems.findIndex(v => this.valueComparator(\n          this.getValue(v),\n          this.getValue(value)\n        ))\n\n        if (index > -1) {\n          selectedItems.push(this.allItems[index])\n        }\n      }\n\n      this.selectedItems = selectedItems\n    },\n    setValue (value: any) {\n      const oldValue = this.internalValue\n      this.internalValue = value\n      value !== oldValue && this.$emit('change', value)\n    },\n    isAppendInner (target: any) {\n      // return true if append inner is present\n      // and the target is itself or inside\n      const appendInner = this.$refs['append-inner']\n\n      return appendInner && (appendInner === target || appendInner.contains(target))\n    },\n  },\n})\n","import { render, staticRenderFns } from \"./Teoricos.vue?vue&type=template&id=278eedf9&scoped=true&\"\nimport script from \"./Teoricos.vue?vue&type=script&lang=js&\"\nexport * from \"./Teoricos.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Teoricos.vue?vue&type=style&index=0&id=278eedf9&prod&lang=css&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"278eedf9\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VDivider,VImg,VOverlay,VProgressCircular,VProgressLinear,VRow,VSelect,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('h1',[_vm._v(\"This is an about page\")])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./About.vue?vue&type=template&id=1ae8a7be&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}